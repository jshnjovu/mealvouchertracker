var t2=Object.defineProperty;var f1=e=>{throw TypeError(e)};var n2=(e,t,s)=>t in e?t2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Ec=(e,t,s)=>n2(e,typeof t!="symbol"?t+"":t,s),Cc=(e,t,s)=>t.has(e)||f1("Cannot "+s);var U=(e,t,s)=>(Cc(e,t,"read from private field"),s?s.call(e):t.get(e)),ke=(e,t,s)=>t.has(e)?f1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),ve=(e,t,s,c)=>(Cc(e,t,"write to private field"),c?c.call(e,s):t.set(e,s),s),Ve=(e,t,s)=>(Cc(e,t,"access private method"),s);var Ul=(e,t,s,c)=>({set _(h){ve(e,t,h,s)},get _(){return U(e,t,c)}});function r2(e,t){for(var s=0;s<t.length;s++){const c=t[s];if(typeof c!="string"&&!Array.isArray(c)){for(const h in c)if(h!=="default"&&!(h in e)){const p=Object.getOwnPropertyDescriptor(c,h);p&&Object.defineProperty(e,h,p.get?p:{enumerable:!0,get:()=>c[h]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))c(h);new MutationObserver(h=>{for(const p of h)if(p.type==="childList")for(const m of p.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&c(m)}).observe(document,{childList:!0,subtree:!0});function s(h){const p={};return h.integrity&&(p.integrity=h.integrity),h.referrerPolicy&&(p.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?p.credentials="include":h.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function c(h){if(h.ep)return;h.ep=!0;const p=s(h);fetch(h.href,p)}})();var Ms=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function od(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ad={exports:{}},Zu={},ld={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Al=Symbol.for("react.element"),i2=Symbol.for("react.portal"),s2=Symbol.for("react.fragment"),o2=Symbol.for("react.strict_mode"),a2=Symbol.for("react.profiler"),l2=Symbol.for("react.provider"),u2=Symbol.for("react.context"),c2=Symbol.for("react.forward_ref"),f2=Symbol.for("react.suspense"),h2=Symbol.for("react.memo"),d2=Symbol.for("react.lazy"),h1=Symbol.iterator;function p2(e){return e===null||typeof e!="object"?null:(e=h1&&e[h1]||e["@@iterator"],typeof e=="function"?e:null)}var ud={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cd=Object.assign,fd={};function fa(e,t,s){this.props=e,this.context=t,this.refs=fd,this.updater=s||ud}fa.prototype.isReactComponent={};fa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hd(){}hd.prototype=fa.prototype;function hh(e,t,s){this.props=e,this.context=t,this.refs=fd,this.updater=s||ud}var dh=hh.prototype=new hd;dh.constructor=hh;cd(dh,fa.prototype);dh.isPureReactComponent=!0;var d1=Array.isArray,dd=Object.prototype.hasOwnProperty,ph={current:null},pd={key:!0,ref:!0,__self:!0,__source:!0};function gd(e,t,s){var c,h={},p=null,m=null;if(t!=null)for(c in t.ref!==void 0&&(m=t.ref),t.key!==void 0&&(p=""+t.key),t)dd.call(t,c)&&!pd.hasOwnProperty(c)&&(h[c]=t[c]);var v=arguments.length-2;if(v===1)h.children=s;else if(1<v){for(var E=Array(v),w=0;w<v;w++)E[w]=arguments[w+2];h.children=E}if(e&&e.defaultProps)for(c in v=e.defaultProps,v)h[c]===void 0&&(h[c]=v[c]);return{$$typeof:Al,type:e,key:p,ref:m,props:h,_owner:ph.current}}function g2(e,t){return{$$typeof:Al,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Al}function m2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var p1=/\/+/g;function Ac(e,t){return typeof e=="object"&&e!==null&&e.key!=null?m2(""+e.key):t.toString(36)}function iu(e,t,s,c,h){var p=typeof e;(p==="undefined"||p==="boolean")&&(e=null);var m=!1;if(e===null)m=!0;else switch(p){case"string":case"number":m=!0;break;case"object":switch(e.$$typeof){case Al:case i2:m=!0}}if(m)return m=e,h=h(m),e=c===""?"."+Ac(m,0):c,d1(h)?(s="",e!=null&&(s=e.replace(p1,"$&/")+"/"),iu(h,t,s,"",function(w){return w})):h!=null&&(gh(h)&&(h=g2(h,s+(!h.key||m&&m.key===h.key?"":(""+h.key).replace(p1,"$&/")+"/")+e)),t.push(h)),1;if(m=0,c=c===""?".":c+":",d1(e))for(var v=0;v<e.length;v++){p=e[v];var E=c+Ac(p,v);m+=iu(p,t,s,E,h)}else if(E=p2(e),typeof E=="function")for(e=E.call(e),v=0;!(p=e.next()).done;)p=p.value,E=c+Ac(p,v++),m+=iu(p,t,s,E,h);else if(p==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return m}function jl(e,t,s){if(e==null)return e;var c=[],h=0;return iu(e,c,"","",function(p){return t.call(s,p,h++)}),c}function x2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Dn={current:null},su={transition:null},y2={ReactCurrentDispatcher:Dn,ReactCurrentBatchConfig:su,ReactCurrentOwner:ph};function md(){throw Error("act(...) is not supported in production builds of React.")}qe.Children={map:jl,forEach:function(e,t,s){jl(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return jl(e,function(){t++}),t},toArray:function(e){return jl(e,function(t){return t})||[]},only:function(e){if(!gh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};qe.Component=fa;qe.Fragment=s2;qe.Profiler=a2;qe.PureComponent=hh;qe.StrictMode=o2;qe.Suspense=f2;qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y2;qe.act=md;qe.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var c=cd({},e.props),h=e.key,p=e.ref,m=e._owner;if(t!=null){if(t.ref!==void 0&&(p=t.ref,m=ph.current),t.key!==void 0&&(h=""+t.key),e.type&&e.type.defaultProps)var v=e.type.defaultProps;for(E in t)dd.call(t,E)&&!pd.hasOwnProperty(E)&&(c[E]=t[E]===void 0&&v!==void 0?v[E]:t[E])}var E=arguments.length-2;if(E===1)c.children=s;else if(1<E){v=Array(E);for(var w=0;w<E;w++)v[w]=arguments[w+2];c.children=v}return{$$typeof:Al,type:e.type,key:h,ref:p,props:c,_owner:m}};qe.createContext=function(e){return e={$$typeof:u2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:l2,_context:e},e.Consumer=e};qe.createElement=gd;qe.createFactory=function(e){var t=gd.bind(null,e);return t.type=e,t};qe.createRef=function(){return{current:null}};qe.forwardRef=function(e){return{$$typeof:c2,render:e}};qe.isValidElement=gh;qe.lazy=function(e){return{$$typeof:d2,_payload:{_status:-1,_result:e},_init:x2}};qe.memo=function(e,t){return{$$typeof:h2,type:e,compare:t===void 0?null:t}};qe.startTransition=function(e){var t=su.transition;su.transition={};try{e()}finally{su.transition=t}};qe.unstable_act=md;qe.useCallback=function(e,t){return Dn.current.useCallback(e,t)};qe.useContext=function(e){return Dn.current.useContext(e)};qe.useDebugValue=function(){};qe.useDeferredValue=function(e){return Dn.current.useDeferredValue(e)};qe.useEffect=function(e,t){return Dn.current.useEffect(e,t)};qe.useId=function(){return Dn.current.useId()};qe.useImperativeHandle=function(e,t,s){return Dn.current.useImperativeHandle(e,t,s)};qe.useInsertionEffect=function(e,t){return Dn.current.useInsertionEffect(e,t)};qe.useLayoutEffect=function(e,t){return Dn.current.useLayoutEffect(e,t)};qe.useMemo=function(e,t){return Dn.current.useMemo(e,t)};qe.useReducer=function(e,t,s){return Dn.current.useReducer(e,t,s)};qe.useRef=function(e){return Dn.current.useRef(e)};qe.useState=function(e){return Dn.current.useState(e)};qe.useSyncExternalStore=function(e,t,s){return Dn.current.useSyncExternalStore(e,t,s)};qe.useTransition=function(){return Dn.current.useTransition()};qe.version="18.3.1";ld.exports=qe;var ie=ld.exports;const xd=od(ie),w2=r2({__proto__:null,default:xd},[ie]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v2=ie,E2=Symbol.for("react.element"),C2=Symbol.for("react.fragment"),A2=Object.prototype.hasOwnProperty,S2=v2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I2={key:!0,ref:!0,__self:!0,__source:!0};function yd(e,t,s){var c,h={},p=null,m=null;s!==void 0&&(p=""+s),t.key!==void 0&&(p=""+t.key),t.ref!==void 0&&(m=t.ref);for(c in t)A2.call(t,c)&&!I2.hasOwnProperty(c)&&(h[c]=t[c]);if(e&&e.defaultProps)for(c in t=e.defaultProps,t)h[c]===void 0&&(h[c]=t[c]);return{$$typeof:E2,type:e,key:p,ref:m,props:h,_owner:S2.current}}Zu.Fragment=C2;Zu.jsx=yd;Zu.jsxs=yd;ad.exports=Zu;var Q=ad.exports,Zc={},wd={exports:{}},or={},vd={exports:{}},Ed={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(pe,Te){var Ne=pe.length;pe.push(Te);e:for(;0<Ne;){var xt=Ne-1>>>1,Qe=pe[xt];if(0<h(Qe,Te))pe[xt]=Te,pe[Ne]=Qe,Ne=xt;else break e}}function s(pe){return pe.length===0?null:pe[0]}function c(pe){if(pe.length===0)return null;var Te=pe[0],Ne=pe.pop();if(Ne!==Te){pe[0]=Ne;e:for(var xt=0,Qe=pe.length,Zt=Qe>>>1;xt<Zt;){var Ct=2*(xt+1)-1,lr=pe[Ct],Ce=Ct+1,ur=pe[Ce];if(0>h(lr,Ne))Ce<Qe&&0>h(ur,lr)?(pe[xt]=ur,pe[Ce]=Ne,xt=Ce):(pe[xt]=lr,pe[Ct]=Ne,xt=Ct);else if(Ce<Qe&&0>h(ur,Ne))pe[xt]=ur,pe[Ce]=Ne,xt=Ce;else break e}}return Te}function h(pe,Te){var Ne=pe.sortIndex-Te.sortIndex;return Ne!==0?Ne:pe.id-Te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;e.unstable_now=function(){return p.now()}}else{var m=Date,v=m.now();e.unstable_now=function(){return m.now()-v}}var E=[],w=[],O=1,I=null,B=3,V=!1,K=!1,G=!1,se=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(pe){for(var Te=s(w);Te!==null;){if(Te.callback===null)c(w);else if(Te.startTime<=pe)c(w),Te.sortIndex=Te.expirationTime,t(E,Te);else break;Te=s(w)}}function z(pe){if(G=!1,P(pe),!K)if(s(E)!==null)K=!0,Et(oe);else{var Te=s(w);Te!==null&&Pe(z,Te.startTime-pe)}}function oe(pe,Te){K=!1,G&&(G=!1,L(ee),ee=-1),V=!0;var Ne=B;try{for(P(Te),I=s(E);I!==null&&(!(I.expirationTime>Te)||pe&&!lt());){var xt=I.callback;if(typeof xt=="function"){I.callback=null,B=I.priorityLevel;var Qe=xt(I.expirationTime<=Te);Te=e.unstable_now(),typeof Qe=="function"?I.callback=Qe:I===s(E)&&c(E),P(Te)}else c(E);I=s(E)}if(I!==null)var Zt=!0;else{var Ct=s(w);Ct!==null&&Pe(z,Ct.startTime-Te),Zt=!1}return Zt}finally{I=null,B=Ne,V=!1}}var ne=!1,W=null,ee=-1,te=5,De=-1;function lt(){return!(e.unstable_now()-De<te)}function be(){if(W!==null){var pe=e.unstable_now();De=pe;var Te=!0;try{Te=W(!0,pe)}finally{Te?Fe():(ne=!1,W=null)}}else ne=!1}var Fe;if(typeof T=="function")Fe=function(){T(be)};else if(typeof MessageChannel<"u"){var kt=new MessageChannel,$=kt.port2;kt.port1.onmessage=be,Fe=function(){$.postMessage(null)}}else Fe=function(){se(be,0)};function Et(pe){W=pe,ne||(ne=!0,Fe())}function Pe(pe,Te){ee=se(function(){pe(e.unstable_now())},Te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(pe){pe.callback=null},e.unstable_continueExecution=function(){K||V||(K=!0,Et(oe))},e.unstable_forceFrameRate=function(pe){0>pe||125<pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<pe?Math.floor(1e3/pe):5},e.unstable_getCurrentPriorityLevel=function(){return B},e.unstable_getFirstCallbackNode=function(){return s(E)},e.unstable_next=function(pe){switch(B){case 1:case 2:case 3:var Te=3;break;default:Te=B}var Ne=B;B=Te;try{return pe()}finally{B=Ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(pe,Te){switch(pe){case 1:case 2:case 3:case 4:case 5:break;default:pe=3}var Ne=B;B=pe;try{return Te()}finally{B=Ne}},e.unstable_scheduleCallback=function(pe,Te,Ne){var xt=e.unstable_now();switch(typeof Ne=="object"&&Ne!==null?(Ne=Ne.delay,Ne=typeof Ne=="number"&&0<Ne?xt+Ne:xt):Ne=xt,pe){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=Ne+Qe,pe={id:O++,callback:Te,priorityLevel:pe,startTime:Ne,expirationTime:Qe,sortIndex:-1},Ne>xt?(pe.sortIndex=Ne,t(w,pe),s(E)===null&&pe===s(w)&&(G?(L(ee),ee=-1):G=!0,Pe(z,Ne-xt))):(pe.sortIndex=Qe,t(E,pe),K||V||(K=!0,Et(oe))),pe},e.unstable_shouldYield=lt,e.unstable_wrapCallback=function(pe){var Te=B;return function(){var Ne=B;B=Te;try{return pe.apply(this,arguments)}finally{B=Ne}}}})(Ed);vd.exports=Ed;var _2=vd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2=ie,sr=_2;function ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cd=new Set,$a={};function eo(e,t){na(e,t),na(e+"Capture",t)}function na(e,t){for($a[e]=t,e=0;e<t.length;e++)Cd.add(t[e])}var Ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jc=Object.prototype.hasOwnProperty,T2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g1={},m1={};function N2(e){return Jc.call(m1,e)?!0:Jc.call(g1,e)?!1:T2.test(e)?m1[e]=!0:(g1[e]=!0,!1)}function O2(e,t,s,c){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return c?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R2(e,t,s,c){if(t===null||typeof t>"u"||O2(e,t,s,c))return!0;if(c)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kn(e,t,s,c,h,p,m){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=p,this.removeEmptyString=m}var gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){gn[e]=new kn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];gn[t]=new kn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){gn[e]=new kn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){gn[e]=new kn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){gn[e]=new kn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){gn[e]=new kn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){gn[e]=new kn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){gn[e]=new kn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){gn[e]=new kn(e,5,!1,e.toLowerCase(),null,!1,!1)});var mh=/[\-:]([a-z])/g;function xh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mh,xh);gn[t]=new kn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mh,xh);gn[t]=new kn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mh,xh);gn[t]=new kn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){gn[e]=new kn(e,1,!1,e.toLowerCase(),null,!1,!1)});gn.xlinkHref=new kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){gn[e]=new kn(e,1,!1,e.toLowerCase(),null,!0,!0)});function yh(e,t,s,c){var h=gn.hasOwnProperty(t)?gn[t]:null;(h!==null?h.type!==0:c||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(R2(t,s,h,c)&&(s=null),c||h===null?N2(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):h.mustUseProperty?e[h.propertyName]=s===null?h.type===3?!1:"":s:(t=h.attributeName,c=h.attributeNamespace,s===null?e.removeAttribute(t):(h=h.type,s=h===3||h===4&&s===!0?"":""+s,c?e.setAttributeNS(c,t,s):e.setAttribute(t,s))))}var _i=b2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vl=Symbol.for("react.element"),Ao=Symbol.for("react.portal"),So=Symbol.for("react.fragment"),wh=Symbol.for("react.strict_mode"),$c=Symbol.for("react.profiler"),Ad=Symbol.for("react.provider"),Sd=Symbol.for("react.context"),vh=Symbol.for("react.forward_ref"),ef=Symbol.for("react.suspense"),tf=Symbol.for("react.suspense_list"),Eh=Symbol.for("react.memo"),Fi=Symbol.for("react.lazy"),Id=Symbol.for("react.offscreen"),x1=Symbol.iterator;function Ra(e){return e===null||typeof e!="object"?null:(e=x1&&e[x1]||e["@@iterator"],typeof e=="function"?e:null)}var Ut=Object.assign,Sc;function Ua(e){if(Sc===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Sc=t&&t[1]||""}return`
`+Sc+e}var Ic=!1;function _c(e,t){if(!e||Ic)return"";Ic=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(w){var c=w}Reflect.construct(e,[],t)}else{try{t.call()}catch(w){c=w}e.call(t.prototype)}else{try{throw Error()}catch(w){c=w}e()}}catch(w){if(w&&c&&typeof w.stack=="string"){for(var h=w.stack.split(`
`),p=c.stack.split(`
`),m=h.length-1,v=p.length-1;1<=m&&0<=v&&h[m]!==p[v];)v--;for(;1<=m&&0<=v;m--,v--)if(h[m]!==p[v]){if(m!==1||v!==1)do if(m--,v--,0>v||h[m]!==p[v]){var E=`
`+h[m].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=m&&0<=v);break}}}finally{Ic=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Ua(e):""}function D2(e){switch(e.tag){case 5:return Ua(e.type);case 16:return Ua("Lazy");case 13:return Ua("Suspense");case 19:return Ua("SuspenseList");case 0:case 2:case 15:return e=_c(e.type,!1),e;case 11:return e=_c(e.type.render,!1),e;case 1:return e=_c(e.type,!0),e;default:return""}}function nf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case So:return"Fragment";case Ao:return"Portal";case $c:return"Profiler";case wh:return"StrictMode";case ef:return"Suspense";case tf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Sd:return(e.displayName||"Context")+".Consumer";case Ad:return(e._context.displayName||"Context")+".Provider";case vh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Eh:return t=e.displayName||null,t!==null?t:nf(e.type)||"Memo";case Fi:t=e._payload,e=e._init;try{return nf(e(t))}catch{}}return null}function k2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nf(t);case 8:return t===wh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ls(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _d(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function P2(e){var t=_d(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),c=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,p=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return h.call(this)},set:function(m){c=""+m,p.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(m){c=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zl(e){e._valueTracker||(e._valueTracker=P2(e))}function bd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),c="";return e&&(c=_d(e)?e.checked?"true":"false":e.value),e=c,e!==s?(t.setValue(e),!0):!1}function yu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rf(e,t){var s=t.checked;return Ut({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function y1(e,t){var s=t.defaultValue==null?"":t.defaultValue,c=t.checked!=null?t.checked:t.defaultChecked;s=ls(t.value!=null?t.value:s),e._wrapperState={initialChecked:c,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Td(e,t){t=t.checked,t!=null&&yh(e,"checked",t,!1)}function sf(e,t){Td(e,t);var s=ls(t.value),c=t.type;if(s!=null)c==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?of(e,t.type,s):t.hasOwnProperty("defaultValue")&&of(e,t.type,ls(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function w1(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var c=t.type;if(!(c!=="submit"&&c!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function of(e,t,s){(t!=="number"||yu(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var ja=Array.isArray;function Bo(e,t,s,c){if(e=e.options,t){t={};for(var h=0;h<s.length;h++)t["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=t.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&c&&(e[s].defaultSelected=!0)}else{for(s=""+ls(s),t=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,c&&(e[h].defaultSelected=!0);return}t!==null||e[h].disabled||(t=e[h])}t!==null&&(t.selected=!0)}}function af(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ue(91));return Ut({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function v1(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(ue(92));if(ja(s)){if(1<s.length)throw Error(ue(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:ls(s)}}function Nd(e,t){var s=ls(t.value),c=ls(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),c!=null&&(e.defaultValue=""+c)}function E1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Od(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Od(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wl,Rd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,c,h){MSApp.execUnsafeLocalFunction(function(){return e(t,s,c,h)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wl=Wl||document.createElement("div"),Wl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function el(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Ha={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M2=["Webkit","ms","Moz","O"];Object.keys(Ha).forEach(function(e){M2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ha[t]=Ha[e]})});function Dd(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Ha.hasOwnProperty(e)&&Ha[e]?(""+t).trim():t+"px"}function kd(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var c=s.indexOf("--")===0,h=Dd(s,t[s],c);s==="float"&&(s="cssFloat"),c?e.setProperty(s,h):e[s]=h}}var B2=Ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uf(e,t){if(t){if(B2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ue(62))}}function cf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ff=null;function Ch(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hf=null,Lo=null,Fo=null;function C1(e){if(e=_l(e)){if(typeof hf!="function")throw Error(ue(280));var t=e.stateNode;t&&(t=nc(t),hf(e.stateNode,e.type,t))}}function Pd(e){Lo?Fo?Fo.push(e):Fo=[e]:Lo=e}function Md(){if(Lo){var e=Lo,t=Fo;if(Fo=Lo=null,C1(e),t)for(e=0;e<t.length;e++)C1(t[e])}}function Bd(e,t){return e(t)}function Ld(){}var bc=!1;function Fd(e,t,s){if(bc)return e(t,s);bc=!0;try{return Bd(e,t,s)}finally{bc=!1,(Lo!==null||Fo!==null)&&(Ld(),Md())}}function tl(e,t){var s=e.stateNode;if(s===null)return null;var c=nc(s);if(c===null)return null;s=c[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(ue(231,t,typeof s));return s}var df=!1;if(Ci)try{var Da={};Object.defineProperty(Da,"passive",{get:function(){df=!0}}),window.addEventListener("test",Da,Da),window.removeEventListener("test",Da,Da)}catch{df=!1}function L2(e,t,s,c,h,p,m,v,E){var w=Array.prototype.slice.call(arguments,3);try{t.apply(s,w)}catch(O){this.onError(O)}}var Ga=!1,wu=null,vu=!1,pf=null,F2={onError:function(e){Ga=!0,wu=e}};function U2(e,t,s,c,h,p,m,v,E){Ga=!1,wu=null,L2.apply(F2,arguments)}function j2(e,t,s,c,h,p,m,v,E){if(U2.apply(this,arguments),Ga){if(Ga){var w=wu;Ga=!1,wu=null}else throw Error(ue(198));vu||(vu=!0,pf=w)}}function to(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Ud(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function A1(e){if(to(e)!==e)throw Error(ue(188))}function V2(e){var t=e.alternate;if(!t){if(t=to(e),t===null)throw Error(ue(188));return t!==e?null:e}for(var s=e,c=t;;){var h=s.return;if(h===null)break;var p=h.alternate;if(p===null){if(c=h.return,c!==null){s=c;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===s)return A1(h),e;if(p===c)return A1(h),t;p=p.sibling}throw Error(ue(188))}if(s.return!==c.return)s=h,c=p;else{for(var m=!1,v=h.child;v;){if(v===s){m=!0,s=h,c=p;break}if(v===c){m=!0,c=h,s=p;break}v=v.sibling}if(!m){for(v=p.child;v;){if(v===s){m=!0,s=p,c=h;break}if(v===c){m=!0,c=p,s=h;break}v=v.sibling}if(!m)throw Error(ue(189))}}if(s.alternate!==c)throw Error(ue(190))}if(s.tag!==3)throw Error(ue(188));return s.stateNode.current===s?e:t}function jd(e){return e=V2(e),e!==null?Vd(e):null}function Vd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Vd(e);if(t!==null)return t;e=e.sibling}return null}var zd=sr.unstable_scheduleCallback,S1=sr.unstable_cancelCallback,z2=sr.unstable_shouldYield,W2=sr.unstable_requestPaint,Kt=sr.unstable_now,H2=sr.unstable_getCurrentPriorityLevel,Ah=sr.unstable_ImmediatePriority,Wd=sr.unstable_UserBlockingPriority,Eu=sr.unstable_NormalPriority,G2=sr.unstable_LowPriority,Hd=sr.unstable_IdlePriority,Ju=null,si=null;function X2(e){if(si&&typeof si.onCommitFiberRoot=="function")try{si.onCommitFiberRoot(Ju,e,void 0,(e.current.flags&128)===128)}catch{}}var Wr=Math.clz32?Math.clz32:q2,K2=Math.log,Y2=Math.LN2;function q2(e){return e>>>=0,e===0?32:31-(K2(e)/Y2|0)|0}var Hl=64,Gl=4194304;function Va(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cu(e,t){var s=e.pendingLanes;if(s===0)return 0;var c=0,h=e.suspendedLanes,p=e.pingedLanes,m=s&268435455;if(m!==0){var v=m&~h;v!==0?c=Va(v):(p&=m,p!==0&&(c=Va(p)))}else m=s&~h,m!==0?c=Va(m):p!==0&&(c=Va(p));if(c===0)return 0;if(t!==0&&t!==c&&!(t&h)&&(h=c&-c,p=t&-t,h>=p||h===16&&(p&4194240)!==0))return t;if(c&4&&(c|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=c;0<t;)s=31-Wr(t),h=1<<s,c|=e[s],t&=~h;return c}function Q2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z2(e,t){for(var s=e.suspendedLanes,c=e.pingedLanes,h=e.expirationTimes,p=e.pendingLanes;0<p;){var m=31-Wr(p),v=1<<m,E=h[m];E===-1?(!(v&s)||v&c)&&(h[m]=Q2(v,t)):E<=t&&(e.expiredLanes|=v),p&=~v}}function gf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Gd(){var e=Hl;return Hl<<=1,!(Hl&4194240)&&(Hl=64),e}function Tc(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Sl(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wr(t),e[t]=s}function J2(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<s;){var h=31-Wr(s),p=1<<h;t[h]=0,c[h]=-1,e[h]=-1,s&=~p}}function Sh(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var c=31-Wr(s),h=1<<c;h&t|e[c]&t&&(e[c]|=t),s&=~h}}var mt=0;function Xd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Kd,Ih,Yd,qd,Qd,mf=!1,Xl=[],$i=null,es=null,ts=null,nl=new Map,rl=new Map,ji=[],$2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function I1(e,t){switch(e){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":nl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(t.pointerId)}}function ka(e,t,s,c,h,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:s,eventSystemFlags:c,nativeEvent:p,targetContainers:[h]},t!==null&&(t=_l(t),t!==null&&Ih(t)),e):(e.eventSystemFlags|=c,t=e.targetContainers,h!==null&&t.indexOf(h)===-1&&t.push(h),e)}function em(e,t,s,c,h){switch(t){case"focusin":return $i=ka($i,e,t,s,c,h),!0;case"dragenter":return es=ka(es,e,t,s,c,h),!0;case"mouseover":return ts=ka(ts,e,t,s,c,h),!0;case"pointerover":var p=h.pointerId;return nl.set(p,ka(nl.get(p)||null,e,t,s,c,h)),!0;case"gotpointercapture":return p=h.pointerId,rl.set(p,ka(rl.get(p)||null,e,t,s,c,h)),!0}return!1}function Zd(e){var t=Bs(e.target);if(t!==null){var s=to(t);if(s!==null){if(t=s.tag,t===13){if(t=Ud(s),t!==null){e.blockedOn=t,Qd(e.priority,function(){Yd(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ou(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=xf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var c=new s.constructor(s.type,s);ff=c,s.target.dispatchEvent(c),ff=null}else return t=_l(s),t!==null&&Ih(t),e.blockedOn=s,!1;t.shift()}return!0}function _1(e,t,s){ou(e)&&s.delete(t)}function tm(){mf=!1,$i!==null&&ou($i)&&($i=null),es!==null&&ou(es)&&(es=null),ts!==null&&ou(ts)&&(ts=null),nl.forEach(_1),rl.forEach(_1)}function Pa(e,t){e.blockedOn===t&&(e.blockedOn=null,mf||(mf=!0,sr.unstable_scheduleCallback(sr.unstable_NormalPriority,tm)))}function il(e){function t(h){return Pa(h,e)}if(0<Xl.length){Pa(Xl[0],e);for(var s=1;s<Xl.length;s++){var c=Xl[s];c.blockedOn===e&&(c.blockedOn=null)}}for($i!==null&&Pa($i,e),es!==null&&Pa(es,e),ts!==null&&Pa(ts,e),nl.forEach(t),rl.forEach(t),s=0;s<ji.length;s++)c=ji[s],c.blockedOn===e&&(c.blockedOn=null);for(;0<ji.length&&(s=ji[0],s.blockedOn===null);)Zd(s),s.blockedOn===null&&ji.shift()}var Uo=_i.ReactCurrentBatchConfig,Au=!0;function nm(e,t,s,c){var h=mt,p=Uo.transition;Uo.transition=null;try{mt=1,_h(e,t,s,c)}finally{mt=h,Uo.transition=p}}function rm(e,t,s,c){var h=mt,p=Uo.transition;Uo.transition=null;try{mt=4,_h(e,t,s,c)}finally{mt=h,Uo.transition=p}}function _h(e,t,s,c){if(Au){var h=xf(e,t,s,c);if(h===null)Fc(e,t,c,Su,s),I1(e,c);else if(em(h,e,t,s,c))c.stopPropagation();else if(I1(e,c),t&4&&-1<$2.indexOf(e)){for(;h!==null;){var p=_l(h);if(p!==null&&Kd(p),p=xf(e,t,s,c),p===null&&Fc(e,t,c,Su,s),p===h)break;h=p}h!==null&&c.stopPropagation()}else Fc(e,t,c,null,s)}}var Su=null;function xf(e,t,s,c){if(Su=null,e=Ch(c),e=Bs(e),e!==null)if(t=to(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Ud(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Su=e,null}function Jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(H2()){case Ah:return 1;case Wd:return 4;case Eu:case G2:return 16;case Hd:return 536870912;default:return 16}default:return 16}}var Qi=null,bh=null,au=null;function $d(){if(au)return au;var e,t=bh,s=t.length,c,h="value"in Qi?Qi.value:Qi.textContent,p=h.length;for(e=0;e<s&&t[e]===h[e];e++);var m=s-e;for(c=1;c<=m&&t[s-c]===h[p-c];c++);return au=h.slice(e,1<c?1-c:void 0)}function lu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kl(){return!0}function b1(){return!1}function ar(e){function t(s,c,h,p,m){this._reactName=s,this._targetInst=h,this.type=c,this.nativeEvent=p,this.target=m,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(s=e[v],this[v]=s?s(p):p[v]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Kl:b1,this.isPropagationStopped=b1,this}return Ut(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),t}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Th=ar(ha),Il=Ut({},ha,{view:0,detail:0}),im=ar(Il),Nc,Oc,Ma,$u=Ut({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ma&&(Ma&&e.type==="mousemove"?(Nc=e.screenX-Ma.screenX,Oc=e.screenY-Ma.screenY):Oc=Nc=0,Ma=e),Nc)},movementY:function(e){return"movementY"in e?e.movementY:Oc}}),T1=ar($u),sm=Ut({},$u,{dataTransfer:0}),om=ar(sm),am=Ut({},Il,{relatedTarget:0}),Rc=ar(am),lm=Ut({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),um=ar(lm),cm=Ut({},ha,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fm=ar(cm),hm=Ut({},ha,{data:0}),N1=ar(hm),dm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gm[e])?!!t[e]:!1}function Nh(){return mm}var xm=Ut({},Il,{key:function(e){if(e.key){var t=dm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=lu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nh,charCode:function(e){return e.type==="keypress"?lu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ym=ar(xm),wm=Ut({},$u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O1=ar(wm),vm=Ut({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nh}),Em=ar(vm),Cm=Ut({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),Am=ar(Cm),Sm=Ut({},$u,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Im=ar(Sm),_m=[9,13,27,32],Oh=Ci&&"CompositionEvent"in window,Xa=null;Ci&&"documentMode"in document&&(Xa=document.documentMode);var bm=Ci&&"TextEvent"in window&&!Xa,ep=Ci&&(!Oh||Xa&&8<Xa&&11>=Xa),R1=" ",D1=!1;function tp(e,t){switch(e){case"keyup":return _m.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function np(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Io=!1;function Tm(e,t){switch(e){case"compositionend":return np(t);case"keypress":return t.which!==32?null:(D1=!0,R1);case"textInput":return e=t.data,e===R1&&D1?null:e;default:return null}}function Nm(e,t){if(Io)return e==="compositionend"||!Oh&&tp(e,t)?(e=$d(),au=bh=Qi=null,Io=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ep&&t.locale!=="ko"?null:t.data;default:return null}}var Om={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Om[e.type]:t==="textarea"}function rp(e,t,s,c){Pd(c),t=Iu(t,"onChange"),0<t.length&&(s=new Th("onChange","change",null,s,c),e.push({event:s,listeners:t}))}var Ka=null,sl=null;function Rm(e){pp(e,0)}function ec(e){var t=To(e);if(bd(t))return e}function Dm(e,t){if(e==="change")return t}var ip=!1;if(Ci){var Dc;if(Ci){var kc="oninput"in document;if(!kc){var P1=document.createElement("div");P1.setAttribute("oninput","return;"),kc=typeof P1.oninput=="function"}Dc=kc}else Dc=!1;ip=Dc&&(!document.documentMode||9<document.documentMode)}function M1(){Ka&&(Ka.detachEvent("onpropertychange",sp),sl=Ka=null)}function sp(e){if(e.propertyName==="value"&&ec(sl)){var t=[];rp(t,sl,e,Ch(e)),Fd(Rm,t)}}function km(e,t,s){e==="focusin"?(M1(),Ka=t,sl=s,Ka.attachEvent("onpropertychange",sp)):e==="focusout"&&M1()}function Pm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ec(sl)}function Mm(e,t){if(e==="click")return ec(t)}function Bm(e,t){if(e==="input"||e==="change")return ec(t)}function Lm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gr=typeof Object.is=="function"?Object.is:Lm;function ol(e,t){if(Gr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),c=Object.keys(t);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var h=s[c];if(!Jc.call(t,h)||!Gr(e[h],t[h]))return!1}return!0}function B1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function L1(e,t){var s=B1(e);e=0;for(var c;s;){if(s.nodeType===3){if(c=e+s.textContent.length,e<=t&&c>=t)return{node:s,offset:t-e};e=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=B1(s)}}function op(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?op(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ap(){for(var e=window,t=yu();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=yu(e.document)}return t}function Rh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Fm(e){var t=ap(),s=e.focusedElem,c=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&op(s.ownerDocument.documentElement,s)){if(c!==null&&Rh(s)){if(t=c.start,e=c.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var h=s.textContent.length,p=Math.min(c.start,h);c=c.end===void 0?p:Math.min(c.end,h),!e.extend&&p>c&&(h=c,c=p,p=h),h=L1(s,p);var m=L1(s,c);h&&m&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==m.node||e.focusOffset!==m.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),e.removeAllRanges(),p>c?(e.addRange(t),e.extend(m.node,m.offset)):(t.setEnd(m.node,m.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Um=Ci&&"documentMode"in document&&11>=document.documentMode,_o=null,yf=null,Ya=null,wf=!1;function F1(e,t,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;wf||_o==null||_o!==yu(c)||(c=_o,"selectionStart"in c&&Rh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ya&&ol(Ya,c)||(Ya=c,c=Iu(yf,"onSelect"),0<c.length&&(t=new Th("onSelect","select",null,t,s),e.push({event:t,listeners:c}),t.target=_o)))}function Yl(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var bo={animationend:Yl("Animation","AnimationEnd"),animationiteration:Yl("Animation","AnimationIteration"),animationstart:Yl("Animation","AnimationStart"),transitionend:Yl("Transition","TransitionEnd")},Pc={},lp={};Ci&&(lp=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function tc(e){if(Pc[e])return Pc[e];if(!bo[e])return e;var t=bo[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in lp)return Pc[e]=t[s];return e}var up=tc("animationend"),cp=tc("animationiteration"),fp=tc("animationstart"),hp=tc("transitionend"),dp=new Map,U1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fs(e,t){dp.set(e,t),eo(t,[e])}for(var Mc=0;Mc<U1.length;Mc++){var Bc=U1[Mc],jm=Bc.toLowerCase(),Vm=Bc[0].toUpperCase()+Bc.slice(1);fs(jm,"on"+Vm)}fs(up,"onAnimationEnd");fs(cp,"onAnimationIteration");fs(fp,"onAnimationStart");fs("dblclick","onDoubleClick");fs("focusin","onFocus");fs("focusout","onBlur");fs(hp,"onTransitionEnd");na("onMouseEnter",["mouseout","mouseover"]);na("onMouseLeave",["mouseout","mouseover"]);na("onPointerEnter",["pointerout","pointerover"]);na("onPointerLeave",["pointerout","pointerover"]);eo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));eo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));eo("onBeforeInput",["compositionend","keypress","textInput","paste"]);eo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));eo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));eo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zm=new Set("cancel close invalid load scroll toggle".split(" ").concat(za));function j1(e,t,s){var c=e.type||"unknown-event";e.currentTarget=s,j2(c,t,void 0,e),e.currentTarget=null}function pp(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var c=e[s],h=c.event;c=c.listeners;e:{var p=void 0;if(t)for(var m=c.length-1;0<=m;m--){var v=c[m],E=v.instance,w=v.currentTarget;if(v=v.listener,E!==p&&h.isPropagationStopped())break e;j1(h,v,w),p=E}else for(m=0;m<c.length;m++){if(v=c[m],E=v.instance,w=v.currentTarget,v=v.listener,E!==p&&h.isPropagationStopped())break e;j1(h,v,w),p=E}}}if(vu)throw e=pf,vu=!1,pf=null,e}function Tt(e,t){var s=t[Sf];s===void 0&&(s=t[Sf]=new Set);var c=e+"__bubble";s.has(c)||(gp(t,e,2,!1),s.add(c))}function Lc(e,t,s){var c=0;t&&(c|=4),gp(s,e,c,t)}var ql="_reactListening"+Math.random().toString(36).slice(2);function al(e){if(!e[ql]){e[ql]=!0,Cd.forEach(function(s){s!=="selectionchange"&&(zm.has(s)||Lc(s,!1,e),Lc(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ql]||(t[ql]=!0,Lc("selectionchange",!1,t))}}function gp(e,t,s,c){switch(Jd(t)){case 1:var h=nm;break;case 4:h=rm;break;default:h=_h}s=h.bind(null,t,s,e),h=void 0,!df||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(h=!0),c?h!==void 0?e.addEventListener(t,s,{capture:!0,passive:h}):e.addEventListener(t,s,!0):h!==void 0?e.addEventListener(t,s,{passive:h}):e.addEventListener(t,s,!1)}function Fc(e,t,s,c,h){var p=c;if(!(t&1)&&!(t&2)&&c!==null)e:for(;;){if(c===null)return;var m=c.tag;if(m===3||m===4){var v=c.stateNode.containerInfo;if(v===h||v.nodeType===8&&v.parentNode===h)break;if(m===4)for(m=c.return;m!==null;){var E=m.tag;if((E===3||E===4)&&(E=m.stateNode.containerInfo,E===h||E.nodeType===8&&E.parentNode===h))return;m=m.return}for(;v!==null;){if(m=Bs(v),m===null)return;if(E=m.tag,E===5||E===6){c=p=m;continue e}v=v.parentNode}}c=c.return}Fd(function(){var w=p,O=Ch(s),I=[];e:{var B=dp.get(e);if(B!==void 0){var V=Th,K=e;switch(e){case"keypress":if(lu(s)===0)break e;case"keydown":case"keyup":V=ym;break;case"focusin":K="focus",V=Rc;break;case"focusout":K="blur",V=Rc;break;case"beforeblur":case"afterblur":V=Rc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=T1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=om;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Em;break;case up:case cp:case fp:V=um;break;case hp:V=Am;break;case"scroll":V=im;break;case"wheel":V=Im;break;case"copy":case"cut":case"paste":V=fm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=O1}var G=(t&4)!==0,se=!G&&e==="scroll",L=G?B!==null?B+"Capture":null:B;G=[];for(var T=w,P;T!==null;){P=T;var z=P.stateNode;if(P.tag===5&&z!==null&&(P=z,L!==null&&(z=tl(T,L),z!=null&&G.push(ll(T,z,P)))),se)break;T=T.return}0<G.length&&(B=new V(B,K,null,s,O),I.push({event:B,listeners:G}))}}if(!(t&7)){e:{if(B=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",B&&s!==ff&&(K=s.relatedTarget||s.fromElement)&&(Bs(K)||K[Ai]))break e;if((V||B)&&(B=O.window===O?O:(B=O.ownerDocument)?B.defaultView||B.parentWindow:window,V?(K=s.relatedTarget||s.toElement,V=w,K=K?Bs(K):null,K!==null&&(se=to(K),K!==se||K.tag!==5&&K.tag!==6)&&(K=null)):(V=null,K=w),V!==K)){if(G=T1,z="onMouseLeave",L="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(G=O1,z="onPointerLeave",L="onPointerEnter",T="pointer"),se=V==null?B:To(V),P=K==null?B:To(K),B=new G(z,T+"leave",V,s,O),B.target=se,B.relatedTarget=P,z=null,Bs(O)===w&&(G=new G(L,T+"enter",K,s,O),G.target=P,G.relatedTarget=se,z=G),se=z,V&&K)t:{for(G=V,L=K,T=0,P=G;P;P=Co(P))T++;for(P=0,z=L;z;z=Co(z))P++;for(;0<T-P;)G=Co(G),T--;for(;0<P-T;)L=Co(L),P--;for(;T--;){if(G===L||L!==null&&G===L.alternate)break t;G=Co(G),L=Co(L)}G=null}else G=null;V!==null&&V1(I,B,V,G,!1),K!==null&&se!==null&&V1(I,se,K,G,!0)}}e:{if(B=w?To(w):window,V=B.nodeName&&B.nodeName.toLowerCase(),V==="select"||V==="input"&&B.type==="file")var oe=Dm;else if(k1(B))if(ip)oe=Bm;else{oe=Pm;var ne=km}else(V=B.nodeName)&&V.toLowerCase()==="input"&&(B.type==="checkbox"||B.type==="radio")&&(oe=Mm);if(oe&&(oe=oe(e,w))){rp(I,oe,s,O);break e}ne&&ne(e,B,w),e==="focusout"&&(ne=B._wrapperState)&&ne.controlled&&B.type==="number"&&of(B,"number",B.value)}switch(ne=w?To(w):window,e){case"focusin":(k1(ne)||ne.contentEditable==="true")&&(_o=ne,yf=w,Ya=null);break;case"focusout":Ya=yf=_o=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,F1(I,s,O);break;case"selectionchange":if(Um)break;case"keydown":case"keyup":F1(I,s,O)}var W;if(Oh)e:{switch(e){case"compositionstart":var ee="onCompositionStart";break e;case"compositionend":ee="onCompositionEnd";break e;case"compositionupdate":ee="onCompositionUpdate";break e}ee=void 0}else Io?tp(e,s)&&(ee="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ee="onCompositionStart");ee&&(ep&&s.locale!=="ko"&&(Io||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&Io&&(W=$d()):(Qi=O,bh="value"in Qi?Qi.value:Qi.textContent,Io=!0)),ne=Iu(w,ee),0<ne.length&&(ee=new N1(ee,e,null,s,O),I.push({event:ee,listeners:ne}),W?ee.data=W:(W=np(s),W!==null&&(ee.data=W)))),(W=bm?Tm(e,s):Nm(e,s))&&(w=Iu(w,"onBeforeInput"),0<w.length&&(O=new N1("onBeforeInput","beforeinput",null,s,O),I.push({event:O,listeners:w}),O.data=W))}pp(I,t)})}function ll(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Iu(e,t){for(var s=t+"Capture",c=[];e!==null;){var h=e,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=tl(e,s),p!=null&&c.unshift(ll(e,p,h)),p=tl(e,t),p!=null&&c.push(ll(e,p,h))),e=e.return}return c}function Co(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function V1(e,t,s,c,h){for(var p=t._reactName,m=[];s!==null&&s!==c;){var v=s,E=v.alternate,w=v.stateNode;if(E!==null&&E===c)break;v.tag===5&&w!==null&&(v=w,h?(E=tl(s,p),E!=null&&m.unshift(ll(s,E,v))):h||(E=tl(s,p),E!=null&&m.push(ll(s,E,v)))),s=s.return}m.length!==0&&e.push({event:t,listeners:m})}var Wm=/\r\n?/g,Hm=/\u0000|\uFFFD/g;function z1(e){return(typeof e=="string"?e:""+e).replace(Wm,`
`).replace(Hm,"")}function Ql(e,t,s){if(t=z1(t),z1(e)!==t&&s)throw Error(ue(425))}function _u(){}var vf=null,Ef=null;function Cf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Af=typeof setTimeout=="function"?setTimeout:void 0,Gm=typeof clearTimeout=="function"?clearTimeout:void 0,W1=typeof Promise=="function"?Promise:void 0,Xm=typeof queueMicrotask=="function"?queueMicrotask:typeof W1<"u"?function(e){return W1.resolve(null).then(e).catch(Km)}:Af;function Km(e){setTimeout(function(){throw e})}function Uc(e,t){var s=t,c=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(c===0){e.removeChild(h),il(t);return}c--}else s!=="$"&&s!=="$?"&&s!=="$!"||c++;s=h}while(s);il(t)}function ns(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function H1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ii="__reactFiber$"+da,ul="__reactProps$"+da,Ai="__reactContainer$"+da,Sf="__reactEvents$"+da,Ym="__reactListeners$"+da,qm="__reactHandles$"+da;function Bs(e){var t=e[ii];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Ai]||s[ii]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=H1(e);e!==null;){if(s=e[ii])return s;e=H1(e)}return t}e=s,s=e.parentNode}return null}function _l(e){return e=e[ii]||e[Ai],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function To(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ue(33))}function nc(e){return e[ul]||null}var If=[],No=-1;function hs(e){return{current:e}}function Nt(e){0>No||(e.current=If[No],If[No]=null,No--)}function _t(e,t){No++,If[No]=e.current,e.current=t}var us={},An=hs(us),Gn=hs(!1),Ys=us;function ra(e,t){var s=e.type.contextTypes;if(!s)return us;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===t)return c.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in s)h[p]=t[p];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=h),h}function Xn(e){return e=e.childContextTypes,e!=null}function bu(){Nt(Gn),Nt(An)}function G1(e,t,s){if(An.current!==us)throw Error(ue(168));_t(An,t),_t(Gn,s)}function mp(e,t,s){var c=e.stateNode;if(t=t.childContextTypes,typeof c.getChildContext!="function")return s;c=c.getChildContext();for(var h in c)if(!(h in t))throw Error(ue(108,k2(e)||"Unknown",h));return Ut({},s,c)}function Tu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||us,Ys=An.current,_t(An,e),_t(Gn,Gn.current),!0}function X1(e,t,s){var c=e.stateNode;if(!c)throw Error(ue(169));s?(e=mp(e,t,Ys),c.__reactInternalMemoizedMergedChildContext=e,Nt(Gn),Nt(An),_t(An,e)):Nt(Gn),_t(Gn,s)}var mi=null,rc=!1,jc=!1;function xp(e){mi===null?mi=[e]:mi.push(e)}function Qm(e){rc=!0,xp(e)}function ds(){if(!jc&&mi!==null){jc=!0;var e=0,t=mt;try{var s=mi;for(mt=1;e<s.length;e++){var c=s[e];do c=c(!0);while(c!==null)}mi=null,rc=!1}catch(h){throw mi!==null&&(mi=mi.slice(e+1)),zd(Ah,ds),h}finally{mt=t,jc=!1}}return null}var Oo=[],Ro=0,Nu=null,Ou=0,Ar=[],Sr=0,qs=null,yi=1,wi="";function ks(e,t){Oo[Ro++]=Ou,Oo[Ro++]=Nu,Nu=e,Ou=t}function yp(e,t,s){Ar[Sr++]=yi,Ar[Sr++]=wi,Ar[Sr++]=qs,qs=e;var c=yi;e=wi;var h=32-Wr(c)-1;c&=~(1<<h),s+=1;var p=32-Wr(t)+h;if(30<p){var m=h-h%5;p=(c&(1<<m)-1).toString(32),c>>=m,h-=m,yi=1<<32-Wr(t)+h|s<<h|c,wi=p+e}else yi=1<<p|s<<h|c,wi=e}function Dh(e){e.return!==null&&(ks(e,1),yp(e,1,0))}function kh(e){for(;e===Nu;)Nu=Oo[--Ro],Oo[Ro]=null,Ou=Oo[--Ro],Oo[Ro]=null;for(;e===qs;)qs=Ar[--Sr],Ar[Sr]=null,wi=Ar[--Sr],Ar[Sr]=null,yi=Ar[--Sr],Ar[Sr]=null}var ir=null,rr=null,Dt=!1,Vr=null;function wp(e,t){var s=Ir(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function K1(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ir=e,rr=ns(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ir=e,rr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=qs!==null?{id:yi,overflow:wi}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Ir(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,ir=e,rr=null,!0):!1;default:return!1}}function _f(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bf(e){if(Dt){var t=rr;if(t){var s=t;if(!K1(e,t)){if(_f(e))throw Error(ue(418));t=ns(s.nextSibling);var c=ir;t&&K1(e,t)?wp(c,s):(e.flags=e.flags&-4097|2,Dt=!1,ir=e)}}else{if(_f(e))throw Error(ue(418));e.flags=e.flags&-4097|2,Dt=!1,ir=e}}}function Y1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ir=e}function Zl(e){if(e!==ir)return!1;if(!Dt)return Y1(e),Dt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cf(e.type,e.memoizedProps)),t&&(t=rr)){if(_f(e))throw vp(),Error(ue(418));for(;t;)wp(e,t),t=ns(t.nextSibling)}if(Y1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){rr=ns(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}rr=null}}else rr=ir?ns(e.stateNode.nextSibling):null;return!0}function vp(){for(var e=rr;e;)e=ns(e.nextSibling)}function ia(){rr=ir=null,Dt=!1}function Ph(e){Vr===null?Vr=[e]:Vr.push(e)}var Zm=_i.ReactCurrentBatchConfig;function Ba(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(ue(309));var c=s.stateNode}if(!c)throw Error(ue(147,e));var h=c,p=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===p?t.ref:(t=function(m){var v=h.refs;m===null?delete v[p]:v[p]=m},t._stringRef=p,t)}if(typeof e!="string")throw Error(ue(284));if(!s._owner)throw Error(ue(290,e))}return e}function Jl(e,t){throw e=Object.prototype.toString.call(t),Error(ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function q1(e){var t=e._init;return t(e._payload)}function Ep(e){function t(L,T){if(e){var P=L.deletions;P===null?(L.deletions=[T],L.flags|=16):P.push(T)}}function s(L,T){if(!e)return null;for(;T!==null;)t(L,T),T=T.sibling;return null}function c(L,T){for(L=new Map;T!==null;)T.key!==null?L.set(T.key,T):L.set(T.index,T),T=T.sibling;return L}function h(L,T){return L=os(L,T),L.index=0,L.sibling=null,L}function p(L,T,P){return L.index=P,e?(P=L.alternate,P!==null?(P=P.index,P<T?(L.flags|=2,T):P):(L.flags|=2,T)):(L.flags|=1048576,T)}function m(L){return e&&L.alternate===null&&(L.flags|=2),L}function v(L,T,P,z){return T===null||T.tag!==6?(T=Kc(P,L.mode,z),T.return=L,T):(T=h(T,P),T.return=L,T)}function E(L,T,P,z){var oe=P.type;return oe===So?O(L,T,P.props.children,z,P.key):T!==null&&(T.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Fi&&q1(oe)===T.type)?(z=h(T,P.props),z.ref=Ba(L,T,P),z.return=L,z):(z=gu(P.type,P.key,P.props,null,L.mode,z),z.ref=Ba(L,T,P),z.return=L,z)}function w(L,T,P,z){return T===null||T.tag!==4||T.stateNode.containerInfo!==P.containerInfo||T.stateNode.implementation!==P.implementation?(T=Yc(P,L.mode,z),T.return=L,T):(T=h(T,P.children||[]),T.return=L,T)}function O(L,T,P,z,oe){return T===null||T.tag!==7?(T=Ks(P,L.mode,z,oe),T.return=L,T):(T=h(T,P),T.return=L,T)}function I(L,T,P){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Kc(""+T,L.mode,P),T.return=L,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Vl:return P=gu(T.type,T.key,T.props,null,L.mode,P),P.ref=Ba(L,null,T),P.return=L,P;case Ao:return T=Yc(T,L.mode,P),T.return=L,T;case Fi:var z=T._init;return I(L,z(T._payload),P)}if(ja(T)||Ra(T))return T=Ks(T,L.mode,P,null),T.return=L,T;Jl(L,T)}return null}function B(L,T,P,z){var oe=T!==null?T.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return oe!==null?null:v(L,T,""+P,z);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Vl:return P.key===oe?E(L,T,P,z):null;case Ao:return P.key===oe?w(L,T,P,z):null;case Fi:return oe=P._init,B(L,T,oe(P._payload),z)}if(ja(P)||Ra(P))return oe!==null?null:O(L,T,P,z,null);Jl(L,P)}return null}function V(L,T,P,z,oe){if(typeof z=="string"&&z!==""||typeof z=="number")return L=L.get(P)||null,v(T,L,""+z,oe);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Vl:return L=L.get(z.key===null?P:z.key)||null,E(T,L,z,oe);case Ao:return L=L.get(z.key===null?P:z.key)||null,w(T,L,z,oe);case Fi:var ne=z._init;return V(L,T,P,ne(z._payload),oe)}if(ja(z)||Ra(z))return L=L.get(P)||null,O(T,L,z,oe,null);Jl(T,z)}return null}function K(L,T,P,z){for(var oe=null,ne=null,W=T,ee=T=0,te=null;W!==null&&ee<P.length;ee++){W.index>ee?(te=W,W=null):te=W.sibling;var De=B(L,W,P[ee],z);if(De===null){W===null&&(W=te);break}e&&W&&De.alternate===null&&t(L,W),T=p(De,T,ee),ne===null?oe=De:ne.sibling=De,ne=De,W=te}if(ee===P.length)return s(L,W),Dt&&ks(L,ee),oe;if(W===null){for(;ee<P.length;ee++)W=I(L,P[ee],z),W!==null&&(T=p(W,T,ee),ne===null?oe=W:ne.sibling=W,ne=W);return Dt&&ks(L,ee),oe}for(W=c(L,W);ee<P.length;ee++)te=V(W,L,ee,P[ee],z),te!==null&&(e&&te.alternate!==null&&W.delete(te.key===null?ee:te.key),T=p(te,T,ee),ne===null?oe=te:ne.sibling=te,ne=te);return e&&W.forEach(function(lt){return t(L,lt)}),Dt&&ks(L,ee),oe}function G(L,T,P,z){var oe=Ra(P);if(typeof oe!="function")throw Error(ue(150));if(P=oe.call(P),P==null)throw Error(ue(151));for(var ne=oe=null,W=T,ee=T=0,te=null,De=P.next();W!==null&&!De.done;ee++,De=P.next()){W.index>ee?(te=W,W=null):te=W.sibling;var lt=B(L,W,De.value,z);if(lt===null){W===null&&(W=te);break}e&&W&&lt.alternate===null&&t(L,W),T=p(lt,T,ee),ne===null?oe=lt:ne.sibling=lt,ne=lt,W=te}if(De.done)return s(L,W),Dt&&ks(L,ee),oe;if(W===null){for(;!De.done;ee++,De=P.next())De=I(L,De.value,z),De!==null&&(T=p(De,T,ee),ne===null?oe=De:ne.sibling=De,ne=De);return Dt&&ks(L,ee),oe}for(W=c(L,W);!De.done;ee++,De=P.next())De=V(W,L,ee,De.value,z),De!==null&&(e&&De.alternate!==null&&W.delete(De.key===null?ee:De.key),T=p(De,T,ee),ne===null?oe=De:ne.sibling=De,ne=De);return e&&W.forEach(function(be){return t(L,be)}),Dt&&ks(L,ee),oe}function se(L,T,P,z){if(typeof P=="object"&&P!==null&&P.type===So&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Vl:e:{for(var oe=P.key,ne=T;ne!==null;){if(ne.key===oe){if(oe=P.type,oe===So){if(ne.tag===7){s(L,ne.sibling),T=h(ne,P.props.children),T.return=L,L=T;break e}}else if(ne.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Fi&&q1(oe)===ne.type){s(L,ne.sibling),T=h(ne,P.props),T.ref=Ba(L,ne,P),T.return=L,L=T;break e}s(L,ne);break}else t(L,ne);ne=ne.sibling}P.type===So?(T=Ks(P.props.children,L.mode,z,P.key),T.return=L,L=T):(z=gu(P.type,P.key,P.props,null,L.mode,z),z.ref=Ba(L,T,P),z.return=L,L=z)}return m(L);case Ao:e:{for(ne=P.key;T!==null;){if(T.key===ne)if(T.tag===4&&T.stateNode.containerInfo===P.containerInfo&&T.stateNode.implementation===P.implementation){s(L,T.sibling),T=h(T,P.children||[]),T.return=L,L=T;break e}else{s(L,T);break}else t(L,T);T=T.sibling}T=Yc(P,L.mode,z),T.return=L,L=T}return m(L);case Fi:return ne=P._init,se(L,T,ne(P._payload),z)}if(ja(P))return K(L,T,P,z);if(Ra(P))return G(L,T,P,z);Jl(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,T!==null&&T.tag===6?(s(L,T.sibling),T=h(T,P),T.return=L,L=T):(s(L,T),T=Kc(P,L.mode,z),T.return=L,L=T),m(L)):s(L,T)}return se}var sa=Ep(!0),Cp=Ep(!1),Ru=hs(null),Du=null,Do=null,Mh=null;function Bh(){Mh=Do=Du=null}function Lh(e){var t=Ru.current;Nt(Ru),e._currentValue=t}function Tf(e,t,s){for(;e!==null;){var c=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,c!==null&&(c.childLanes|=t)):c!==null&&(c.childLanes&t)!==t&&(c.childLanes|=t),e===s)break;e=e.return}}function jo(e,t){Du=e,Mh=Do=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Hn=!0),e.firstContext=null)}function br(e){var t=e._currentValue;if(Mh!==e)if(e={context:e,memoizedValue:t,next:null},Do===null){if(Du===null)throw Error(ue(308));Do=e,Du.dependencies={lanes:0,firstContext:e}}else Do=Do.next=e;return t}var Ls=null;function Fh(e){Ls===null?Ls=[e]:Ls.push(e)}function Ap(e,t,s,c){var h=t.interleaved;return h===null?(s.next=s,Fh(t)):(s.next=h.next,h.next=s),t.interleaved=s,Si(e,c)}function Si(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Ui=!1;function Uh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rs(e,t,s){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,st&2){var h=c.pending;return h===null?t.next=t:(t.next=h.next,h.next=t),c.pending=t,Si(e,s)}return h=c.interleaved,h===null?(t.next=t,Fh(c)):(t.next=h.next,h.next=t),c.interleaved=t,Si(e,s)}function uu(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var c=t.lanes;c&=e.pendingLanes,s|=c,t.lanes=s,Sh(e,s)}}function Q1(e,t){var s=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var h=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var m={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};p===null?h=p=m:p=p.next=m,s=s.next}while(s!==null);p===null?h=p=t:p=p.next=t}else h=p=t;s={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:c.shared,effects:c.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function ku(e,t,s,c){var h=e.updateQueue;Ui=!1;var p=h.firstBaseUpdate,m=h.lastBaseUpdate,v=h.shared.pending;if(v!==null){h.shared.pending=null;var E=v,w=E.next;E.next=null,m===null?p=w:m.next=w,m=E;var O=e.alternate;O!==null&&(O=O.updateQueue,v=O.lastBaseUpdate,v!==m&&(v===null?O.firstBaseUpdate=w:v.next=w,O.lastBaseUpdate=E))}if(p!==null){var I=h.baseState;m=0,O=w=E=null,v=p;do{var B=v.lane,V=v.eventTime;if((c&B)===B){O!==null&&(O=O.next={eventTime:V,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var K=e,G=v;switch(B=t,V=s,G.tag){case 1:if(K=G.payload,typeof K=="function"){I=K.call(V,I,B);break e}I=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=G.payload,B=typeof K=="function"?K.call(V,I,B):K,B==null)break e;I=Ut({},I,B);break e;case 2:Ui=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,B=h.effects,B===null?h.effects=[v]:B.push(v))}else V={eventTime:V,lane:B,tag:v.tag,payload:v.payload,callback:v.callback,next:null},O===null?(w=O=V,E=I):O=O.next=V,m|=B;if(v=v.next,v===null){if(v=h.shared.pending,v===null)break;B=v,v=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);if(O===null&&(E=I),h.baseState=E,h.firstBaseUpdate=w,h.lastBaseUpdate=O,t=h.shared.interleaved,t!==null){h=t;do m|=h.lane,h=h.next;while(h!==t)}else p===null&&(h.shared.lanes=0);Zs|=m,e.lanes=m,e.memoizedState=I}}function Z1(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var c=e[t],h=c.callback;if(h!==null){if(c.callback=null,c=s,typeof h!="function")throw Error(ue(191,h));h.call(c)}}}var bl={},oi=hs(bl),cl=hs(bl),fl=hs(bl);function Fs(e){if(e===bl)throw Error(ue(174));return e}function jh(e,t){switch(_t(fl,t),_t(cl,e),_t(oi,bl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lf(t,e)}Nt(oi),_t(oi,t)}function oa(){Nt(oi),Nt(cl),Nt(fl)}function Ip(e){Fs(fl.current);var t=Fs(oi.current),s=lf(t,e.type);t!==s&&(_t(cl,e),_t(oi,s))}function Vh(e){cl.current===e&&(Nt(oi),Nt(cl))}var Lt=hs(0);function Pu(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vc=[];function zh(){for(var e=0;e<Vc.length;e++)Vc[e]._workInProgressVersionPrimary=null;Vc.length=0}var cu=_i.ReactCurrentDispatcher,zc=_i.ReactCurrentBatchConfig,Qs=0,Ft=null,rn=null,un=null,Mu=!1,qa=!1,hl=0,Jm=0;function wn(){throw Error(ue(321))}function Wh(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Gr(e[s],t[s]))return!1;return!0}function Hh(e,t,s,c,h,p){if(Qs=p,Ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cu.current=e===null||e.memoizedState===null?nx:rx,e=s(c,h),qa){p=0;do{if(qa=!1,hl=0,25<=p)throw Error(ue(301));p+=1,un=rn=null,t.updateQueue=null,cu.current=ix,e=s(c,h)}while(qa)}if(cu.current=Bu,t=rn!==null&&rn.next!==null,Qs=0,un=rn=Ft=null,Mu=!1,t)throw Error(ue(300));return e}function Gh(){var e=hl!==0;return hl=0,e}function $r(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?Ft.memoizedState=un=e:un=un.next=e,un}function Tr(){if(rn===null){var e=Ft.alternate;e=e!==null?e.memoizedState:null}else e=rn.next;var t=un===null?Ft.memoizedState:un.next;if(t!==null)un=t,rn=e;else{if(e===null)throw Error(ue(310));rn=e,e={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},un===null?Ft.memoizedState=un=e:un=un.next=e}return un}function dl(e,t){return typeof t=="function"?t(e):t}function Wc(e){var t=Tr(),s=t.queue;if(s===null)throw Error(ue(311));s.lastRenderedReducer=e;var c=rn,h=c.baseQueue,p=s.pending;if(p!==null){if(h!==null){var m=h.next;h.next=p.next,p.next=m}c.baseQueue=h=p,s.pending=null}if(h!==null){p=h.next,c=c.baseState;var v=m=null,E=null,w=p;do{var O=w.lane;if((Qs&O)===O)E!==null&&(E=E.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),c=w.hasEagerState?w.eagerState:e(c,w.action);else{var I={lane:O,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};E===null?(v=E=I,m=c):E=E.next=I,Ft.lanes|=O,Zs|=O}w=w.next}while(w!==null&&w!==p);E===null?m=c:E.next=v,Gr(c,t.memoizedState)||(Hn=!0),t.memoizedState=c,t.baseState=m,t.baseQueue=E,s.lastRenderedState=c}if(e=s.interleaved,e!==null){h=e;do p=h.lane,Ft.lanes|=p,Zs|=p,h=h.next;while(h!==e)}else h===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Hc(e){var t=Tr(),s=t.queue;if(s===null)throw Error(ue(311));s.lastRenderedReducer=e;var c=s.dispatch,h=s.pending,p=t.memoizedState;if(h!==null){s.pending=null;var m=h=h.next;do p=e(p,m.action),m=m.next;while(m!==h);Gr(p,t.memoizedState)||(Hn=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),s.lastRenderedState=p}return[p,c]}function _p(){}function bp(e,t){var s=Ft,c=Tr(),h=t(),p=!Gr(c.memoizedState,h);if(p&&(c.memoizedState=h,Hn=!0),c=c.queue,Xh(Op.bind(null,s,c,e),[e]),c.getSnapshot!==t||p||un!==null&&un.memoizedState.tag&1){if(s.flags|=2048,pl(9,Np.bind(null,s,c,h,t),void 0,null),cn===null)throw Error(ue(349));Qs&30||Tp(s,t,h)}return h}function Tp(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Ft.updateQueue,t===null?(t={lastEffect:null,stores:null},Ft.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Np(e,t,s,c){t.value=s,t.getSnapshot=c,Rp(t)&&Dp(e)}function Op(e,t,s){return s(function(){Rp(t)&&Dp(e)})}function Rp(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Gr(e,s)}catch{return!0}}function Dp(e){var t=Si(e,1);t!==null&&Hr(t,e,1,-1)}function J1(e){var t=$r();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:e},t.queue=e,e=e.dispatch=tx.bind(null,Ft,e),[t.memoizedState,e]}function pl(e,t,s,c){return e={tag:e,create:t,destroy:s,deps:c,next:null},t=Ft.updateQueue,t===null?(t={lastEffect:null,stores:null},Ft.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(c=s.next,s.next=e,e.next=c,t.lastEffect=e)),e}function kp(){return Tr().memoizedState}function fu(e,t,s,c){var h=$r();Ft.flags|=e,h.memoizedState=pl(1|t,s,void 0,c===void 0?null:c)}function ic(e,t,s,c){var h=Tr();c=c===void 0?null:c;var p=void 0;if(rn!==null){var m=rn.memoizedState;if(p=m.destroy,c!==null&&Wh(c,m.deps)){h.memoizedState=pl(t,s,p,c);return}}Ft.flags|=e,h.memoizedState=pl(1|t,s,p,c)}function $1(e,t){return fu(8390656,8,e,t)}function Xh(e,t){return ic(2048,8,e,t)}function Pp(e,t){return ic(4,2,e,t)}function Mp(e,t){return ic(4,4,e,t)}function Bp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Lp(e,t,s){return s=s!=null?s.concat([e]):null,ic(4,4,Bp.bind(null,t,e),s)}function Kh(){}function Fp(e,t){var s=Tr();t=t===void 0?null:t;var c=s.memoizedState;return c!==null&&t!==null&&Wh(t,c[1])?c[0]:(s.memoizedState=[e,t],e)}function Up(e,t){var s=Tr();t=t===void 0?null:t;var c=s.memoizedState;return c!==null&&t!==null&&Wh(t,c[1])?c[0]:(e=e(),s.memoizedState=[e,t],e)}function jp(e,t,s){return Qs&21?(Gr(s,t)||(s=Gd(),Ft.lanes|=s,Zs|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Hn=!0),e.memoizedState=s)}function $m(e,t){var s=mt;mt=s!==0&&4>s?s:4,e(!0);var c=zc.transition;zc.transition={};try{e(!1),t()}finally{mt=s,zc.transition=c}}function Vp(){return Tr().memoizedState}function ex(e,t,s){var c=ss(e);if(s={lane:c,action:s,hasEagerState:!1,eagerState:null,next:null},zp(e))Wp(t,s);else if(s=Ap(e,t,s,c),s!==null){var h=Rn();Hr(s,e,c,h),Hp(s,t,c)}}function tx(e,t,s){var c=ss(e),h={lane:c,action:s,hasEagerState:!1,eagerState:null,next:null};if(zp(e))Wp(t,h);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var m=t.lastRenderedState,v=p(m,s);if(h.hasEagerState=!0,h.eagerState=v,Gr(v,m)){var E=t.interleaved;E===null?(h.next=h,Fh(t)):(h.next=E.next,E.next=h),t.interleaved=h;return}}catch{}finally{}s=Ap(e,t,h,c),s!==null&&(h=Rn(),Hr(s,e,c,h),Hp(s,t,c))}}function zp(e){var t=e.alternate;return e===Ft||t!==null&&t===Ft}function Wp(e,t){qa=Mu=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Hp(e,t,s){if(s&4194240){var c=t.lanes;c&=e.pendingLanes,s|=c,t.lanes=s,Sh(e,s)}}var Bu={readContext:br,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},nx={readContext:br,useCallback:function(e,t){return $r().memoizedState=[e,t===void 0?null:t],e},useContext:br,useEffect:$1,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,fu(4194308,4,Bp.bind(null,t,e),s)},useLayoutEffect:function(e,t){return fu(4194308,4,e,t)},useInsertionEffect:function(e,t){return fu(4,2,e,t)},useMemo:function(e,t){var s=$r();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var c=$r();return t=s!==void 0?s(t):t,c.memoizedState=c.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},c.queue=e,e=e.dispatch=ex.bind(null,Ft,e),[c.memoizedState,e]},useRef:function(e){var t=$r();return e={current:e},t.memoizedState=e},useState:J1,useDebugValue:Kh,useDeferredValue:function(e){return $r().memoizedState=e},useTransition:function(){var e=J1(!1),t=e[0];return e=$m.bind(null,e[1]),$r().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var c=Ft,h=$r();if(Dt){if(s===void 0)throw Error(ue(407));s=s()}else{if(s=t(),cn===null)throw Error(ue(349));Qs&30||Tp(c,t,s)}h.memoizedState=s;var p={value:s,getSnapshot:t};return h.queue=p,$1(Op.bind(null,c,p,e),[e]),c.flags|=2048,pl(9,Np.bind(null,c,p,s,t),void 0,null),s},useId:function(){var e=$r(),t=cn.identifierPrefix;if(Dt){var s=wi,c=yi;s=(c&~(1<<32-Wr(c)-1)).toString(32)+s,t=":"+t+"R"+s,s=hl++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Jm++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rx={readContext:br,useCallback:Fp,useContext:br,useEffect:Xh,useImperativeHandle:Lp,useInsertionEffect:Pp,useLayoutEffect:Mp,useMemo:Up,useReducer:Wc,useRef:kp,useState:function(){return Wc(dl)},useDebugValue:Kh,useDeferredValue:function(e){var t=Tr();return jp(t,rn.memoizedState,e)},useTransition:function(){var e=Wc(dl)[0],t=Tr().memoizedState;return[e,t]},useMutableSource:_p,useSyncExternalStore:bp,useId:Vp,unstable_isNewReconciler:!1},ix={readContext:br,useCallback:Fp,useContext:br,useEffect:Xh,useImperativeHandle:Lp,useInsertionEffect:Pp,useLayoutEffect:Mp,useMemo:Up,useReducer:Hc,useRef:kp,useState:function(){return Hc(dl)},useDebugValue:Kh,useDeferredValue:function(e){var t=Tr();return rn===null?t.memoizedState=e:jp(t,rn.memoizedState,e)},useTransition:function(){var e=Hc(dl)[0],t=Tr().memoizedState;return[e,t]},useMutableSource:_p,useSyncExternalStore:bp,useId:Vp,unstable_isNewReconciler:!1};function Fr(e,t){if(e&&e.defaultProps){t=Ut({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Nf(e,t,s,c){t=e.memoizedState,s=s(c,t),s=s==null?t:Ut({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var sc={isMounted:function(e){return(e=e._reactInternals)?to(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var c=Rn(),h=ss(e),p=vi(c,h);p.payload=t,s!=null&&(p.callback=s),t=rs(e,p,h),t!==null&&(Hr(t,e,h,c),uu(t,e,h))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var c=Rn(),h=ss(e),p=vi(c,h);p.tag=1,p.payload=t,s!=null&&(p.callback=s),t=rs(e,p,h),t!==null&&(Hr(t,e,h,c),uu(t,e,h))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Rn(),c=ss(e),h=vi(s,c);h.tag=2,t!=null&&(h.callback=t),t=rs(e,h,c),t!==null&&(Hr(t,e,c,s),uu(t,e,c))}};function e0(e,t,s,c,h,p,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,p,m):t.prototype&&t.prototype.isPureReactComponent?!ol(s,c)||!ol(h,p):!0}function Gp(e,t,s){var c=!1,h=us,p=t.contextType;return typeof p=="object"&&p!==null?p=br(p):(h=Xn(t)?Ys:An.current,c=t.contextTypes,p=(c=c!=null)?ra(e,h):us),t=new t(s,p),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sc,e.stateNode=t,t._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=p),t}function t0(e,t,s,c){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,c),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,c),t.state!==e&&sc.enqueueReplaceState(t,t.state,null)}function Of(e,t,s,c){var h=e.stateNode;h.props=s,h.state=e.memoizedState,h.refs={},Uh(e);var p=t.contextType;typeof p=="object"&&p!==null?h.context=br(p):(p=Xn(t)?Ys:An.current,h.context=ra(e,p)),h.state=e.memoizedState,p=t.getDerivedStateFromProps,typeof p=="function"&&(Nf(e,t,p,s),h.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(t=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),t!==h.state&&sc.enqueueReplaceState(h,h.state,null),ku(e,s,h,c),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function aa(e,t){try{var s="",c=t;do s+=D2(c),c=c.return;while(c);var h=s}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:t,stack:h,digest:null}}function Gc(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Rf(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var sx=typeof WeakMap=="function"?WeakMap:Map;function Xp(e,t,s){s=vi(-1,s),s.tag=3,s.payload={element:null};var c=t.value;return s.callback=function(){Fu||(Fu=!0,Vf=c),Rf(e,t)},s}function Kp(e,t,s){s=vi(-1,s),s.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var h=t.value;s.payload=function(){return c(h)},s.callback=function(){Rf(e,t)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(s.callback=function(){Rf(e,t),typeof c!="function"&&(is===null?is=new Set([this]):is.add(this));var m=t.stack;this.componentDidCatch(t.value,{componentStack:m!==null?m:""})}),s}function n0(e,t,s){var c=e.pingCache;if(c===null){c=e.pingCache=new sx;var h=new Set;c.set(t,h)}else h=c.get(t),h===void 0&&(h=new Set,c.set(t,h));h.has(s)||(h.add(s),e=wx.bind(null,e,t,s),t.then(e,e))}function r0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function i0(e,t,s,c,h){return e.mode&1?(e.flags|=65536,e.lanes=h,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=vi(-1,1),t.tag=2,rs(s,t,1))),s.lanes|=1),e)}var ox=_i.ReactCurrentOwner,Hn=!1;function On(e,t,s,c){t.child=e===null?Cp(t,null,s,c):sa(t,e.child,s,c)}function s0(e,t,s,c,h){s=s.render;var p=t.ref;return jo(t,h),c=Hh(e,t,s,c,p,h),s=Gh(),e!==null&&!Hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,Ii(e,t,h)):(Dt&&s&&Dh(t),t.flags|=1,On(e,t,c,h),t.child)}function o0(e,t,s,c,h){if(e===null){var p=s.type;return typeof p=="function"&&!t1(p)&&p.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=p,Yp(e,t,p,c,h)):(e=gu(s.type,null,c,t,t.mode,h),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,!(e.lanes&h)){var m=p.memoizedProps;if(s=s.compare,s=s!==null?s:ol,s(m,c)&&e.ref===t.ref)return Ii(e,t,h)}return t.flags|=1,e=os(p,c),e.ref=t.ref,e.return=t,t.child=e}function Yp(e,t,s,c,h){if(e!==null){var p=e.memoizedProps;if(ol(p,c)&&e.ref===t.ref)if(Hn=!1,t.pendingProps=c=p,(e.lanes&h)!==0)e.flags&131072&&(Hn=!0);else return t.lanes=e.lanes,Ii(e,t,h)}return Df(e,t,s,c,h)}function qp(e,t,s){var c=t.pendingProps,h=c.children,p=e!==null?e.memoizedState:null;if(c.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(Po,nr),nr|=s;else{if(!(s&1073741824))return e=p!==null?p.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_t(Po,nr),nr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:s,_t(Po,nr),nr|=c}else p!==null?(c=p.baseLanes|s,t.memoizedState=null):c=s,_t(Po,nr),nr|=c;return On(e,t,h,s),t.child}function Qp(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Df(e,t,s,c,h){var p=Xn(s)?Ys:An.current;return p=ra(t,p),jo(t,h),s=Hh(e,t,s,c,p,h),c=Gh(),e!==null&&!Hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,Ii(e,t,h)):(Dt&&c&&Dh(t),t.flags|=1,On(e,t,s,h),t.child)}function a0(e,t,s,c,h){if(Xn(s)){var p=!0;Tu(t)}else p=!1;if(jo(t,h),t.stateNode===null)hu(e,t),Gp(t,s,c),Of(t,s,c,h),c=!0;else if(e===null){var m=t.stateNode,v=t.memoizedProps;m.props=v;var E=m.context,w=s.contextType;typeof w=="object"&&w!==null?w=br(w):(w=Xn(s)?Ys:An.current,w=ra(t,w));var O=s.getDerivedStateFromProps,I=typeof O=="function"||typeof m.getSnapshotBeforeUpdate=="function";I||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==c||E!==w)&&t0(t,m,c,w),Ui=!1;var B=t.memoizedState;m.state=B,ku(t,c,m,h),E=t.memoizedState,v!==c||B!==E||Gn.current||Ui?(typeof O=="function"&&(Nf(t,s,O,c),E=t.memoizedState),(v=Ui||e0(t,s,v,c,B,E,w))?(I||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=c,t.memoizedState=E),m.props=c,m.state=E,m.context=w,c=v):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),c=!1)}else{m=t.stateNode,Sp(e,t),v=t.memoizedProps,w=t.type===t.elementType?v:Fr(t.type,v),m.props=w,I=t.pendingProps,B=m.context,E=s.contextType,typeof E=="object"&&E!==null?E=br(E):(E=Xn(s)?Ys:An.current,E=ra(t,E));var V=s.getDerivedStateFromProps;(O=typeof V=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==I||B!==E)&&t0(t,m,c,E),Ui=!1,B=t.memoizedState,m.state=B,ku(t,c,m,h);var K=t.memoizedState;v!==I||B!==K||Gn.current||Ui?(typeof V=="function"&&(Nf(t,s,V,c),K=t.memoizedState),(w=Ui||e0(t,s,w,c,B,K,E)||!1)?(O||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,K,E),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,K,E)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),t.memoizedProps=c,t.memoizedState=K),m.props=c,m.state=K,m.context=E,c=w):(typeof m.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),c=!1)}return kf(e,t,s,c,p,h)}function kf(e,t,s,c,h,p){Qp(e,t);var m=(t.flags&128)!==0;if(!c&&!m)return h&&X1(t,s,!1),Ii(e,t,p);c=t.stateNode,ox.current=t;var v=m&&typeof s.getDerivedStateFromError!="function"?null:c.render();return t.flags|=1,e!==null&&m?(t.child=sa(t,e.child,null,p),t.child=sa(t,null,v,p)):On(e,t,v,p),t.memoizedState=c.state,h&&X1(t,s,!0),t.child}function Zp(e){var t=e.stateNode;t.pendingContext?G1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&G1(e,t.context,!1),jh(e,t.containerInfo)}function l0(e,t,s,c,h){return ia(),Ph(h),t.flags|=256,On(e,t,s,c),t.child}var Pf={dehydrated:null,treeContext:null,retryLane:0};function Mf(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jp(e,t,s){var c=t.pendingProps,h=Lt.current,p=!1,m=(t.flags&128)!==0,v;if((v=m)||(v=e!==null&&e.memoizedState===null?!1:(h&2)!==0),v?(p=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),_t(Lt,h&1),e===null)return bf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(m=c.children,e=c.fallback,p?(c=t.mode,p=t.child,m={mode:"hidden",children:m},!(c&1)&&p!==null?(p.childLanes=0,p.pendingProps=m):p=lc(m,c,0,null),e=Ks(e,c,s,null),p.return=t,e.return=t,p.sibling=e,t.child=p,t.child.memoizedState=Mf(s),t.memoizedState=Pf,e):Yh(t,m));if(h=e.memoizedState,h!==null&&(v=h.dehydrated,v!==null))return ax(e,t,m,c,v,h,s);if(p){p=c.fallback,m=t.mode,h=e.child,v=h.sibling;var E={mode:"hidden",children:c.children};return!(m&1)&&t.child!==h?(c=t.child,c.childLanes=0,c.pendingProps=E,t.deletions=null):(c=os(h,E),c.subtreeFlags=h.subtreeFlags&14680064),v!==null?p=os(v,p):(p=Ks(p,m,s,null),p.flags|=2),p.return=t,c.return=t,c.sibling=p,t.child=c,c=p,p=t.child,m=e.child.memoizedState,m=m===null?Mf(s):{baseLanes:m.baseLanes|s,cachePool:null,transitions:m.transitions},p.memoizedState=m,p.childLanes=e.childLanes&~s,t.memoizedState=Pf,c}return p=e.child,e=p.sibling,c=os(p,{mode:"visible",children:c.children}),!(t.mode&1)&&(c.lanes=s),c.return=t,c.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=c,t.memoizedState=null,c}function Yh(e,t){return t=lc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $l(e,t,s,c){return c!==null&&Ph(c),sa(t,e.child,null,s),e=Yh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ax(e,t,s,c,h,p,m){if(s)return t.flags&256?(t.flags&=-257,c=Gc(Error(ue(422))),$l(e,t,m,c)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(p=c.fallback,h=t.mode,c=lc({mode:"visible",children:c.children},h,0,null),p=Ks(p,h,m,null),p.flags|=2,c.return=t,p.return=t,c.sibling=p,t.child=c,t.mode&1&&sa(t,e.child,null,m),t.child.memoizedState=Mf(m),t.memoizedState=Pf,p);if(!(t.mode&1))return $l(e,t,m,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var v=c.dgst;return c=v,p=Error(ue(419)),c=Gc(p,c,void 0),$l(e,t,m,c)}if(v=(m&e.childLanes)!==0,Hn||v){if(c=cn,c!==null){switch(m&-m){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(c.suspendedLanes|m)?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,Si(e,h),Hr(c,e,h,-1))}return e1(),c=Gc(Error(ue(421))),$l(e,t,m,c)}return h.data==="$?"?(t.flags|=128,t.child=e.child,t=vx.bind(null,e),h._reactRetry=t,null):(e=p.treeContext,rr=ns(h.nextSibling),ir=t,Dt=!0,Vr=null,e!==null&&(Ar[Sr++]=yi,Ar[Sr++]=wi,Ar[Sr++]=qs,yi=e.id,wi=e.overflow,qs=t),t=Yh(t,c.children),t.flags|=4096,t)}function u0(e,t,s){e.lanes|=t;var c=e.alternate;c!==null&&(c.lanes|=t),Tf(e.return,t,s)}function Xc(e,t,s,c,h){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:h}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=s,p.tailMode=h)}function $p(e,t,s){var c=t.pendingProps,h=c.revealOrder,p=c.tail;if(On(e,t,c.children,s),c=Lt.current,c&2)c=c&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&u0(e,s,t);else if(e.tag===19)u0(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(_t(Lt,c),!(t.mode&1))t.memoizedState=null;else switch(h){case"forwards":for(s=t.child,h=null;s!==null;)e=s.alternate,e!==null&&Pu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=t.child,t.child=null):(h=s.sibling,s.sibling=null),Xc(t,!1,h,s,p);break;case"backwards":for(s=null,h=t.child,t.child=null;h!==null;){if(e=h.alternate,e!==null&&Pu(e)===null){t.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Xc(t,!0,s,null,p);break;case"together":Xc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ii(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Zs|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ue(153));if(t.child!==null){for(e=t.child,s=os(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=os(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function lx(e,t,s){switch(t.tag){case 3:Zp(t),ia();break;case 5:Ip(t);break;case 1:Xn(t.type)&&Tu(t);break;case 4:jh(t,t.stateNode.containerInfo);break;case 10:var c=t.type._context,h=t.memoizedProps.value;_t(Ru,c._currentValue),c._currentValue=h;break;case 13:if(c=t.memoizedState,c!==null)return c.dehydrated!==null?(_t(Lt,Lt.current&1),t.flags|=128,null):s&t.child.childLanes?Jp(e,t,s):(_t(Lt,Lt.current&1),e=Ii(e,t,s),e!==null?e.sibling:null);_t(Lt,Lt.current&1);break;case 19:if(c=(s&t.childLanes)!==0,e.flags&128){if(c)return $p(e,t,s);t.flags|=128}if(h=t.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),_t(Lt,Lt.current),c)break;return null;case 22:case 23:return t.lanes=0,qp(e,t,s)}return Ii(e,t,s)}var eg,Bf,tg,ng;eg=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Bf=function(){};tg=function(e,t,s,c){var h=e.memoizedProps;if(h!==c){e=t.stateNode,Fs(oi.current);var p=null;switch(s){case"input":h=rf(e,h),c=rf(e,c),p=[];break;case"select":h=Ut({},h,{value:void 0}),c=Ut({},c,{value:void 0}),p=[];break;case"textarea":h=af(e,h),c=af(e,c),p=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=_u)}uf(s,c);var m;s=null;for(w in h)if(!c.hasOwnProperty(w)&&h.hasOwnProperty(w)&&h[w]!=null)if(w==="style"){var v=h[w];for(m in v)v.hasOwnProperty(m)&&(s||(s={}),s[m]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&($a.hasOwnProperty(w)?p||(p=[]):(p=p||[]).push(w,null));for(w in c){var E=c[w];if(v=h!=null?h[w]:void 0,c.hasOwnProperty(w)&&E!==v&&(E!=null||v!=null))if(w==="style")if(v){for(m in v)!v.hasOwnProperty(m)||E&&E.hasOwnProperty(m)||(s||(s={}),s[m]="");for(m in E)E.hasOwnProperty(m)&&v[m]!==E[m]&&(s||(s={}),s[m]=E[m])}else s||(p||(p=[]),p.push(w,s)),s=E;else w==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,v=v?v.__html:void 0,E!=null&&v!==E&&(p=p||[]).push(w,E)):w==="children"?typeof E!="string"&&typeof E!="number"||(p=p||[]).push(w,""+E):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&($a.hasOwnProperty(w)?(E!=null&&w==="onScroll"&&Tt("scroll",e),p||v===E||(p=[])):(p=p||[]).push(w,E))}s&&(p=p||[]).push("style",s);var w=p;(t.updateQueue=w)&&(t.flags|=4)}};ng=function(e,t,s,c){s!==c&&(t.flags|=4)};function La(e,t){if(!Dt)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function vn(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,c=0;if(t)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=c,e.childLanes=s,t}function ux(e,t,s){var c=t.pendingProps;switch(kh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(t),null;case 1:return Xn(t.type)&&bu(),vn(t),null;case 3:return c=t.stateNode,oa(),Nt(Gn),Nt(An),zh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(Zl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vr!==null&&(Hf(Vr),Vr=null))),Bf(e,t),vn(t),null;case 5:Vh(t);var h=Fs(fl.current);if(s=t.type,e!==null&&t.stateNode!=null)tg(e,t,s,c,h),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!c){if(t.stateNode===null)throw Error(ue(166));return vn(t),null}if(e=Fs(oi.current),Zl(t)){c=t.stateNode,s=t.type;var p=t.memoizedProps;switch(c[ii]=t,c[ul]=p,e=(t.mode&1)!==0,s){case"dialog":Tt("cancel",c),Tt("close",c);break;case"iframe":case"object":case"embed":Tt("load",c);break;case"video":case"audio":for(h=0;h<za.length;h++)Tt(za[h],c);break;case"source":Tt("error",c);break;case"img":case"image":case"link":Tt("error",c),Tt("load",c);break;case"details":Tt("toggle",c);break;case"input":y1(c,p),Tt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},Tt("invalid",c);break;case"textarea":v1(c,p),Tt("invalid",c)}uf(s,p),h=null;for(var m in p)if(p.hasOwnProperty(m)){var v=p[m];m==="children"?typeof v=="string"?c.textContent!==v&&(p.suppressHydrationWarning!==!0&&Ql(c.textContent,v,e),h=["children",v]):typeof v=="number"&&c.textContent!==""+v&&(p.suppressHydrationWarning!==!0&&Ql(c.textContent,v,e),h=["children",""+v]):$a.hasOwnProperty(m)&&v!=null&&m==="onScroll"&&Tt("scroll",c)}switch(s){case"input":zl(c),w1(c,p,!0);break;case"textarea":zl(c),E1(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=_u)}c=h,t.updateQueue=c,c!==null&&(t.flags|=4)}else{m=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Od(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=m.createElement(s,{is:c.is}):(e=m.createElement(s),s==="select"&&(m=e,c.multiple?m.multiple=!0:c.size&&(m.size=c.size))):e=m.createElementNS(e,s),e[ii]=t,e[ul]=c,eg(e,t,!1,!1),t.stateNode=e;e:{switch(m=cf(s,c),s){case"dialog":Tt("cancel",e),Tt("close",e),h=c;break;case"iframe":case"object":case"embed":Tt("load",e),h=c;break;case"video":case"audio":for(h=0;h<za.length;h++)Tt(za[h],e);h=c;break;case"source":Tt("error",e),h=c;break;case"img":case"image":case"link":Tt("error",e),Tt("load",e),h=c;break;case"details":Tt("toggle",e),h=c;break;case"input":y1(e,c),h=rf(e,c),Tt("invalid",e);break;case"option":h=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},h=Ut({},c,{value:void 0}),Tt("invalid",e);break;case"textarea":v1(e,c),h=af(e,c),Tt("invalid",e);break;default:h=c}uf(s,h),v=h;for(p in v)if(v.hasOwnProperty(p)){var E=v[p];p==="style"?kd(e,E):p==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&Rd(e,E)):p==="children"?typeof E=="string"?(s!=="textarea"||E!=="")&&el(e,E):typeof E=="number"&&el(e,""+E):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&($a.hasOwnProperty(p)?E!=null&&p==="onScroll"&&Tt("scroll",e):E!=null&&yh(e,p,E,m))}switch(s){case"input":zl(e),w1(e,c,!1);break;case"textarea":zl(e),E1(e);break;case"option":c.value!=null&&e.setAttribute("value",""+ls(c.value));break;case"select":e.multiple=!!c.multiple,p=c.value,p!=null?Bo(e,!!c.multiple,p,!1):c.defaultValue!=null&&Bo(e,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=_u)}switch(s){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return vn(t),null;case 6:if(e&&t.stateNode!=null)ng(e,t,e.memoizedProps,c);else{if(typeof c!="string"&&t.stateNode===null)throw Error(ue(166));if(s=Fs(fl.current),Fs(oi.current),Zl(t)){if(c=t.stateNode,s=t.memoizedProps,c[ii]=t,(p=c.nodeValue!==s)&&(e=ir,e!==null))switch(e.tag){case 3:Ql(c.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ql(c.nodeValue,s,(e.mode&1)!==0)}p&&(t.flags|=4)}else c=(s.nodeType===9?s:s.ownerDocument).createTextNode(c),c[ii]=t,t.stateNode=c}return vn(t),null;case 13:if(Nt(Lt),c=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Dt&&rr!==null&&t.mode&1&&!(t.flags&128))vp(),ia(),t.flags|=98560,p=!1;else if(p=Zl(t),c!==null&&c.dehydrated!==null){if(e===null){if(!p)throw Error(ue(318));if(p=t.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(ue(317));p[ii]=t}else ia(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vn(t),p=!1}else Vr!==null&&(Hf(Vr),Vr=null),p=!0;if(!p)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(t.child.flags|=8192,t.mode&1&&(e===null||Lt.current&1?on===0&&(on=3):e1())),t.updateQueue!==null&&(t.flags|=4),vn(t),null);case 4:return oa(),Bf(e,t),e===null&&al(t.stateNode.containerInfo),vn(t),null;case 10:return Lh(t.type._context),vn(t),null;case 17:return Xn(t.type)&&bu(),vn(t),null;case 19:if(Nt(Lt),p=t.memoizedState,p===null)return vn(t),null;if(c=(t.flags&128)!==0,m=p.rendering,m===null)if(c)La(p,!1);else{if(on!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(m=Pu(e),m!==null){for(t.flags|=128,La(p,!1),c=m.updateQueue,c!==null&&(t.updateQueue=c,t.flags|=4),t.subtreeFlags=0,c=s,s=t.child;s!==null;)p=s,e=c,p.flags&=14680066,m=p.alternate,m===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=m.childLanes,p.lanes=m.lanes,p.child=m.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=m.memoizedProps,p.memoizedState=m.memoizedState,p.updateQueue=m.updateQueue,p.type=m.type,e=m.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return _t(Lt,Lt.current&1|2),t.child}e=e.sibling}p.tail!==null&&Kt()>la&&(t.flags|=128,c=!0,La(p,!1),t.lanes=4194304)}else{if(!c)if(e=Pu(m),e!==null){if(t.flags|=128,c=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),La(p,!0),p.tail===null&&p.tailMode==="hidden"&&!m.alternate&&!Dt)return vn(t),null}else 2*Kt()-p.renderingStartTime>la&&s!==1073741824&&(t.flags|=128,c=!0,La(p,!1),t.lanes=4194304);p.isBackwards?(m.sibling=t.child,t.child=m):(s=p.last,s!==null?s.sibling=m:t.child=m,p.last=m)}return p.tail!==null?(t=p.tail,p.rendering=t,p.tail=t.sibling,p.renderingStartTime=Kt(),t.sibling=null,s=Lt.current,_t(Lt,c?s&1|2:s&1),t):(vn(t),null);case 22:case 23:return $h(),c=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(t.flags|=8192),c&&t.mode&1?nr&1073741824&&(vn(t),t.subtreeFlags&6&&(t.flags|=8192)):vn(t),null;case 24:return null;case 25:return null}throw Error(ue(156,t.tag))}function cx(e,t){switch(kh(t),t.tag){case 1:return Xn(t.type)&&bu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oa(),Nt(Gn),Nt(An),zh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vh(t),null;case 13:if(Nt(Lt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ue(340));ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Nt(Lt),null;case 4:return oa(),null;case 10:return Lh(t.type._context),null;case 22:case 23:return $h(),null;case 24:return null;default:return null}}var eu=!1,Cn=!1,fx=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function ko(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(c){zt(e,t,c)}else s.current=null}function Lf(e,t,s){try{s()}catch(c){zt(e,t,c)}}var c0=!1;function hx(e,t){if(vf=Au,e=ap(),Rh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var h=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var m=0,v=-1,E=-1,w=0,O=0,I=e,B=null;t:for(;;){for(var V;I!==s||h!==0&&I.nodeType!==3||(v=m+h),I!==p||c!==0&&I.nodeType!==3||(E=m+c),I.nodeType===3&&(m+=I.nodeValue.length),(V=I.firstChild)!==null;)B=I,I=V;for(;;){if(I===e)break t;if(B===s&&++w===h&&(v=m),B===p&&++O===c&&(E=m),(V=I.nextSibling)!==null)break;I=B,B=I.parentNode}I=V}s=v===-1||E===-1?null:{start:v,end:E}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ef={focusedElem:e,selectionRange:s},Au=!1,Ae=t;Ae!==null;)if(t=Ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ae=e;else for(;Ae!==null;){t=Ae;try{var K=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(K!==null){var G=K.memoizedProps,se=K.memoizedState,L=t.stateNode,T=L.getSnapshotBeforeUpdate(t.elementType===t.type?G:Fr(t.type,G),se);L.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var P=t.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(z){zt(t,t.return,z)}if(e=t.sibling,e!==null){e.return=t.return,Ae=e;break}Ae=t.return}return K=c0,c0=!1,K}function Qa(e,t,s){var c=t.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&e)===e){var p=h.destroy;h.destroy=void 0,p!==void 0&&Lf(t,s,p)}h=h.next}while(h!==c)}}function oc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var c=s.create;s.destroy=c()}s=s.next}while(s!==t)}}function Ff(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function rg(e){var t=e.alternate;t!==null&&(e.alternate=null,rg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ii],delete t[ul],delete t[Sf],delete t[Ym],delete t[qm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ig(e){return e.tag===5||e.tag===3||e.tag===4}function f0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ig(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uf(e,t,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=_u));else if(c!==4&&(e=e.child,e!==null))for(Uf(e,t,s),e=e.sibling;e!==null;)Uf(e,t,s),e=e.sibling}function jf(e,t,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(jf(e,t,s),e=e.sibling;e!==null;)jf(e,t,s),e=e.sibling}var dn=null,jr=!1;function Bi(e,t,s){for(s=s.child;s!==null;)sg(e,t,s),s=s.sibling}function sg(e,t,s){if(si&&typeof si.onCommitFiberUnmount=="function")try{si.onCommitFiberUnmount(Ju,s)}catch{}switch(s.tag){case 5:Cn||ko(s,t);case 6:var c=dn,h=jr;dn=null,Bi(e,t,s),dn=c,jr=h,dn!==null&&(jr?(e=dn,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):dn.removeChild(s.stateNode));break;case 18:dn!==null&&(jr?(e=dn,s=s.stateNode,e.nodeType===8?Uc(e.parentNode,s):e.nodeType===1&&Uc(e,s),il(e)):Uc(dn,s.stateNode));break;case 4:c=dn,h=jr,dn=s.stateNode.containerInfo,jr=!0,Bi(e,t,s),dn=c,jr=h;break;case 0:case 11:case 14:case 15:if(!Cn&&(c=s.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var p=h,m=p.destroy;p=p.tag,m!==void 0&&(p&2||p&4)&&Lf(s,t,m),h=h.next}while(h!==c)}Bi(e,t,s);break;case 1:if(!Cn&&(ko(s,t),c=s.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=s.memoizedProps,c.state=s.memoizedState,c.componentWillUnmount()}catch(v){zt(s,t,v)}Bi(e,t,s);break;case 21:Bi(e,t,s);break;case 22:s.mode&1?(Cn=(c=Cn)||s.memoizedState!==null,Bi(e,t,s),Cn=c):Bi(e,t,s);break;default:Bi(e,t,s)}}function h0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new fx),t.forEach(function(c){var h=Ex.bind(null,e,c);s.has(c)||(s.add(c),c.then(h,h))})}}function Lr(e,t){var s=t.deletions;if(s!==null)for(var c=0;c<s.length;c++){var h=s[c];try{var p=e,m=t,v=m;e:for(;v!==null;){switch(v.tag){case 5:dn=v.stateNode,jr=!1;break e;case 3:dn=v.stateNode.containerInfo,jr=!0;break e;case 4:dn=v.stateNode.containerInfo,jr=!0;break e}v=v.return}if(dn===null)throw Error(ue(160));sg(p,m,h),dn=null,jr=!1;var E=h.alternate;E!==null&&(E.return=null),h.return=null}catch(w){zt(h,t,w)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)og(t,e),t=t.sibling}function og(e,t){var s=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lr(t,e),Jr(e),c&4){try{Qa(3,e,e.return),oc(3,e)}catch(G){zt(e,e.return,G)}try{Qa(5,e,e.return)}catch(G){zt(e,e.return,G)}}break;case 1:Lr(t,e),Jr(e),c&512&&s!==null&&ko(s,s.return);break;case 5:if(Lr(t,e),Jr(e),c&512&&s!==null&&ko(s,s.return),e.flags&32){var h=e.stateNode;try{el(h,"")}catch(G){zt(e,e.return,G)}}if(c&4&&(h=e.stateNode,h!=null)){var p=e.memoizedProps,m=s!==null?s.memoizedProps:p,v=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{v==="input"&&p.type==="radio"&&p.name!=null&&Td(h,p),cf(v,m);var w=cf(v,p);for(m=0;m<E.length;m+=2){var O=E[m],I=E[m+1];O==="style"?kd(h,I):O==="dangerouslySetInnerHTML"?Rd(h,I):O==="children"?el(h,I):yh(h,O,I,w)}switch(v){case"input":sf(h,p);break;case"textarea":Nd(h,p);break;case"select":var B=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var V=p.value;V!=null?Bo(h,!!p.multiple,V,!1):B!==!!p.multiple&&(p.defaultValue!=null?Bo(h,!!p.multiple,p.defaultValue,!0):Bo(h,!!p.multiple,p.multiple?[]:"",!1))}h[ul]=p}catch(G){zt(e,e.return,G)}}break;case 6:if(Lr(t,e),Jr(e),c&4){if(e.stateNode===null)throw Error(ue(162));h=e.stateNode,p=e.memoizedProps;try{h.nodeValue=p}catch(G){zt(e,e.return,G)}}break;case 3:if(Lr(t,e),Jr(e),c&4&&s!==null&&s.memoizedState.isDehydrated)try{il(t.containerInfo)}catch(G){zt(e,e.return,G)}break;case 4:Lr(t,e),Jr(e);break;case 13:Lr(t,e),Jr(e),h=e.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Zh=Kt())),c&4&&h0(e);break;case 22:if(O=s!==null&&s.memoizedState!==null,e.mode&1?(Cn=(w=Cn)||O,Lr(t,e),Cn=w):Lr(t,e),Jr(e),c&8192){if(w=e.memoizedState!==null,(e.stateNode.isHidden=w)&&!O&&e.mode&1)for(Ae=e,O=e.child;O!==null;){for(I=Ae=O;Ae!==null;){switch(B=Ae,V=B.child,B.tag){case 0:case 11:case 14:case 15:Qa(4,B,B.return);break;case 1:ko(B,B.return);var K=B.stateNode;if(typeof K.componentWillUnmount=="function"){c=B,s=B.return;try{t=c,K.props=t.memoizedProps,K.state=t.memoizedState,K.componentWillUnmount()}catch(G){zt(c,s,G)}}break;case 5:ko(B,B.return);break;case 22:if(B.memoizedState!==null){p0(I);continue}}V!==null?(V.return=B,Ae=V):p0(I)}O=O.sibling}e:for(O=null,I=e;;){if(I.tag===5){if(O===null){O=I;try{h=I.stateNode,w?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(v=I.stateNode,E=I.memoizedProps.style,m=E!=null&&E.hasOwnProperty("display")?E.display:null,v.style.display=Dd("display",m))}catch(G){zt(e,e.return,G)}}}else if(I.tag===6){if(O===null)try{I.stateNode.nodeValue=w?"":I.memoizedProps}catch(G){zt(e,e.return,G)}}else if((I.tag!==22&&I.tag!==23||I.memoizedState===null||I===e)&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===e)break e;for(;I.sibling===null;){if(I.return===null||I.return===e)break e;O===I&&(O=null),I=I.return}O===I&&(O=null),I.sibling.return=I.return,I=I.sibling}}break;case 19:Lr(t,e),Jr(e),c&4&&h0(e);break;case 21:break;default:Lr(t,e),Jr(e)}}function Jr(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(ig(s)){var c=s;break e}s=s.return}throw Error(ue(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(el(h,""),c.flags&=-33);var p=f0(e);jf(e,p,h);break;case 3:case 4:var m=c.stateNode.containerInfo,v=f0(e);Uf(e,v,m);break;default:throw Error(ue(161))}}catch(E){zt(e,e.return,E)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dx(e,t,s){Ae=e,ag(e)}function ag(e,t,s){for(var c=(e.mode&1)!==0;Ae!==null;){var h=Ae,p=h.child;if(h.tag===22&&c){var m=h.memoizedState!==null||eu;if(!m){var v=h.alternate,E=v!==null&&v.memoizedState!==null||Cn;v=eu;var w=Cn;if(eu=m,(Cn=E)&&!w)for(Ae=h;Ae!==null;)m=Ae,E=m.child,m.tag===22&&m.memoizedState!==null?g0(h):E!==null?(E.return=m,Ae=E):g0(h);for(;p!==null;)Ae=p,ag(p),p=p.sibling;Ae=h,eu=v,Cn=w}d0(e)}else h.subtreeFlags&8772&&p!==null?(p.return=h,Ae=p):d0(e)}}function d0(e){for(;Ae!==null;){var t=Ae;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Cn||oc(5,t);break;case 1:var c=t.stateNode;if(t.flags&4&&!Cn)if(s===null)c.componentDidMount();else{var h=t.elementType===t.type?s.memoizedProps:Fr(t.type,s.memoizedProps);c.componentDidUpdate(h,s.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=t.updateQueue;p!==null&&Z1(t,p,c);break;case 3:var m=t.updateQueue;if(m!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Z1(t,m,s)}break;case 5:var v=t.stateNode;if(s===null&&t.flags&4){s=v;var E=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&s.focus();break;case"img":E.src&&(s.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var w=t.alternate;if(w!==null){var O=w.memoizedState;if(O!==null){var I=O.dehydrated;I!==null&&il(I)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}Cn||t.flags&512&&Ff(t)}catch(B){zt(t,t.return,B)}}if(t===e){Ae=null;break}if(s=t.sibling,s!==null){s.return=t.return,Ae=s;break}Ae=t.return}}function p0(e){for(;Ae!==null;){var t=Ae;if(t===e){Ae=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Ae=s;break}Ae=t.return}}function g0(e){for(;Ae!==null;){var t=Ae;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{oc(4,t)}catch(E){zt(t,s,E)}break;case 1:var c=t.stateNode;if(typeof c.componentDidMount=="function"){var h=t.return;try{c.componentDidMount()}catch(E){zt(t,h,E)}}var p=t.return;try{Ff(t)}catch(E){zt(t,p,E)}break;case 5:var m=t.return;try{Ff(t)}catch(E){zt(t,m,E)}}}catch(E){zt(t,t.return,E)}if(t===e){Ae=null;break}var v=t.sibling;if(v!==null){v.return=t.return,Ae=v;break}Ae=t.return}}var px=Math.ceil,Lu=_i.ReactCurrentDispatcher,qh=_i.ReactCurrentOwner,_r=_i.ReactCurrentBatchConfig,st=0,cn=null,Qt=null,pn=0,nr=0,Po=hs(0),on=0,gl=null,Zs=0,ac=0,Qh=0,Za=null,Wn=null,Zh=0,la=1/0,gi=null,Fu=!1,Vf=null,is=null,tu=!1,Zi=null,Uu=0,Ja=0,zf=null,du=-1,pu=0;function Rn(){return st&6?Kt():du!==-1?du:du=Kt()}function ss(e){return e.mode&1?st&2&&pn!==0?pn&-pn:Zm.transition!==null?(pu===0&&(pu=Gd()),pu):(e=mt,e!==0||(e=window.event,e=e===void 0?16:Jd(e.type)),e):1}function Hr(e,t,s,c){if(50<Ja)throw Ja=0,zf=null,Error(ue(185));Sl(e,s,c),(!(st&2)||e!==cn)&&(e===cn&&(!(st&2)&&(ac|=s),on===4&&Vi(e,pn)),Kn(e,c),s===1&&st===0&&!(t.mode&1)&&(la=Kt()+500,rc&&ds()))}function Kn(e,t){var s=e.callbackNode;Z2(e,t);var c=Cu(e,e===cn?pn:0);if(c===0)s!==null&&S1(s),e.callbackNode=null,e.callbackPriority=0;else if(t=c&-c,e.callbackPriority!==t){if(s!=null&&S1(s),t===1)e.tag===0?Qm(m0.bind(null,e)):xp(m0.bind(null,e)),Xm(function(){!(st&6)&&ds()}),s=null;else{switch(Xd(c)){case 1:s=Ah;break;case 4:s=Wd;break;case 16:s=Eu;break;case 536870912:s=Hd;break;default:s=Eu}s=gg(s,lg.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function lg(e,t){if(du=-1,pu=0,st&6)throw Error(ue(327));var s=e.callbackNode;if(Vo()&&e.callbackNode!==s)return null;var c=Cu(e,e===cn?pn:0);if(c===0)return null;if(c&30||c&e.expiredLanes||t)t=ju(e,c);else{t=c;var h=st;st|=2;var p=cg();(cn!==e||pn!==t)&&(gi=null,la=Kt()+500,Xs(e,t));do try{xx();break}catch(v){ug(e,v)}while(!0);Bh(),Lu.current=p,st=h,Qt!==null?t=0:(cn=null,pn=0,t=on)}if(t!==0){if(t===2&&(h=gf(e),h!==0&&(c=h,t=Wf(e,h))),t===1)throw s=gl,Xs(e,0),Vi(e,c),Kn(e,Kt()),s;if(t===6)Vi(e,c);else{if(h=e.current.alternate,!(c&30)&&!gx(h)&&(t=ju(e,c),t===2&&(p=gf(e),p!==0&&(c=p,t=Wf(e,p))),t===1))throw s=gl,Xs(e,0),Vi(e,c),Kn(e,Kt()),s;switch(e.finishedWork=h,e.finishedLanes=c,t){case 0:case 1:throw Error(ue(345));case 2:Ps(e,Wn,gi);break;case 3:if(Vi(e,c),(c&130023424)===c&&(t=Zh+500-Kt(),10<t)){if(Cu(e,0)!==0)break;if(h=e.suspendedLanes,(h&c)!==c){Rn(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=Af(Ps.bind(null,e,Wn,gi),t);break}Ps(e,Wn,gi);break;case 4:if(Vi(e,c),(c&4194240)===c)break;for(t=e.eventTimes,h=-1;0<c;){var m=31-Wr(c);p=1<<m,m=t[m],m>h&&(h=m),c&=~p}if(c=h,c=Kt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*px(c/1960))-c,10<c){e.timeoutHandle=Af(Ps.bind(null,e,Wn,gi),c);break}Ps(e,Wn,gi);break;case 5:Ps(e,Wn,gi);break;default:throw Error(ue(329))}}}return Kn(e,Kt()),e.callbackNode===s?lg.bind(null,e):null}function Wf(e,t){var s=Za;return e.current.memoizedState.isDehydrated&&(Xs(e,t).flags|=256),e=ju(e,t),e!==2&&(t=Wn,Wn=s,t!==null&&Hf(t)),e}function Hf(e){Wn===null?Wn=e:Wn.push.apply(Wn,e)}function gx(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var c=0;c<s.length;c++){var h=s[c],p=h.getSnapshot;h=h.value;try{if(!Gr(p(),h))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vi(e,t){for(t&=~Qh,t&=~ac,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Wr(t),c=1<<s;e[s]=-1,t&=~c}}function m0(e){if(st&6)throw Error(ue(327));Vo();var t=Cu(e,0);if(!(t&1))return Kn(e,Kt()),null;var s=ju(e,t);if(e.tag!==0&&s===2){var c=gf(e);c!==0&&(t=c,s=Wf(e,c))}if(s===1)throw s=gl,Xs(e,0),Vi(e,t),Kn(e,Kt()),s;if(s===6)throw Error(ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e,Wn,gi),Kn(e,Kt()),null}function Jh(e,t){var s=st;st|=1;try{return e(t)}finally{st=s,st===0&&(la=Kt()+500,rc&&ds())}}function Js(e){Zi!==null&&Zi.tag===0&&!(st&6)&&Vo();var t=st;st|=1;var s=_r.transition,c=mt;try{if(_r.transition=null,mt=1,e)return e()}finally{mt=c,_r.transition=s,st=t,!(st&6)&&ds()}}function $h(){nr=Po.current,Nt(Po)}function Xs(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Gm(s)),Qt!==null)for(s=Qt.return;s!==null;){var c=s;switch(kh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&bu();break;case 3:oa(),Nt(Gn),Nt(An),zh();break;case 5:Vh(c);break;case 4:oa();break;case 13:Nt(Lt);break;case 19:Nt(Lt);break;case 10:Lh(c.type._context);break;case 22:case 23:$h()}s=s.return}if(cn=e,Qt=e=os(e.current,null),pn=nr=t,on=0,gl=null,Qh=ac=Zs=0,Wn=Za=null,Ls!==null){for(t=0;t<Ls.length;t++)if(s=Ls[t],c=s.interleaved,c!==null){s.interleaved=null;var h=c.next,p=s.pending;if(p!==null){var m=p.next;p.next=h,c.next=m}s.pending=c}Ls=null}return e}function ug(e,t){do{var s=Qt;try{if(Bh(),cu.current=Bu,Mu){for(var c=Ft.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Mu=!1}if(Qs=0,un=rn=Ft=null,qa=!1,hl=0,qh.current=null,s===null||s.return===null){on=1,gl=t,Qt=null;break}e:{var p=e,m=s.return,v=s,E=t;if(t=pn,v.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var w=E,O=v,I=O.tag;if(!(O.mode&1)&&(I===0||I===11||I===15)){var B=O.alternate;B?(O.updateQueue=B.updateQueue,O.memoizedState=B.memoizedState,O.lanes=B.lanes):(O.updateQueue=null,O.memoizedState=null)}var V=r0(m);if(V!==null){V.flags&=-257,i0(V,m,v,p,t),V.mode&1&&n0(p,w,t),t=V,E=w;var K=t.updateQueue;if(K===null){var G=new Set;G.add(E),t.updateQueue=G}else K.add(E);break e}else{if(!(t&1)){n0(p,w,t),e1();break e}E=Error(ue(426))}}else if(Dt&&v.mode&1){var se=r0(m);if(se!==null){!(se.flags&65536)&&(se.flags|=256),i0(se,m,v,p,t),Ph(aa(E,v));break e}}p=E=aa(E,v),on!==4&&(on=2),Za===null?Za=[p]:Za.push(p),p=m;do{switch(p.tag){case 3:p.flags|=65536,t&=-t,p.lanes|=t;var L=Xp(p,E,t);Q1(p,L);break e;case 1:v=E;var T=p.type,P=p.stateNode;if(!(p.flags&128)&&(typeof T.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(is===null||!is.has(P)))){p.flags|=65536,t&=-t,p.lanes|=t;var z=Kp(p,v,t);Q1(p,z);break e}}p=p.return}while(p!==null)}hg(s)}catch(oe){t=oe,Qt===s&&s!==null&&(Qt=s=s.return);continue}break}while(!0)}function cg(){var e=Lu.current;return Lu.current=Bu,e===null?Bu:e}function e1(){(on===0||on===3||on===2)&&(on=4),cn===null||!(Zs&268435455)&&!(ac&268435455)||Vi(cn,pn)}function ju(e,t){var s=st;st|=2;var c=cg();(cn!==e||pn!==t)&&(gi=null,Xs(e,t));do try{mx();break}catch(h){ug(e,h)}while(!0);if(Bh(),st=s,Lu.current=c,Qt!==null)throw Error(ue(261));return cn=null,pn=0,on}function mx(){for(;Qt!==null;)fg(Qt)}function xx(){for(;Qt!==null&&!z2();)fg(Qt)}function fg(e){var t=pg(e.alternate,e,nr);e.memoizedProps=e.pendingProps,t===null?hg(e):Qt=t,qh.current=null}function hg(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=cx(s,t),s!==null){s.flags&=32767,Qt=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{on=6,Qt=null;return}}else if(s=ux(s,t,nr),s!==null){Qt=s;return}if(t=t.sibling,t!==null){Qt=t;return}Qt=t=e}while(t!==null);on===0&&(on=5)}function Ps(e,t,s){var c=mt,h=_r.transition;try{_r.transition=null,mt=1,yx(e,t,s,c)}finally{_r.transition=h,mt=c}return null}function yx(e,t,s,c){do Vo();while(Zi!==null);if(st&6)throw Error(ue(327));s=e.finishedWork;var h=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(ue(177));e.callbackNode=null,e.callbackPriority=0;var p=s.lanes|s.childLanes;if(J2(e,p),e===cn&&(Qt=cn=null,pn=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||tu||(tu=!0,gg(Eu,function(){return Vo(),null})),p=(s.flags&15990)!==0,s.subtreeFlags&15990||p){p=_r.transition,_r.transition=null;var m=mt;mt=1;var v=st;st|=4,qh.current=null,hx(e,s),og(s,e),Fm(Ef),Au=!!vf,Ef=vf=null,e.current=s,dx(s),W2(),st=v,mt=m,_r.transition=p}else e.current=s;if(tu&&(tu=!1,Zi=e,Uu=h),p=e.pendingLanes,p===0&&(is=null),X2(s.stateNode),Kn(e,Kt()),t!==null)for(c=e.onRecoverableError,s=0;s<t.length;s++)h=t[s],c(h.value,{componentStack:h.stack,digest:h.digest});if(Fu)throw Fu=!1,e=Vf,Vf=null,e;return Uu&1&&e.tag!==0&&Vo(),p=e.pendingLanes,p&1?e===zf?Ja++:(Ja=0,zf=e):Ja=0,ds(),null}function Vo(){if(Zi!==null){var e=Xd(Uu),t=_r.transition,s=mt;try{if(_r.transition=null,mt=16>e?16:e,Zi===null)var c=!1;else{if(e=Zi,Zi=null,Uu=0,st&6)throw Error(ue(331));var h=st;for(st|=4,Ae=e.current;Ae!==null;){var p=Ae,m=p.child;if(Ae.flags&16){var v=p.deletions;if(v!==null){for(var E=0;E<v.length;E++){var w=v[E];for(Ae=w;Ae!==null;){var O=Ae;switch(O.tag){case 0:case 11:case 15:Qa(8,O,p)}var I=O.child;if(I!==null)I.return=O,Ae=I;else for(;Ae!==null;){O=Ae;var B=O.sibling,V=O.return;if(rg(O),O===w){Ae=null;break}if(B!==null){B.return=V,Ae=B;break}Ae=V}}}var K=p.alternate;if(K!==null){var G=K.child;if(G!==null){K.child=null;do{var se=G.sibling;G.sibling=null,G=se}while(G!==null)}}Ae=p}}if(p.subtreeFlags&2064&&m!==null)m.return=p,Ae=m;else e:for(;Ae!==null;){if(p=Ae,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Qa(9,p,p.return)}var L=p.sibling;if(L!==null){L.return=p.return,Ae=L;break e}Ae=p.return}}var T=e.current;for(Ae=T;Ae!==null;){m=Ae;var P=m.child;if(m.subtreeFlags&2064&&P!==null)P.return=m,Ae=P;else e:for(m=T;Ae!==null;){if(v=Ae,v.flags&2048)try{switch(v.tag){case 0:case 11:case 15:oc(9,v)}}catch(oe){zt(v,v.return,oe)}if(v===m){Ae=null;break e}var z=v.sibling;if(z!==null){z.return=v.return,Ae=z;break e}Ae=v.return}}if(st=h,ds(),si&&typeof si.onPostCommitFiberRoot=="function")try{si.onPostCommitFiberRoot(Ju,e)}catch{}c=!0}return c}finally{mt=s,_r.transition=t}}return!1}function x0(e,t,s){t=aa(s,t),t=Xp(e,t,1),e=rs(e,t,1),t=Rn(),e!==null&&(Sl(e,1,t),Kn(e,t))}function zt(e,t,s){if(e.tag===3)x0(e,e,s);else for(;t!==null;){if(t.tag===3){x0(t,e,s);break}else if(t.tag===1){var c=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(is===null||!is.has(c))){e=aa(s,e),e=Kp(t,e,1),t=rs(t,e,1),e=Rn(),t!==null&&(Sl(t,1,e),Kn(t,e));break}}t=t.return}}function wx(e,t,s){var c=e.pingCache;c!==null&&c.delete(t),t=Rn(),e.pingedLanes|=e.suspendedLanes&s,cn===e&&(pn&s)===s&&(on===4||on===3&&(pn&130023424)===pn&&500>Kt()-Zh?Xs(e,0):Qh|=s),Kn(e,t)}function dg(e,t){t===0&&(e.mode&1?(t=Gl,Gl<<=1,!(Gl&130023424)&&(Gl=4194304)):t=1);var s=Rn();e=Si(e,t),e!==null&&(Sl(e,t,s),Kn(e,s))}function vx(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),dg(e,s)}function Ex(e,t){var s=0;switch(e.tag){case 13:var c=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(ue(314))}c!==null&&c.delete(t),dg(e,s)}var pg;pg=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gn.current)Hn=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return Hn=!1,lx(e,t,s);Hn=!!(e.flags&131072)}else Hn=!1,Dt&&t.flags&1048576&&yp(t,Ou,t.index);switch(t.lanes=0,t.tag){case 2:var c=t.type;hu(e,t),e=t.pendingProps;var h=ra(t,An.current);jo(t,s),h=Hh(null,t,c,e,h,s);var p=Gh();return t.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xn(c)?(p=!0,Tu(t)):p=!1,t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Uh(t),h.updater=sc,t.stateNode=h,h._reactInternals=t,Of(t,c,e,s),t=kf(null,t,c,!0,p,s)):(t.tag=0,Dt&&p&&Dh(t),On(null,t,h,s),t=t.child),t;case 16:c=t.elementType;e:{switch(hu(e,t),e=t.pendingProps,h=c._init,c=h(c._payload),t.type=c,h=t.tag=Ax(c),e=Fr(c,e),h){case 0:t=Df(null,t,c,e,s);break e;case 1:t=a0(null,t,c,e,s);break e;case 11:t=s0(null,t,c,e,s);break e;case 14:t=o0(null,t,c,Fr(c.type,e),s);break e}throw Error(ue(306,c,""))}return t;case 0:return c=t.type,h=t.pendingProps,h=t.elementType===c?h:Fr(c,h),Df(e,t,c,h,s);case 1:return c=t.type,h=t.pendingProps,h=t.elementType===c?h:Fr(c,h),a0(e,t,c,h,s);case 3:e:{if(Zp(t),e===null)throw Error(ue(387));c=t.pendingProps,p=t.memoizedState,h=p.element,Sp(e,t),ku(t,c,null,s);var m=t.memoizedState;if(c=m.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){h=aa(Error(ue(423)),t),t=l0(e,t,c,s,h);break e}else if(c!==h){h=aa(Error(ue(424)),t),t=l0(e,t,c,s,h);break e}else for(rr=ns(t.stateNode.containerInfo.firstChild),ir=t,Dt=!0,Vr=null,s=Cp(t,null,c,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ia(),c===h){t=Ii(e,t,s);break e}On(e,t,c,s)}t=t.child}return t;case 5:return Ip(t),e===null&&bf(t),c=t.type,h=t.pendingProps,p=e!==null?e.memoizedProps:null,m=h.children,Cf(c,h)?m=null:p!==null&&Cf(c,p)&&(t.flags|=32),Qp(e,t),On(e,t,m,s),t.child;case 6:return e===null&&bf(t),null;case 13:return Jp(e,t,s);case 4:return jh(t,t.stateNode.containerInfo),c=t.pendingProps,e===null?t.child=sa(t,null,c,s):On(e,t,c,s),t.child;case 11:return c=t.type,h=t.pendingProps,h=t.elementType===c?h:Fr(c,h),s0(e,t,c,h,s);case 7:return On(e,t,t.pendingProps,s),t.child;case 8:return On(e,t,t.pendingProps.children,s),t.child;case 12:return On(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(c=t.type._context,h=t.pendingProps,p=t.memoizedProps,m=h.value,_t(Ru,c._currentValue),c._currentValue=m,p!==null)if(Gr(p.value,m)){if(p.children===h.children&&!Gn.current){t=Ii(e,t,s);break e}}else for(p=t.child,p!==null&&(p.return=t);p!==null;){var v=p.dependencies;if(v!==null){m=p.child;for(var E=v.firstContext;E!==null;){if(E.context===c){if(p.tag===1){E=vi(-1,s&-s),E.tag=2;var w=p.updateQueue;if(w!==null){w=w.shared;var O=w.pending;O===null?E.next=E:(E.next=O.next,O.next=E),w.pending=E}}p.lanes|=s,E=p.alternate,E!==null&&(E.lanes|=s),Tf(p.return,s,t),v.lanes|=s;break}E=E.next}}else if(p.tag===10)m=p.type===t.type?null:p.child;else if(p.tag===18){if(m=p.return,m===null)throw Error(ue(341));m.lanes|=s,v=m.alternate,v!==null&&(v.lanes|=s),Tf(m,s,t),m=p.sibling}else m=p.child;if(m!==null)m.return=p;else for(m=p;m!==null;){if(m===t){m=null;break}if(p=m.sibling,p!==null){p.return=m.return,m=p;break}m=m.return}p=m}On(e,t,h.children,s),t=t.child}return t;case 9:return h=t.type,c=t.pendingProps.children,jo(t,s),h=br(h),c=c(h),t.flags|=1,On(e,t,c,s),t.child;case 14:return c=t.type,h=Fr(c,t.pendingProps),h=Fr(c.type,h),o0(e,t,c,h,s);case 15:return Yp(e,t,t.type,t.pendingProps,s);case 17:return c=t.type,h=t.pendingProps,h=t.elementType===c?h:Fr(c,h),hu(e,t),t.tag=1,Xn(c)?(e=!0,Tu(t)):e=!1,jo(t,s),Gp(t,c,h),Of(t,c,h,s),kf(null,t,c,!0,e,s);case 19:return $p(e,t,s);case 22:return qp(e,t,s)}throw Error(ue(156,t.tag))};function gg(e,t){return zd(e,t)}function Cx(e,t,s,c){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(e,t,s,c){return new Cx(e,t,s,c)}function t1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ax(e){if(typeof e=="function")return t1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vh)return 11;if(e===Eh)return 14}return 2}function os(e,t){var s=e.alternate;return s===null?(s=Ir(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function gu(e,t,s,c,h,p){var m=2;if(c=e,typeof e=="function")t1(e)&&(m=1);else if(typeof e=="string")m=5;else e:switch(e){case So:return Ks(s.children,h,p,t);case wh:m=8,h|=8;break;case $c:return e=Ir(12,s,t,h|2),e.elementType=$c,e.lanes=p,e;case ef:return e=Ir(13,s,t,h),e.elementType=ef,e.lanes=p,e;case tf:return e=Ir(19,s,t,h),e.elementType=tf,e.lanes=p,e;case Id:return lc(s,h,p,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ad:m=10;break e;case Sd:m=9;break e;case vh:m=11;break e;case Eh:m=14;break e;case Fi:m=16,c=null;break e}throw Error(ue(130,e==null?e:typeof e,""))}return t=Ir(m,s,t,h),t.elementType=e,t.type=c,t.lanes=p,t}function Ks(e,t,s,c){return e=Ir(7,e,c,t),e.lanes=s,e}function lc(e,t,s,c){return e=Ir(22,e,c,t),e.elementType=Id,e.lanes=s,e.stateNode={isHidden:!1},e}function Kc(e,t,s){return e=Ir(6,e,null,t),e.lanes=s,e}function Yc(e,t,s){return t=Ir(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Sx(e,t,s,c,h){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tc(0),this.expirationTimes=Tc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tc(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function n1(e,t,s,c,h,p,m,v,E){return e=new Sx(e,t,s,v,E),t===1?(t=1,p===!0&&(t|=8)):t=0,p=Ir(3,null,null,t),e.current=p,p.stateNode=e,p.memoizedState={element:c,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uh(p),e}function Ix(e,t,s){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ao,key:c==null?null:""+c,children:e,containerInfo:t,implementation:s}}function mg(e){if(!e)return us;e=e._reactInternals;e:{if(to(e)!==e||e.tag!==1)throw Error(ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ue(171))}if(e.tag===1){var s=e.type;if(Xn(s))return mp(e,s,t)}return t}function xg(e,t,s,c,h,p,m,v,E){return e=n1(s,c,!0,e,h,p,m,v,E),e.context=mg(null),s=e.current,c=Rn(),h=ss(s),p=vi(c,h),p.callback=t??null,rs(s,p,h),e.current.lanes=h,Sl(e,h,c),Kn(e,c),e}function uc(e,t,s,c){var h=t.current,p=Rn(),m=ss(h);return s=mg(s),t.context===null?t.context=s:t.pendingContext=s,t=vi(p,m),t.payload={element:e},c=c===void 0?null:c,c!==null&&(t.callback=c),e=rs(h,t,m),e!==null&&(Hr(e,h,m,p),uu(e,h,m)),m}function Vu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function y0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function r1(e,t){y0(e,t),(e=e.alternate)&&y0(e,t)}function _x(){return null}var yg=typeof reportError=="function"?reportError:function(e){console.error(e)};function i1(e){this._internalRoot=e}cc.prototype.render=i1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ue(409));uc(e,t,null,null)};cc.prototype.unmount=i1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Js(function(){uc(null,e,null,null)}),t[Ai]=null}};function cc(e){this._internalRoot=e}cc.prototype.unstable_scheduleHydration=function(e){if(e){var t=qd();e={blockedOn:null,target:e,priority:t};for(var s=0;s<ji.length&&t!==0&&t<ji[s].priority;s++);ji.splice(s,0,e),s===0&&Zd(e)}};function s1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function w0(){}function bx(e,t,s,c,h){if(h){if(typeof c=="function"){var p=c;c=function(){var w=Vu(m);p.call(w)}}var m=xg(t,c,e,0,null,!1,!1,"",w0);return e._reactRootContainer=m,e[Ai]=m.current,al(e.nodeType===8?e.parentNode:e),Js(),m}for(;h=e.lastChild;)e.removeChild(h);if(typeof c=="function"){var v=c;c=function(){var w=Vu(E);v.call(w)}}var E=n1(e,0,!1,null,null,!1,!1,"",w0);return e._reactRootContainer=E,e[Ai]=E.current,al(e.nodeType===8?e.parentNode:e),Js(function(){uc(t,E,s,c)}),E}function hc(e,t,s,c,h){var p=s._reactRootContainer;if(p){var m=p;if(typeof h=="function"){var v=h;h=function(){var E=Vu(m);v.call(E)}}uc(t,m,e,h)}else m=bx(s,t,e,h,c);return Vu(m)}Kd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Va(t.pendingLanes);s!==0&&(Sh(t,s|1),Kn(t,Kt()),!(st&6)&&(la=Kt()+500,ds()))}break;case 13:Js(function(){var c=Si(e,1);if(c!==null){var h=Rn();Hr(c,e,1,h)}}),r1(e,1)}};Ih=function(e){if(e.tag===13){var t=Si(e,134217728);if(t!==null){var s=Rn();Hr(t,e,134217728,s)}r1(e,134217728)}};Yd=function(e){if(e.tag===13){var t=ss(e),s=Si(e,t);if(s!==null){var c=Rn();Hr(s,e,t,c)}r1(e,t)}};qd=function(){return mt};Qd=function(e,t){var s=mt;try{return mt=e,t()}finally{mt=s}};hf=function(e,t,s){switch(t){case"input":if(sf(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var c=s[t];if(c!==e&&c.form===e.form){var h=nc(c);if(!h)throw Error(ue(90));bd(c),sf(c,h)}}}break;case"textarea":Nd(e,s);break;case"select":t=s.value,t!=null&&Bo(e,!!s.multiple,t,!1)}};Bd=Jh;Ld=Js;var Tx={usingClientEntryPoint:!1,Events:[_l,To,nc,Pd,Md,Jh]},Fa={findFiberByHostInstance:Bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nx={bundleType:Fa.bundleType,version:Fa.version,rendererPackageName:Fa.rendererPackageName,rendererConfig:Fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_i.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jd(e),e===null?null:e.stateNode},findFiberByHostInstance:Fa.findFiberByHostInstance||_x,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{Ju=nu.inject(Nx),si=nu}catch{}}or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tx;or.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!s1(t))throw Error(ue(200));return Ix(e,t,null,s)};or.createRoot=function(e,t){if(!s1(e))throw Error(ue(299));var s=!1,c="",h=yg;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(c=t.identifierPrefix),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=n1(e,1,!1,null,null,s,!1,c,h),e[Ai]=t.current,al(e.nodeType===8?e.parentNode:e),new i1(t)};or.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ue(188)):(e=Object.keys(e).join(","),Error(ue(268,e)));return e=jd(t),e=e===null?null:e.stateNode,e};or.flushSync=function(e){return Js(e)};or.hydrate=function(e,t,s){if(!fc(t))throw Error(ue(200));return hc(null,e,t,!0,s)};or.hydrateRoot=function(e,t,s){if(!s1(e))throw Error(ue(405));var c=s!=null&&s.hydratedSources||null,h=!1,p="",m=yg;if(s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),t=xg(t,null,e,1,s??null,h,!1,p,m),e[Ai]=t.current,al(e),c)for(e=0;e<c.length;e++)s=c[e],h=s._getVersion,h=h(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,h]:t.mutableSourceEagerHydrationData.push(s,h);return new cc(t)};or.render=function(e,t,s){if(!fc(t))throw Error(ue(200));return hc(null,e,t,!1,s)};or.unmountComponentAtNode=function(e){if(!fc(e))throw Error(ue(40));return e._reactRootContainer?(Js(function(){hc(null,null,e,!1,function(){e._reactRootContainer=null,e[Ai]=null})}),!0):!1};or.unstable_batchedUpdates=Jh;or.unstable_renderSubtreeIntoContainer=function(e,t,s,c){if(!fc(s))throw Error(ue(200));if(e==null||e._reactInternals===void 0)throw Error(ue(38));return hc(e,t,s,!1,c)};or.version="18.3.1-next-f1338f8080-20240426";function wg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wg)}catch(e){console.error(e)}}wg(),wd.exports=or;var Ox=wd.exports,v0=Ox;Zc.createRoot=v0.createRoot,Zc.hydrateRoot=v0.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ml(){return ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c])}return e},ml.apply(this,arguments)}var Ji;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ji||(Ji={}));const E0="popstate";function Rx(e){e===void 0&&(e={});function t(c,h){let{pathname:p,search:m,hash:v}=c.location;return Gf("",{pathname:p,search:m,hash:v},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function s(c,h){return typeof h=="string"?h:zu(h)}return kx(t,s,null,e)}function Wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Dx(){return Math.random().toString(36).substr(2,8)}function C0(e,t){return{usr:e.state,key:e.key,idx:t}}function Gf(e,t,s,c){return s===void 0&&(s=null),ml({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?pa(t):t,{state:s,key:t&&t.key||c||Dx()})}function zu(e){let{pathname:t="/",search:s="",hash:c=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),c&&c!=="#"&&(t+=c.charAt(0)==="#"?c:"#"+c),t}function pa(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let c=e.indexOf("?");c>=0&&(t.search=e.substr(c),e=e.substr(0,c)),e&&(t.pathname=e)}return t}function kx(e,t,s,c){c===void 0&&(c={});let{window:h=document.defaultView,v5Compat:p=!1}=c,m=h.history,v=Ji.Pop,E=null,w=O();w==null&&(w=0,m.replaceState(ml({},m.state,{idx:w}),""));function O(){return(m.state||{idx:null}).idx}function I(){v=Ji.Pop;let se=O(),L=se==null?null:se-w;w=se,E&&E({action:v,location:G.location,delta:L})}function B(se,L){v=Ji.Push;let T=Gf(G.location,se,L);w=O()+1;let P=C0(T,w),z=G.createHref(T);try{m.pushState(P,"",z)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;h.location.assign(z)}p&&E&&E({action:v,location:G.location,delta:1})}function V(se,L){v=Ji.Replace;let T=Gf(G.location,se,L);w=O();let P=C0(T,w),z=G.createHref(T);m.replaceState(P,"",z),p&&E&&E({action:v,location:G.location,delta:0})}function K(se){let L=h.location.origin!=="null"?h.location.origin:h.location.href,T=typeof se=="string"?se:zu(se);return T=T.replace(/ $/,"%20"),Wt(L,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,L)}let G={get action(){return v},get location(){return e(h,m)},listen(se){if(E)throw new Error("A history only accepts one active listener");return h.addEventListener(E0,I),E=se,()=>{h.removeEventListener(E0,I),E=null}},createHref(se){return t(h,se)},createURL:K,encodeLocation(se){let L=K(se);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:B,replace:V,go(se){return m.go(se)}};return G}var A0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(A0||(A0={}));function Px(e,t,s){return s===void 0&&(s="/"),Mx(e,t,s)}function Mx(e,t,s,c){let h=typeof t=="string"?pa(t):t,p=ua(h.pathname||"/",s);if(p==null)return null;let m=Eg(e);Bx(m);let v=null;for(let E=0;v==null&&E<m.length;++E){let w=Kx(p);v=Gx(m[E],w)}return v}function Eg(e,t,s,c){t===void 0&&(t=[]),s===void 0&&(s=[]),c===void 0&&(c="");let h=(p,m,v)=>{let E={relativePath:v===void 0?p.path||"":v,caseSensitive:p.caseSensitive===!0,childrenIndex:m,route:p};E.relativePath.startsWith("/")&&(Wt(E.relativePath.startsWith(c),'Absolute route path "'+E.relativePath+'" nested under path '+('"'+c+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),E.relativePath=E.relativePath.slice(c.length));let w=as([c,E.relativePath]),O=s.concat(E);p.children&&p.children.length>0&&(Wt(p.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),Eg(p.children,t,O,w)),!(p.path==null&&!p.index)&&t.push({path:w,score:Wx(w,p.index),routesMeta:O})};return e.forEach((p,m)=>{var v;if(p.path===""||!((v=p.path)!=null&&v.includes("?")))h(p,m);else for(let E of Cg(p.path))h(p,m,E)}),t}function Cg(e){let t=e.split("/");if(t.length===0)return[];let[s,...c]=t,h=s.endsWith("?"),p=s.replace(/\?$/,"");if(c.length===0)return h?[p,""]:[p];let m=Cg(c.join("/")),v=[];return v.push(...m.map(E=>E===""?p:[p,E].join("/"))),h&&v.push(...m),v.map(E=>e.startsWith("/")&&E===""?"/":E)}function Bx(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:Hx(t.routesMeta.map(c=>c.childrenIndex),s.routesMeta.map(c=>c.childrenIndex)))}const Lx=/^:[\w-]+$/,Fx=3,Ux=2,jx=1,Vx=10,zx=-2,S0=e=>e==="*";function Wx(e,t){let s=e.split("/"),c=s.length;return s.some(S0)&&(c+=zx),t&&(c+=Ux),s.filter(h=>!S0(h)).reduce((h,p)=>h+(Lx.test(p)?Fx:p===""?jx:Vx),c)}function Hx(e,t){return e.length===t.length&&e.slice(0,-1).every((c,h)=>c===t[h])?e[e.length-1]-t[t.length-1]:0}function Gx(e,t,s){let{routesMeta:c}=e,h={},p="/",m=[];for(let v=0;v<c.length;++v){let E=c[v],w=v===c.length-1,O=p==="/"?t:t.slice(p.length)||"/",I=Xf({path:E.relativePath,caseSensitive:E.caseSensitive,end:w},O),B=E.route;if(!I)return null;Object.assign(h,I.params),m.push({params:h,pathname:as([p,I.pathname]),pathnameBase:Zx(as([p,I.pathnameBase])),route:B}),I.pathnameBase!=="/"&&(p=as([p,I.pathnameBase]))}return m}function Xf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,c]=Xx(e.path,e.caseSensitive,e.end),h=t.match(s);if(!h)return null;let p=h[0],m=p.replace(/(.)\/+$/,"$1"),v=h.slice(1);return{params:c.reduce((w,O,I)=>{let{paramName:B,isOptional:V}=O;if(B==="*"){let G=v[I]||"";m=p.slice(0,p.length-G.length).replace(/(.)\/+$/,"$1")}const K=v[I];return V&&!K?w[B]=void 0:w[B]=(K||"").replace(/%2F/g,"/"),w},{}),pathname:p,pathnameBase:m,pattern:e}}function Xx(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),vg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let c=[],h="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,v,E)=>(c.push({paramName:v,isOptional:E!=null}),E?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(c.push({paramName:"*"}),h+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?h+="\\/*$":e!==""&&e!=="/"&&(h+="(?:(?=\\/|$))"),[new RegExp(h,t?void 0:"i"),c]}function Kx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ua(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,c=e.charAt(s);return c&&c!=="/"?null:e.slice(s)||"/"}function Yx(e,t){t===void 0&&(t="/");let{pathname:s,search:c="",hash:h=""}=typeof e=="string"?pa(e):e;return{pathname:s?s.startsWith("/")?s:qx(s,t):t,search:Jx(c),hash:$x(h)}}function qx(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(h=>{h===".."?s.length>1&&s.pop():h!=="."&&s.push(h)}),s.length>1?s.join("/"):"/"}function qc(e,t,s,c){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(c)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Qx(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Ag(e,t){let s=Qx(e);return t?s.map((c,h)=>h===s.length-1?c.pathname:c.pathnameBase):s.map(c=>c.pathnameBase)}function Sg(e,t,s,c){c===void 0&&(c=!1);let h;typeof e=="string"?h=pa(e):(h=ml({},e),Wt(!h.pathname||!h.pathname.includes("?"),qc("?","pathname","search",h)),Wt(!h.pathname||!h.pathname.includes("#"),qc("#","pathname","hash",h)),Wt(!h.search||!h.search.includes("#"),qc("#","search","hash",h)));let p=e===""||h.pathname==="",m=p?"/":h.pathname,v;if(m==null)v=s;else{let I=t.length-1;if(!c&&m.startsWith("..")){let B=m.split("/");for(;B[0]==="..";)B.shift(),I-=1;h.pathname=B.join("/")}v=I>=0?t[I]:"/"}let E=Yx(h,v),w=m&&m!=="/"&&m.endsWith("/"),O=(p||m===".")&&s.endsWith("/");return!E.pathname.endsWith("/")&&(w||O)&&(E.pathname+="/"),E}const as=e=>e.join("/").replace(/\/\/+/g,"/"),Zx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Jx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$x=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ey(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ig=["post","put","patch","delete"];new Set(Ig);const ty=["get",...Ig];new Set(ty);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xl(){return xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c])}return e},xl.apply(this,arguments)}const dc=ie.createContext(null),_g=ie.createContext(null),ps=ie.createContext(null),pc=ie.createContext(null),no=ie.createContext({outlet:null,matches:[],isDataRoute:!1}),bg=ie.createContext(null);function ny(e,t){let{relative:s}=t===void 0?{}:t;Tl()||Wt(!1);let{basename:c,navigator:h}=ie.useContext(ps),{hash:p,pathname:m,search:v}=gc(e,{relative:s}),E=m;return c!=="/"&&(E=m==="/"?c:as([c,m])),h.createHref({pathname:E,search:v,hash:p})}function Tl(){return ie.useContext(pc)!=null}function Nl(){return Tl()||Wt(!1),ie.useContext(pc).location}function Tg(e){ie.useContext(ps).static||ie.useLayoutEffect(e)}function ry(){let{isDataRoute:e}=ie.useContext(no);return e?my():iy()}function iy(){Tl()||Wt(!1);let e=ie.useContext(dc),{basename:t,future:s,navigator:c}=ie.useContext(ps),{matches:h}=ie.useContext(no),{pathname:p}=Nl(),m=JSON.stringify(Ag(h,s.v7_relativeSplatPath)),v=ie.useRef(!1);return Tg(()=>{v.current=!0}),ie.useCallback(function(w,O){if(O===void 0&&(O={}),!v.current)return;if(typeof w=="number"){c.go(w);return}let I=Sg(w,JSON.parse(m),p,O.relative==="path");e==null&&t!=="/"&&(I.pathname=I.pathname==="/"?t:as([t,I.pathname])),(O.replace?c.replace:c.push)(I,O.state,O)},[t,c,m,p,e])}function gc(e,t){let{relative:s}=t===void 0?{}:t,{future:c}=ie.useContext(ps),{matches:h}=ie.useContext(no),{pathname:p}=Nl(),m=JSON.stringify(Ag(h,c.v7_relativeSplatPath));return ie.useMemo(()=>Sg(e,JSON.parse(m),p,s==="path"),[e,m,p,s])}function sy(e,t){return oy(e,t)}function oy(e,t,s,c){Tl()||Wt(!1);let{navigator:h}=ie.useContext(ps),{matches:p}=ie.useContext(no),m=p[p.length-1],v=m?m.params:{};m&&m.pathname;let E=m?m.pathnameBase:"/";m&&m.route;let w=Nl(),O;if(t){var I;let se=typeof t=="string"?pa(t):t;E==="/"||(I=se.pathname)!=null&&I.startsWith(E)||Wt(!1),O=se}else O=w;let B=O.pathname||"/",V=B;if(E!=="/"){let se=E.replace(/^\//,"").split("/");V="/"+B.replace(/^\//,"").split("/").slice(se.length).join("/")}let K=Px(e,{pathname:V}),G=fy(K&&K.map(se=>Object.assign({},se,{params:Object.assign({},v,se.params),pathname:as([E,h.encodeLocation?h.encodeLocation(se.pathname).pathname:se.pathname]),pathnameBase:se.pathnameBase==="/"?E:as([E,h.encodeLocation?h.encodeLocation(se.pathnameBase).pathname:se.pathnameBase])})),p,s,c);return t&&G?ie.createElement(pc.Provider,{value:{location:xl({pathname:"/",search:"",hash:"",state:null,key:"default"},O),navigationType:Ji.Pop}},G):G}function ay(){let e=gy(),t=ey(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,h={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ie.createElement(ie.Fragment,null,ie.createElement("h2",null,"Unexpected Application Error!"),ie.createElement("h3",{style:{fontStyle:"italic"}},t),s?ie.createElement("pre",{style:h},s):null,null)}const ly=ie.createElement(ay,null);class uy extends ie.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?ie.createElement(no.Provider,{value:this.props.routeContext},ie.createElement(bg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cy(e){let{routeContext:t,match:s,children:c}=e,h=ie.useContext(dc);return h&&h.static&&h.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(h.staticContext._deepestRenderedBoundaryId=s.route.id),ie.createElement(no.Provider,{value:t},c)}function fy(e,t,s,c){var h;if(t===void 0&&(t=[]),s===void 0&&(s=null),c===void 0&&(c=null),e==null){var p;if(!s)return null;if(s.errors)e=s.matches;else if((p=c)!=null&&p.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let m=e,v=(h=s)==null?void 0:h.errors;if(v!=null){let O=m.findIndex(I=>I.route.id&&(v==null?void 0:v[I.route.id])!==void 0);O>=0||Wt(!1),m=m.slice(0,Math.min(m.length,O+1))}let E=!1,w=-1;if(s&&c&&c.v7_partialHydration)for(let O=0;O<m.length;O++){let I=m[O];if((I.route.HydrateFallback||I.route.hydrateFallbackElement)&&(w=O),I.route.id){let{loaderData:B,errors:V}=s,K=I.route.loader&&B[I.route.id]===void 0&&(!V||V[I.route.id]===void 0);if(I.route.lazy||K){E=!0,w>=0?m=m.slice(0,w+1):m=[m[0]];break}}}return m.reduceRight((O,I,B)=>{let V,K=!1,G=null,se=null;s&&(V=v&&I.route.id?v[I.route.id]:void 0,G=I.route.errorElement||ly,E&&(w<0&&B===0?(xy("route-fallback"),K=!0,se=null):w===B&&(K=!0,se=I.route.hydrateFallbackElement||null)));let L=t.concat(m.slice(0,B+1)),T=()=>{let P;return V?P=G:K?P=se:I.route.Component?P=ie.createElement(I.route.Component,null):I.route.element?P=I.route.element:P=O,ie.createElement(cy,{match:I,routeContext:{outlet:O,matches:L,isDataRoute:s!=null},children:P})};return s&&(I.route.ErrorBoundary||I.route.errorElement||B===0)?ie.createElement(uy,{location:s.location,revalidation:s.revalidation,component:G,error:V,children:T(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):T()},null)}var Ng=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ng||{}),Og=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Og||{});function hy(e){let t=ie.useContext(dc);return t||Wt(!1),t}function dy(e){let t=ie.useContext(_g);return t||Wt(!1),t}function py(e){let t=ie.useContext(no);return t||Wt(!1),t}function Rg(e){let t=py(),s=t.matches[t.matches.length-1];return s.route.id||Wt(!1),s.route.id}function gy(){var e;let t=ie.useContext(bg),s=dy(),c=Rg();return t!==void 0?t:(e=s.errors)==null?void 0:e[c]}function my(){let{router:e}=hy(Ng.UseNavigateStable),t=Rg(Og.UseNavigateStable),s=ie.useRef(!1);return Tg(()=>{s.current=!0}),ie.useCallback(function(h,p){p===void 0&&(p={}),s.current&&(typeof h=="number"?e.navigate(h):e.navigate(h,xl({fromRouteId:t},p)))},[e,t])}const I0={};function xy(e,t,s){I0[e]||(I0[e]=!0)}function mu(e){Wt(!1)}function yy(e){let{basename:t="/",children:s=null,location:c,navigationType:h=Ji.Pop,navigator:p,static:m=!1,future:v}=e;Tl()&&Wt(!1);let E=t.replace(/^\/*/,"/"),w=ie.useMemo(()=>({basename:E,navigator:p,static:m,future:xl({v7_relativeSplatPath:!1},v)}),[E,v,p,m]);typeof c=="string"&&(c=pa(c));let{pathname:O="/",search:I="",hash:B="",state:V=null,key:K="default"}=c,G=ie.useMemo(()=>{let se=ua(O,E);return se==null?null:{location:{pathname:se,search:I,hash:B,state:V,key:K},navigationType:h}},[E,O,I,B,V,K,h]);return G==null?null:ie.createElement(ps.Provider,{value:w},ie.createElement(pc.Provider,{children:s,value:G}))}function wy(e){let{children:t,location:s}=e;return sy(Kf(t),s)}new Promise(()=>{});function Kf(e,t){t===void 0&&(t=[]);let s=[];return ie.Children.forEach(e,(c,h)=>{if(!ie.isValidElement(c))return;let p=[...t,h];if(c.type===ie.Fragment){s.push.apply(s,Kf(c.props.children,p));return}c.type!==mu&&Wt(!1),!c.props.index||!c.props.children||Wt(!1);let m={id:c.props.id||p.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(m.children=Kf(c.props.children,p)),s.push(m)}),s}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c])}return e},Wu.apply(this,arguments)}function Dg(e,t){if(e==null)return{};var s={},c=Object.keys(e),h,p;for(p=0;p<c.length;p++)h=c[p],!(t.indexOf(h)>=0)&&(s[h]=e[h]);return s}function vy(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ey(e,t){return e.button===0&&(!t||t==="_self")&&!vy(e)}const Cy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Ay=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],Sy="6";try{window.__reactRouterVersion=Sy}catch{}const Iy=ie.createContext({isTransitioning:!1}),_y="startTransition",_0=w2[_y];function by(e){let{basename:t,children:s,future:c,window:h}=e,p=ie.useRef();p.current==null&&(p.current=Rx({window:h,v5Compat:!0}));let m=p.current,[v,E]=ie.useState({action:m.action,location:m.location}),{v7_startTransition:w}=c||{},O=ie.useCallback(I=>{w&&_0?_0(()=>E(I)):E(I)},[E,w]);return ie.useLayoutEffect(()=>m.listen(O),[m,O]),ie.createElement(yy,{basename:t,children:s,location:v.location,navigationType:v.action,navigator:m,future:c})}const Ty=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ny=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oy=ie.forwardRef(function(t,s){let{onClick:c,relative:h,reloadDocument:p,replace:m,state:v,target:E,to:w,preventScrollReset:O,unstable_viewTransition:I}=t,B=Dg(t,Cy),{basename:V}=ie.useContext(ps),K,G=!1;if(typeof w=="string"&&Ny.test(w)&&(K=w,Ty))try{let P=new URL(window.location.href),z=w.startsWith("//")?new URL(P.protocol+w):new URL(w),oe=ua(z.pathname,V);z.origin===P.origin&&oe!=null?w=oe+z.search+z.hash:G=!0}catch{}let se=ny(w,{relative:h}),L=ky(w,{replace:m,state:v,target:E,preventScrollReset:O,relative:h,unstable_viewTransition:I});function T(P){c&&c(P),P.defaultPrevented||L(P)}return ie.createElement("a",Wu({},B,{href:K||se,onClick:G||p?c:T,ref:s,target:E}))}),Ry=ie.forwardRef(function(t,s){let{"aria-current":c="page",caseSensitive:h=!1,className:p="",end:m=!1,style:v,to:E,unstable_viewTransition:w,children:O}=t,I=Dg(t,Ay),B=gc(E,{relative:I.relative}),V=Nl(),K=ie.useContext(_g),{navigator:G,basename:se}=ie.useContext(ps),L=K!=null&&Py(B)&&w===!0,T=G.encodeLocation?G.encodeLocation(B).pathname:B.pathname,P=V.pathname,z=K&&K.navigation&&K.navigation.location?K.navigation.location.pathname:null;h||(P=P.toLowerCase(),z=z?z.toLowerCase():null,T=T.toLowerCase()),z&&se&&(z=ua(z,se)||z);const oe=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let ne=P===T||!m&&P.startsWith(T)&&P.charAt(oe)==="/",W=z!=null&&(z===T||!m&&z.startsWith(T)&&z.charAt(T.length)==="/"),ee={isActive:ne,isPending:W,isTransitioning:L},te=ne?c:void 0,De;typeof p=="function"?De=p(ee):De=[p,ne?"active":null,W?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let lt=typeof v=="function"?v(ee):v;return ie.createElement(Oy,Wu({},I,{"aria-current":te,className:De,ref:s,style:lt,to:E,unstable_viewTransition:w}),typeof O=="function"?O(ee):O)});var Yf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Yf||(Yf={}));var b0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(b0||(b0={}));function Dy(e){let t=ie.useContext(dc);return t||Wt(!1),t}function ky(e,t){let{target:s,replace:c,state:h,preventScrollReset:p,relative:m,unstable_viewTransition:v}=t===void 0?{}:t,E=ry(),w=Nl(),O=gc(e,{relative:m});return ie.useCallback(I=>{if(Ey(I,s)){I.preventDefault();let B=c!==void 0?c:zu(w)===zu(O);E(e,{replace:B,state:h,preventScrollReset:p,relative:m,unstable_viewTransition:v})}},[w,E,O,c,h,s,e,p,m,v])}function Py(e,t){t===void 0&&(t={});let s=ie.useContext(Iy);s==null&&Wt(!1);let{basename:c}=Dy(Yf.useViewTransitionState),h=gc(e,{relative:t.relative});if(!s.isTransitioning)return!1;let p=ua(s.currentLocation.pathname,c)||s.currentLocation.pathname,m=ua(s.nextLocation.pathname,c)||s.nextLocation.pathname;return Xf(h.pathname,m)!=null||Xf(h.pathname,p)!=null}var ga=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ca=typeof window>"u"||"Deno"in globalThis;function Cr(){}function My(e,t){return typeof e=="function"?e(t):e}function qf(e){return typeof e=="number"&&e>=0&&e!==1/0}function kg(e,t){return Math.max(e+(t||0)-Date.now(),0)}function zo(e,t){return typeof e=="function"?e(t):e}function zr(e,t){return typeof e=="function"?e(t):e}function T0(e,t){const{type:s="all",exact:c,fetchStatus:h,predicate:p,queryKey:m,stale:v}=e;if(m){if(c){if(t.queryHash!==o1(m,t.options))return!1}else if(!yl(t.queryKey,m))return!1}if(s!=="all"){const E=t.isActive();if(s==="active"&&!E||s==="inactive"&&E)return!1}return!(typeof v=="boolean"&&t.isStale()!==v||h&&h!==t.state.fetchStatus||p&&!p(t))}function N0(e,t){const{exact:s,status:c,predicate:h,mutationKey:p}=e;if(p){if(!t.options.mutationKey)return!1;if(s){if($s(t.options.mutationKey)!==$s(p))return!1}else if(!yl(t.options.mutationKey,p))return!1}return!(c&&t.state.status!==c||h&&!h(t))}function o1(e,t){return((t==null?void 0:t.queryKeyHashFn)||$s)(e)}function $s(e){return JSON.stringify(e,(t,s)=>Qf(s)?Object.keys(s).sort().reduce((c,h)=>(c[h]=s[h],c),{}):s)}function yl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(s=>!yl(e[s],t[s])):!1}function Pg(e,t){if(e===t)return e;const s=O0(e)&&O0(t);if(s||Qf(e)&&Qf(t)){const c=s?e:Object.keys(e),h=c.length,p=s?t:Object.keys(t),m=p.length,v=s?[]:{};let E=0;for(let w=0;w<m;w++){const O=s?w:p[w];(!s&&c.includes(O)||s)&&e[O]===void 0&&t[O]===void 0?(v[O]=void 0,E++):(v[O]=Pg(e[O],t[O]),v[O]===e[O]&&e[O]!==void 0&&E++)}return h===m&&E===h?e:v}return t}function Hu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function O0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Qf(e){if(!R0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!R0(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function R0(e){return Object.prototype.toString.call(e)==="[object Object]"}function By(e){return new Promise(t=>{setTimeout(t,e)})}function Zf(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?Pg(e,t):t}function Ly(e,t,s=0){const c=[...e,t];return s&&c.length>s?c.slice(1):c}function Fy(e,t,s=0){const c=[t,...e];return s&&c.length>s?c.slice(0,-1):c}var Mg=Symbol(),Bg=(e,t)=>!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Mg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn,Us,zi,Wo,Q0,Uy=(Q0=class extends ga{constructor(){super();ke(this,Us);ke(this,zi);ke(this,Wo);ve(this,Wo,t=>{if(!ca&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){U(this,zi)||this.setEventListener(U(this,Wo))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,zi))==null||t.call(this),ve(this,zi,void 0))}setEventListener(t){var s;ve(this,Wo,t),(s=U(this,zi))==null||s.call(this),ve(this,zi,t(c=>{typeof c=="boolean"?this.setFocused(c):this.onFocus()}))}setFocused(t){U(this,Us)!==t&&(ve(this,Us,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof U(this,Us)=="boolean"?U(this,Us):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Us=new WeakMap,zi=new WeakMap,Wo=new WeakMap,Q0),a1=new Uy,Ho,Wi,Go,Z0,jy=(Z0=class extends ga{constructor(){super();ke(this,Ho,!0);ke(this,Wi);ke(this,Go);ve(this,Go,t=>{if(!ca&&window.addEventListener){const s=()=>t(!0),c=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",c,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",c)}}})}onSubscribe(){U(this,Wi)||this.setEventListener(U(this,Go))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,Wi))==null||t.call(this),ve(this,Wi,void 0))}setEventListener(t){var s;ve(this,Go,t),(s=U(this,Wi))==null||s.call(this),ve(this,Wi,t(this.setOnline.bind(this)))}setOnline(t){U(this,Ho)!==t&&(ve(this,Ho,t),this.listeners.forEach(c=>{c(t)}))}isOnline(){return U(this,Ho)}},Ho=new WeakMap,Wi=new WeakMap,Go=new WeakMap,Z0),Gu=new jy;function Vy(e){return Math.min(1e3*2**e,3e4)}function Lg(e){return(e??"online")==="online"?Gu.isOnline():!0}var Fg=class{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Qc(e){return e instanceof Fg}function Ug(e){let t=!1,s=0,c=!1,h,p,m;const v=new Promise((L,T)=>{p=L,m=T}),E=L=>{var T;c||(K(new Fg(L)),(T=e.abort)==null||T.call(e))},w=()=>{t=!0},O=()=>{t=!1},I=()=>a1.isFocused()&&(e.networkMode==="always"||Gu.isOnline())&&e.canRun(),B=()=>Lg(e.networkMode)&&e.canRun(),V=L=>{var T;c||(c=!0,(T=e.onSuccess)==null||T.call(e,L),h==null||h(),p(L))},K=L=>{var T;c||(c=!0,(T=e.onError)==null||T.call(e,L),h==null||h(),m(L))},G=()=>new Promise(L=>{var T;h=P=>{(c||I())&&L(P)},(T=e.onPause)==null||T.call(e)}).then(()=>{var L;h=void 0,c||(L=e.onContinue)==null||L.call(e)}),se=()=>{if(c)return;let L;const T=s===0?e.initialPromise:void 0;try{L=T??e.fn()}catch(P){L=Promise.reject(P)}Promise.resolve(L).then(V).catch(P=>{var ee;if(c)return;const z=e.retry??(ca?0:3),oe=e.retryDelay??Vy,ne=typeof oe=="function"?oe(s,P):oe,W=z===!0||typeof z=="number"&&s<z||typeof z=="function"&&z(s,P);if(t||!W){K(P);return}s++,(ee=e.onFail)==null||ee.call(e,s,P),By(ne).then(()=>I()?void 0:G()).then(()=>{t?K(P):se()})})};return{promise:v,cancel:E,continue:()=>(h==null||h(),v),cancelRetry:w,continueRetry:O,canStart:B,start:()=>(B()?se():G().then(se),v)}}function zy(){let e=[],t=0,s=B=>{B()},c=B=>{B()},h=B=>setTimeout(B,0);const p=B=>{h=B},m=B=>{let V;t++;try{V=B()}finally{t--,t||w()}return V},v=B=>{t?e.push(B):h(()=>{s(B)})},E=B=>(...V)=>{v(()=>{B(...V)})},w=()=>{const B=e;e=[],B.length&&h(()=>{c(()=>{B.forEach(V=>{s(V)})})})};return{batch:m,batchCalls:E,schedule:v,setNotifyFunction:B=>{s=B},setBatchNotifyFunction:B=>{c=B},setScheduler:p}}var sn=zy(),js,J0,jg=(J0=class{constructor(){ke(this,js)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),qf(this.gcTime)&&ve(this,js,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ca?1/0:5*60*1e3))}clearGcTimeout(){U(this,js)&&(clearTimeout(U(this,js)),ve(this,js,void 0))}},js=new WeakMap,J0),Xo,Ko,Er,En,wl,Vs,Ur,di,$0,Wy=($0=class extends jg{constructor(t){super();ke(this,Ur);ke(this,Xo);ke(this,Ko);ke(this,Er);ke(this,En);ke(this,wl);ke(this,Vs);ve(this,Vs,!1),ve(this,wl,t.defaultOptions),this.setOptions(t.options),this.observers=[],ve(this,Er,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ve(this,Xo,t.state||Hy(this.options)),this.state=U(this,Xo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=U(this,En))==null?void 0:t.promise}setOptions(t){this.options={...U(this,wl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,Er).remove(this)}setData(t,s){const c=Zf(this.state.data,t,this.options);return Ve(this,Ur,di).call(this,{data:c,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),c}setState(t,s){Ve(this,Ur,di).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var c,h;const s=(c=U(this,En))==null?void 0:c.promise;return(h=U(this,En))==null||h.cancel(t),s?s.then(Cr).catch(Cr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,Xo))}isActive(){return this.observers.some(t=>zr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!kg(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(c=>c.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=U(this,En))==null||s.continue()}onOnline(){var s;const t=this.observers.find(c=>c.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=U(this,En))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),U(this,Er).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(U(this,En)&&(U(this,Vs)?U(this,En).cancel({revert:!0}):U(this,En).cancelRetry()),this.scheduleGc()),U(this,Er).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ve(this,Ur,di).call(this,{type:"invalidate"})}fetch(t,s){var E,w,O;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(U(this,En))return U(this,En).continueRetry(),U(this,En).promise}if(t&&this.setOptions(t),!this.options.queryFn){const I=this.observers.find(B=>B.options.queryFn);I&&this.setOptions(I.options)}const c=new AbortController,h=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(ve(this,Vs,!0),c.signal)})},p=()=>{const I=Bg(this.options,s),B={queryKey:this.queryKey,meta:this.meta};return h(B),ve(this,Vs,!1),this.options.persister?this.options.persister(I,B,this):I(B)},m={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:p};h(m),(E=this.options.behavior)==null||E.onFetch(m,this),ve(this,Ko,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((w=m.fetchOptions)==null?void 0:w.meta))&&Ve(this,Ur,di).call(this,{type:"fetch",meta:(O=m.fetchOptions)==null?void 0:O.meta});const v=I=>{var B,V,K,G;Qc(I)&&I.silent||Ve(this,Ur,di).call(this,{type:"error",error:I}),Qc(I)||((V=(B=U(this,Er).config).onError)==null||V.call(B,I,this),(G=(K=U(this,Er).config).onSettled)==null||G.call(K,this.state.data,I,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return ve(this,En,Ug({initialPromise:s==null?void 0:s.initialPromise,fn:m.fetchFn,abort:c.abort.bind(c),onSuccess:I=>{var B,V,K,G;if(I===void 0){v(new Error(`${this.queryHash} data is undefined`));return}this.setData(I),(V=(B=U(this,Er).config).onSuccess)==null||V.call(B,I,this),(G=(K=U(this,Er).config).onSettled)==null||G.call(K,I,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:v,onFail:(I,B)=>{Ve(this,Ur,di).call(this,{type:"failed",failureCount:I,error:B})},onPause:()=>{Ve(this,Ur,di).call(this,{type:"pause"})},onContinue:()=>{Ve(this,Ur,di).call(this,{type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0})),U(this,En).start()}},Xo=new WeakMap,Ko=new WeakMap,Er=new WeakMap,En=new WeakMap,wl=new WeakMap,Vs=new WeakMap,Ur=new WeakSet,di=function(t){const s=c=>{switch(t.type){case"failed":return{...c,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...c,fetchStatus:"paused"};case"continue":return{...c,fetchStatus:"fetching"};case"fetch":return{...c,...Vg(c.data,this.options),fetchMeta:t.meta??null};case"success":return{...c,data:t.data,dataUpdateCount:c.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const h=t.error;return Qc(h)&&h.revert&&U(this,Ko)?{...U(this,Ko),fetchStatus:"idle"}:{...c,error:h,errorUpdateCount:c.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:c.fetchFailureCount+1,fetchFailureReason:h,fetchStatus:"idle",status:"error"};case"invalidate":return{...c,isInvalidated:!0};case"setState":return{...c,...t.state}}};this.state=s(this.state),sn.batch(()=>{this.observers.forEach(c=>{c.onQueryUpdate()}),U(this,Er).notify({query:this,type:"updated",action:t})})},$0);function Vg(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Lg(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Hy(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,c=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?c??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var ei,ed,Gy=(ed=class extends ga{constructor(t={}){super();ke(this,ei);this.config=t,ve(this,ei,new Map)}build(t,s,c){const h=s.queryKey,p=s.queryHash??o1(h,s);let m=this.get(p);return m||(m=new Wy({cache:this,queryKey:h,queryHash:p,options:t.defaultQueryOptions(s),state:c,defaultOptions:t.getQueryDefaults(h)}),this.add(m)),m}add(t){U(this,ei).has(t.queryHash)||(U(this,ei).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=U(this,ei).get(t.queryHash);s&&(t.destroy(),s===t&&U(this,ei).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){sn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return U(this,ei).get(t)}getAll(){return[...U(this,ei).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(c=>T0(s,c))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(c=>T0(t,c)):s}notify(t){sn.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){sn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){sn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ei=new WeakMap,ed),ti,Tn,zs,ni,Li,td,Xy=(td=class extends jg{constructor(t){super();ke(this,ni);ke(this,ti);ke(this,Tn);ke(this,zs);this.mutationId=t.mutationId,ve(this,Tn,t.mutationCache),ve(this,ti,[]),this.state=t.state||zg(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){U(this,ti).includes(t)||(U(this,ti).push(t),this.clearGcTimeout(),U(this,Tn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ve(this,ti,U(this,ti).filter(s=>s!==t)),this.scheduleGc(),U(this,Tn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){U(this,ti).length||(this.state.status==="pending"?this.scheduleGc():U(this,Tn).remove(this))}continue(){var t;return((t=U(this,zs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var h,p,m,v,E,w,O,I,B,V,K,G,se,L,T,P,z,oe,ne,W;ve(this,zs,Ug({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(ee,te)=>{Ve(this,ni,Li).call(this,{type:"failed",failureCount:ee,error:te})},onPause:()=>{Ve(this,ni,Li).call(this,{type:"pause"})},onContinue:()=>{Ve(this,ni,Li).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Tn).canRun(this)}));const s=this.state.status==="pending",c=!U(this,zs).canStart();try{if(!s){Ve(this,ni,Li).call(this,{type:"pending",variables:t,isPaused:c}),await((p=(h=U(this,Tn).config).onMutate)==null?void 0:p.call(h,t,this));const te=await((v=(m=this.options).onMutate)==null?void 0:v.call(m,t));te!==this.state.context&&Ve(this,ni,Li).call(this,{type:"pending",context:te,variables:t,isPaused:c})}const ee=await U(this,zs).start();return await((w=(E=U(this,Tn).config).onSuccess)==null?void 0:w.call(E,ee,t,this.state.context,this)),await((I=(O=this.options).onSuccess)==null?void 0:I.call(O,ee,t,this.state.context)),await((V=(B=U(this,Tn).config).onSettled)==null?void 0:V.call(B,ee,null,this.state.variables,this.state.context,this)),await((G=(K=this.options).onSettled)==null?void 0:G.call(K,ee,null,t,this.state.context)),Ve(this,ni,Li).call(this,{type:"success",data:ee}),ee}catch(ee){try{throw await((L=(se=U(this,Tn).config).onError)==null?void 0:L.call(se,ee,t,this.state.context,this)),await((P=(T=this.options).onError)==null?void 0:P.call(T,ee,t,this.state.context)),await((oe=(z=U(this,Tn).config).onSettled)==null?void 0:oe.call(z,void 0,ee,this.state.variables,this.state.context,this)),await((W=(ne=this.options).onSettled)==null?void 0:W.call(ne,void 0,ee,t,this.state.context)),ee}finally{Ve(this,ni,Li).call(this,{type:"error",error:ee})}}finally{U(this,Tn).runNext(this)}}},ti=new WeakMap,Tn=new WeakMap,zs=new WeakMap,ni=new WeakSet,Li=function(t){const s=c=>{switch(t.type){case"failed":return{...c,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...c,isPaused:!0};case"continue":return{...c,isPaused:!1};case"pending":return{...c,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...c,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...c,data:void 0,error:t.error,failureCount:c.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),sn.batch(()=>{U(this,ti).forEach(c=>{c.onMutationUpdate(t)}),U(this,Tn).notify({mutation:this,type:"updated",action:t})})},td);function zg(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var tr,vl,nd,Ky=(nd=class extends ga{constructor(t={}){super();ke(this,tr);ke(this,vl);this.config=t,ve(this,tr,new Map),ve(this,vl,Date.now())}build(t,s,c){const h=new Xy({mutationCache:this,mutationId:++Ul(this,vl)._,options:t.defaultMutationOptions(s),state:c});return this.add(h),h}add(t){const s=ru(t),c=U(this,tr).get(s)??[];c.push(t),U(this,tr).set(s,c),this.notify({type:"added",mutation:t})}remove(t){var c;const s=ru(t);if(U(this,tr).has(s)){const h=(c=U(this,tr).get(s))==null?void 0:c.filter(p=>p!==t);h&&(h.length===0?U(this,tr).delete(s):U(this,tr).set(s,h))}this.notify({type:"removed",mutation:t})}canRun(t){var c;const s=(c=U(this,tr).get(ru(t)))==null?void 0:c.find(h=>h.state.status==="pending");return!s||s===t}runNext(t){var c;const s=(c=U(this,tr).get(ru(t)))==null?void 0:c.find(h=>h!==t&&h.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){sn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...U(this,tr).values()].flat()}find(t){const s={exact:!0,...t};return this.getAll().find(c=>N0(s,c))}findAll(t={}){return this.getAll().filter(s=>N0(t,s))}notify(t){sn.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return sn.batch(()=>Promise.all(t.map(s=>s.continue().catch(Cr))))}},tr=new WeakMap,vl=new WeakMap,nd);function ru(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Yy(e){return{onFetch:(t,s)=>{const c=async()=>{var K,G,se,L,T;const h=t.options,p=(se=(G=(K=t.fetchOptions)==null?void 0:K.meta)==null?void 0:G.fetchMore)==null?void 0:se.direction,m=((L=t.state.data)==null?void 0:L.pages)||[],v=((T=t.state.data)==null?void 0:T.pageParams)||[],E={pages:[],pageParams:[]};let w=!1;const O=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},I=Bg(t.options,t.fetchOptions),B=async(P,z,oe)=>{if(w)return Promise.reject();if(z==null&&P.pages.length)return Promise.resolve(P);const ne={queryKey:t.queryKey,pageParam:z,direction:oe?"backward":"forward",meta:t.options.meta};O(ne);const W=await I(ne),{maxPages:ee}=t.options,te=oe?Fy:Ly;return{pages:te(P.pages,W,ee),pageParams:te(P.pageParams,z,ee)}};let V;if(p&&m.length){const P=p==="backward",z=P?qy:D0,oe={pages:m,pageParams:v},ne=z(h,oe);V=await B(oe,ne,P)}else{V=await B(E,v[0]??h.initialPageParam);const P=e??m.length;for(let z=1;z<P;z++){const oe=D0(h,V);V=await B(V,oe)}}return V};t.options.persister?t.fetchFn=()=>{var h,p;return(p=(h=t.options).persister)==null?void 0:p.call(h,c,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=c}}}function D0(e,{pages:t,pageParams:s}){const c=t.length-1;return e.getNextPageParam(t[c],t,s[c],s)}function qy(e,{pages:t,pageParams:s}){var c;return(c=e.getPreviousPageParam)==null?void 0:c.call(e,t[0],t,s[0],s)}var jt,Hi,Gi,Yo,qo,Xi,Qo,Zo,rd,Qy=(rd=class{constructor(e={}){ke(this,jt);ke(this,Hi);ke(this,Gi);ke(this,Yo);ke(this,qo);ke(this,Xi);ke(this,Qo);ke(this,Zo);ve(this,jt,e.queryCache||new Gy),ve(this,Hi,e.mutationCache||new Ky),ve(this,Gi,e.defaultOptions||{}),ve(this,Yo,new Map),ve(this,qo,new Map),ve(this,Xi,0)}mount(){Ul(this,Xi)._++,U(this,Xi)===1&&(ve(this,Qo,a1.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,jt).onFocus())})),ve(this,Zo,Gu.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,jt).onOnline())})))}unmount(){var e,t;Ul(this,Xi)._--,U(this,Xi)===0&&((e=U(this,Qo))==null||e.call(this),ve(this,Qo,void 0),(t=U(this,Zo))==null||t.call(this),ve(this,Zo,void 0))}isFetching(e){return U(this,jt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return U(this,Hi).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=U(this,jt).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const s=this.defaultQueryOptions(e),c=U(this,jt).build(this,s);return e.revalidateIfStale&&c.isStaleByTime(zo(s.staleTime,c))&&this.prefetchQuery(s),Promise.resolve(t)}}getQueriesData(e){return U(this,jt).findAll(e).map(({queryKey:t,state:s})=>{const c=s.data;return[t,c]})}setQueryData(e,t,s){const c=this.defaultQueryOptions({queryKey:e}),h=U(this,jt).get(c.queryHash),p=h==null?void 0:h.state.data,m=My(t,p);if(m!==void 0)return U(this,jt).build(this,c).setData(m,{...s,manual:!0})}setQueriesData(e,t,s){return sn.batch(()=>U(this,jt).findAll(e).map(({queryKey:c})=>[c,this.setQueryData(c,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=U(this,jt).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=U(this,jt);sn.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=U(this,jt),c={type:"active",...e};return sn.batch(()=>(s.findAll(e).forEach(h=>{h.reset()}),this.refetchQueries(c,t)))}cancelQueries(e={},t={}){const s={revert:!0,...t},c=sn.batch(()=>U(this,jt).findAll(e).map(h=>h.cancel(s)));return Promise.all(c).then(Cr).catch(Cr)}invalidateQueries(e={},t={}){return sn.batch(()=>{if(U(this,jt).findAll(e).forEach(c=>{c.invalidate()}),e.refetchType==="none")return Promise.resolve();const s={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(s,t)})}refetchQueries(e={},t){const s={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},c=sn.batch(()=>U(this,jt).findAll(e).filter(h=>!h.isDisabled()).map(h=>{let p=h.fetch(void 0,s);return s.throwOnError||(p=p.catch(Cr)),h.state.fetchStatus==="paused"?Promise.resolve():p}));return Promise.all(c).then(Cr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=U(this,jt).build(this,t);return s.isStaleByTime(zo(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Cr).catch(Cr)}fetchInfiniteQuery(e){return e.behavior=Yy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Cr).catch(Cr)}resumePausedMutations(){return Gu.isOnline()?U(this,Hi).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,jt)}getMutationCache(){return U(this,Hi)}getDefaultOptions(){return U(this,Gi)}setDefaultOptions(e){ve(this,Gi,e)}setQueryDefaults(e,t){U(this,Yo).set($s(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...U(this,Yo).values()];let s={};return t.forEach(c=>{yl(e,c.queryKey)&&(s={...s,...c.defaultOptions})}),s}setMutationDefaults(e,t){U(this,qo).set($s(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...U(this,qo).values()];let s={};return t.forEach(c=>{yl(e,c.mutationKey)&&(s={...s,...c.defaultOptions})}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...U(this,Gi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=o1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Mg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...U(this,Gi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){U(this,jt).clear(),U(this,Hi).clear()}},jt=new WeakMap,Hi=new WeakMap,Gi=new WeakMap,Yo=new WeakMap,qo=new WeakMap,Xi=new WeakMap,Qo=new WeakMap,Zo=new WeakMap,rd),Vn,$e,El,Nn,Ws,Jo,ri,Cl,$o,ea,Hs,Gs,Ki,ta,ht,Wa,Jf,$f,eh,th,nh,rh,ih,Wg,id,Zy=(id=class extends ga{constructor(t,s){super();ke(this,ht);ke(this,Vn);ke(this,$e);ke(this,El);ke(this,Nn);ke(this,Ws);ke(this,Jo);ke(this,ri);ke(this,Cl);ke(this,$o);ke(this,ea);ke(this,Hs);ke(this,Gs);ke(this,Ki);ke(this,ta,new Set);this.options=s,ve(this,Vn,t),ve(this,ri,null),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(U(this,$e).addObserver(this),k0(U(this,$e),this.options)?Ve(this,ht,Wa).call(this):this.updateResult(),Ve(this,ht,th).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return sh(U(this,$e),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return sh(U(this,$e),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ve(this,ht,nh).call(this),Ve(this,ht,rh).call(this),U(this,$e).removeObserver(this)}setOptions(t,s){const c=this.options,h=U(this,$e);if(this.options=U(this,Vn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof zr(this.options.enabled,U(this,$e))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ve(this,ht,ih).call(this),U(this,$e).setOptions(this.options),c._defaulted&&!Hu(this.options,c)&&U(this,Vn).getQueryCache().notify({type:"observerOptionsUpdated",query:U(this,$e),observer:this});const p=this.hasListeners();p&&P0(U(this,$e),h,this.options,c)&&Ve(this,ht,Wa).call(this),this.updateResult(s),p&&(U(this,$e)!==h||zr(this.options.enabled,U(this,$e))!==zr(c.enabled,U(this,$e))||zo(this.options.staleTime,U(this,$e))!==zo(c.staleTime,U(this,$e)))&&Ve(this,ht,Jf).call(this);const m=Ve(this,ht,$f).call(this);p&&(U(this,$e)!==h||zr(this.options.enabled,U(this,$e))!==zr(c.enabled,U(this,$e))||m!==U(this,Ki))&&Ve(this,ht,eh).call(this,m)}getOptimisticResult(t){const s=U(this,Vn).getQueryCache().build(U(this,Vn),t),c=this.createResult(s,t);return $y(this,c)&&(ve(this,Nn,c),ve(this,Jo,this.options),ve(this,Ws,U(this,$e).state)),c}getCurrentResult(){return U(this,Nn)}trackResult(t,s){const c={};return Object.keys(t).forEach(h=>{Object.defineProperty(c,h,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(h),s==null||s(h),t[h])})}),c}trackProp(t){U(this,ta).add(t)}getCurrentQuery(){return U(this,$e)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=U(this,Vn).defaultQueryOptions(t),c=U(this,Vn).getQueryCache().build(U(this,Vn),s);return c.isFetchingOptimistic=!0,c.fetch().then(()=>this.createResult(c,s))}fetch(t){return Ve(this,ht,Wa).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),U(this,Nn)))}createResult(t,s){var W;const c=U(this,$e),h=this.options,p=U(this,Nn),m=U(this,Ws),v=U(this,Jo),w=t!==c?t.state:U(this,El),{state:O}=t;let I={...O},B=!1,V;if(s._optimisticResults){const ee=this.hasListeners(),te=!ee&&k0(t,s),De=ee&&P0(t,c,s,h);(te||De)&&(I={...I,...Vg(O.data,t.options)}),s._optimisticResults==="isRestoring"&&(I.fetchStatus="idle")}let{error:K,errorUpdatedAt:G,status:se}=I;if(s.select&&I.data!==void 0)if(p&&I.data===(m==null?void 0:m.data)&&s.select===U(this,Cl))V=U(this,$o);else try{ve(this,Cl,s.select),V=s.select(I.data),V=Zf(p==null?void 0:p.data,V,s),ve(this,$o,V),ve(this,ri,null)}catch(ee){ve(this,ri,ee)}else V=I.data;if(s.placeholderData!==void 0&&V===void 0&&se==="pending"){let ee;if(p!=null&&p.isPlaceholderData&&s.placeholderData===(v==null?void 0:v.placeholderData))ee=p.data;else if(ee=typeof s.placeholderData=="function"?s.placeholderData((W=U(this,ea))==null?void 0:W.state.data,U(this,ea)):s.placeholderData,s.select&&ee!==void 0)try{ee=s.select(ee),ve(this,ri,null)}catch(te){ve(this,ri,te)}ee!==void 0&&(se="success",V=Zf(p==null?void 0:p.data,ee,s),B=!0)}U(this,ri)&&(K=U(this,ri),V=U(this,$o),G=Date.now(),se="error");const L=I.fetchStatus==="fetching",T=se==="pending",P=se==="error",z=T&&L,oe=V!==void 0;return{status:se,fetchStatus:I.fetchStatus,isPending:T,isSuccess:se==="success",isError:P,isInitialLoading:z,isLoading:z,data:V,dataUpdatedAt:I.dataUpdatedAt,error:K,errorUpdatedAt:G,failureCount:I.fetchFailureCount,failureReason:I.fetchFailureReason,errorUpdateCount:I.errorUpdateCount,isFetched:I.dataUpdateCount>0||I.errorUpdateCount>0,isFetchedAfterMount:I.dataUpdateCount>w.dataUpdateCount||I.errorUpdateCount>w.errorUpdateCount,isFetching:L,isRefetching:L&&!T,isLoadingError:P&&!oe,isPaused:I.fetchStatus==="paused",isPlaceholderData:B,isRefetchError:P&&oe,isStale:l1(t,s),refetch:this.refetch}}updateResult(t){const s=U(this,Nn),c=this.createResult(U(this,$e),this.options);if(ve(this,Ws,U(this,$e).state),ve(this,Jo,this.options),U(this,Ws).data!==void 0&&ve(this,ea,U(this,$e)),Hu(c,s))return;ve(this,Nn,c);const h={},p=()=>{if(!s)return!0;const{notifyOnChangeProps:m}=this.options,v=typeof m=="function"?m():m;if(v==="all"||!v&&!U(this,ta).size)return!0;const E=new Set(v??U(this,ta));return this.options.throwOnError&&E.add("error"),Object.keys(U(this,Nn)).some(w=>{const O=w;return U(this,Nn)[O]!==s[O]&&E.has(O)})};(t==null?void 0:t.listeners)!==!1&&p()&&(h.listeners=!0),Ve(this,ht,Wg).call(this,{...h,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ve(this,ht,th).call(this)}},Vn=new WeakMap,$e=new WeakMap,El=new WeakMap,Nn=new WeakMap,Ws=new WeakMap,Jo=new WeakMap,ri=new WeakMap,Cl=new WeakMap,$o=new WeakMap,ea=new WeakMap,Hs=new WeakMap,Gs=new WeakMap,Ki=new WeakMap,ta=new WeakMap,ht=new WeakSet,Wa=function(t){Ve(this,ht,ih).call(this);let s=U(this,$e).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(Cr)),s},Jf=function(){Ve(this,ht,nh).call(this);const t=zo(this.options.staleTime,U(this,$e));if(ca||U(this,Nn).isStale||!qf(t))return;const c=kg(U(this,Nn).dataUpdatedAt,t)+1;ve(this,Hs,setTimeout(()=>{U(this,Nn).isStale||this.updateResult()},c))},$f=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(U(this,$e)):this.options.refetchInterval)??!1},eh=function(t){Ve(this,ht,rh).call(this),ve(this,Ki,t),!(ca||zr(this.options.enabled,U(this,$e))===!1||!qf(U(this,Ki))||U(this,Ki)===0)&&ve(this,Gs,setInterval(()=>{(this.options.refetchIntervalInBackground||a1.isFocused())&&Ve(this,ht,Wa).call(this)},U(this,Ki)))},th=function(){Ve(this,ht,Jf).call(this),Ve(this,ht,eh).call(this,Ve(this,ht,$f).call(this))},nh=function(){U(this,Hs)&&(clearTimeout(U(this,Hs)),ve(this,Hs,void 0))},rh=function(){U(this,Gs)&&(clearInterval(U(this,Gs)),ve(this,Gs,void 0))},ih=function(){const t=U(this,Vn).getQueryCache().build(U(this,Vn),this.options);if(t===U(this,$e))return;const s=U(this,$e);ve(this,$e,t),ve(this,El,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},Wg=function(t){sn.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(U(this,Nn))}),U(this,Vn).getQueryCache().notify({query:U(this,$e),type:"observerResultsUpdated"})})},id);function Jy(e,t){return zr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function k0(e,t){return Jy(e,t)||e.state.data!==void 0&&sh(e,t,t.refetchOnMount)}function sh(e,t,s){if(zr(t.enabled,e)!==!1){const c=typeof s=="function"?s(e):s;return c==="always"||c!==!1&&l1(e,t)}return!1}function P0(e,t,s,c){return(e!==t||zr(c.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&l1(e,s)}function l1(e,t){return zr(t.enabled,e)!==!1&&e.isStaleByTime(zo(t.staleTime,e))}function $y(e,t){return!Hu(e.getCurrentResult(),t)}var Yi,qi,zn,xi,Ei,xu,oh,sd,ew=(sd=class extends ga{constructor(s,c){super();ke(this,Ei);ke(this,Yi);ke(this,qi);ke(this,zn);ke(this,xi);ve(this,Yi,s),this.setOptions(c),this.bindMethods(),Ve(this,Ei,xu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var h;const c=this.options;this.options=U(this,Yi).defaultMutationOptions(s),Hu(this.options,c)||U(this,Yi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:U(this,zn),observer:this}),c!=null&&c.mutationKey&&this.options.mutationKey&&$s(c.mutationKey)!==$s(this.options.mutationKey)?this.reset():((h=U(this,zn))==null?void 0:h.state.status)==="pending"&&U(this,zn).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=U(this,zn))==null||s.removeObserver(this)}onMutationUpdate(s){Ve(this,Ei,xu).call(this),Ve(this,Ei,oh).call(this,s)}getCurrentResult(){return U(this,qi)}reset(){var s;(s=U(this,zn))==null||s.removeObserver(this),ve(this,zn,void 0),Ve(this,Ei,xu).call(this),Ve(this,Ei,oh).call(this)}mutate(s,c){var h;return ve(this,xi,c),(h=U(this,zn))==null||h.removeObserver(this),ve(this,zn,U(this,Yi).getMutationCache().build(U(this,Yi),this.options)),U(this,zn).addObserver(this),U(this,zn).execute(s)}},Yi=new WeakMap,qi=new WeakMap,zn=new WeakMap,xi=new WeakMap,Ei=new WeakSet,xu=function(){var c;const s=((c=U(this,zn))==null?void 0:c.state)??zg();ve(this,qi,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},oh=function(s){sn.batch(()=>{var c,h,p,m,v,E,w,O;if(U(this,xi)&&this.hasListeners()){const I=U(this,qi).variables,B=U(this,qi).context;(s==null?void 0:s.type)==="success"?((h=(c=U(this,xi)).onSuccess)==null||h.call(c,s.data,I,B),(m=(p=U(this,xi)).onSettled)==null||m.call(p,s.data,null,I,B)):(s==null?void 0:s.type)==="error"&&((E=(v=U(this,xi)).onError)==null||E.call(v,s.error,I,B),(O=(w=U(this,xi)).onSettled)==null||O.call(w,void 0,s.error,I,B))}this.listeners.forEach(I=>{I(U(this,qi))})})},sd),Hg=ie.createContext(void 0),Gg=e=>{const t=ie.useContext(Hg);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},tw=({client:e,children:t})=>(ie.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Q.jsx(Hg.Provider,{value:e,children:t})),Xg=ie.createContext(!1),nw=()=>ie.useContext(Xg);Xg.Provider;function rw(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var iw=ie.createContext(rw()),sw=()=>ie.useContext(iw);function Kg(e,t){return typeof e=="function"?e(...t):!!e}function ow(){}var aw=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},lw=e=>{ie.useEffect(()=>{e.clearReset()},[e])},uw=({result:e,errorResetBoundary:t,throwOnError:s,query:c})=>e.isError&&!t.isReset()&&!e.isFetching&&c&&Kg(s,[e.error,c]),cw=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},fw=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,hw=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function dw(e,t,s){var w,O,I,B;const c=Gg(),h=nw(),p=sw(),m=c.defaultQueryOptions(e);(O=(w=c.getDefaultOptions().queries)==null?void 0:w._experimental_beforeQuery)==null||O.call(w,m),m._optimisticResults=h?"isRestoring":"optimistic",cw(m),aw(m,p),lw(p);const[v]=ie.useState(()=>new t(c,m)),E=v.getOptimisticResult(m);if(ie.useSyncExternalStore(ie.useCallback(V=>{const K=h?()=>{}:v.subscribe(sn.batchCalls(V));return v.updateResult(),K},[v,h]),()=>v.getCurrentResult(),()=>v.getCurrentResult()),ie.useEffect(()=>{v.setOptions(m,{listeners:!1})},[m,v]),fw(m,E))throw hw(m,v,p);if(uw({result:E,errorResetBoundary:p,throwOnError:m.throwOnError,query:c.getQueryCache().get(m.queryHash)}))throw E.error;return(B=(I=c.getDefaultOptions().queries)==null?void 0:I._experimental_afterQuery)==null||B.call(I,m,E),m.notifyOnChangeProps?E:v.trackResult(E)}function Xu(e,t){return dw(e,Zy)}function ah(e,t){const s=Gg(),[c]=ie.useState(()=>new ew(s,e));ie.useEffect(()=>{c.setOptions(e)},[c,e]);const h=ie.useSyncExternalStore(ie.useCallback(m=>c.subscribe(sn.batchCalls(m)),[c]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p=ie.useCallback((m,v)=>{c.mutate(m,v).catch(ow)},[c]);if(h.error&&Kg(c.options.throwOnError,[h.error]))throw h.error;return{...h,mutate:p,mutateAsync:h.mutate}}var pw={};const gs=pw.VITE_API_URL||"http://localhost:8000";async function Yg(){const e=await fetch(`${gs}/api/employees`);if(!e.ok)throw new Error("Failed to fetch employees");return e.json()}async function gw(e,t){const s=await fetch(`${gs}/api/vouchers/checkin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employee_id:e,employee_name:t})});if(!s.ok)throw new Error(await s.text());return s.json()}async function mw(e){const t=await fetch(`${gs}/api/vouchers/checkout`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employee_id:e})});if(!t.ok)throw new Error(await t.text());return t.json()}async function qg(){const e=await fetch(`${gs}/api/vouchers`);if(!e.ok)throw new Error("Failed to fetch vouchers");return e.json()}async function xw(e){const t=await fetch(`${gs}/api/auth/verify-pin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pin:e})});if(!t.ok)throw new Error("PIN verification failed");return t.json()}async function yw(e,t){const s=new FormData;s.append("file",e);const c=await fetch(`${gs}/api/employees/import`,{method:"POST",headers:{"X-Admin-PIN":t},body:s});if(!c.ok)throw new Error(await c.text());return c.json()}async function Qg(e,t){const s=await fetch(`${gs}/api/reports/daily?report_date=${encodeURIComponent(e)}`,{headers:{"X-Admin-PIN":t}});if(!s.ok)throw new Error(await s.text());return s.blob()}function u1(){const[e,t]=ie.useState(navigator.onLine);return ie.useEffect(()=>{const s=()=>t(!0),c=()=>t(!1);return window.addEventListener("online",s),window.addEventListener("offline",c),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",c)}},[]),e}var Zg={exports:{}};(function(e,t){(function(s,c){e.exports=c()})(Ms,function(){var s=function(r,o){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(u[d]=f[d])})(r,o)},c=function(){return(c=Object.assign||function(r){for(var o,u=1,f=arguments.length;u<f;u++)for(var d in o=arguments[u])Object.prototype.hasOwnProperty.call(o,d)&&(r[d]=o[d]);return r}).apply(this,arguments)};function h(r,o,u){for(var f,d=0,g=o.length;d<g;d++)!f&&d in o||((f=f||Array.prototype.slice.call(o,0,d))[d]=o[d]);return r.concat(f||Array.prototype.slice.call(o))}var p=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ms,m=Object.keys,v=Array.isArray;function E(r,o){return typeof o!="object"||m(o).forEach(function(u){r[u]=o[u]}),r}typeof Promise>"u"||p.Promise||(p.Promise=Promise);var w=Object.getPrototypeOf,O={}.hasOwnProperty;function I(r,o){return O.call(r,o)}function B(r,o){typeof o=="function"&&(o=o(w(r))),(typeof Reflect>"u"?m:Reflect.ownKeys)(o).forEach(function(u){K(r,u,o[u])})}var V=Object.defineProperty;function K(r,o,u,f){V(r,o,E(u&&I(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},f))}function G(r){return{from:function(o){return r.prototype=Object.create(o.prototype),K(r.prototype,"constructor",r),{extend:B.bind(null,r.prototype)}}}}var se=Object.getOwnPropertyDescriptor,L=[].slice;function T(r,o,u){return L.call(r,o,u)}function P(r,o){return o(r)}function z(r){if(!r)throw new Error("Assertion Failed")}function oe(r){p.setImmediate?setImmediate(r):setTimeout(r,0)}function ne(r,o){if(typeof o=="string"&&I(r,o))return r[o];if(!o)return r;if(typeof o!="string"){for(var u=[],f=0,d=o.length;f<d;++f){var g=ne(r,o[f]);u.push(g)}return u}var x=o.indexOf(".");if(x!==-1){var y=r[o.substr(0,x)];return y==null?void 0:ne(y,o.substr(x+1))}}function W(r,o,u){if(r&&o!==void 0&&!("isFrozen"in Object&&Object.isFrozen(r)))if(typeof o!="string"&&"length"in o){z(typeof u!="string"&&"length"in u);for(var f=0,d=o.length;f<d;++f)W(r,o[f],u[f])}else{var g,x,y=o.indexOf(".");y!==-1?(g=o.substr(0,y),(x=o.substr(y+1))===""?u===void 0?v(r)&&!isNaN(parseInt(g))?r.splice(g,1):delete r[g]:r[g]=u:W(y=!(y=r[g])||!I(r,g)?r[g]={}:y,x,u)):u===void 0?v(r)&&!isNaN(parseInt(o))?r.splice(o,1):delete r[o]:r[o]=u}}function ee(r){var o,u={};for(o in r)I(r,o)&&(u[o]=r[o]);return u}var te=[].concat;function De(r){return te.apply([],r)}var R="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(De([8,16,32,64].map(function(r){return["Int","Uint","Float"].map(function(o){return o+r+"Array"})}))).filter(function(r){return p[r]}),lt=new Set(R.map(function(r){return p[r]})),be=null;function Fe(r){return be=new WeakMap,r=function o(u){if(!u||typeof u!="object")return u;var f=be.get(u);if(f)return f;if(v(u)){f=[],be.set(u,f);for(var d=0,g=u.length;d<g;++d)f.push(o(u[d]))}else if(lt.has(u.constructor))f=u;else{var x,y=w(u);for(x in f=y===Object.prototype?{}:Object.create(y),be.set(u,f),u)I(u,x)&&(f[x]=o(u[x]))}return f}(r),be=null,r}var kt={}.toString;function $(r){return kt.call(r).slice(8,-1)}var Et=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Pe=typeof Et=="symbol"?function(r){var o;return r!=null&&(o=r[Et])&&o.apply(r)}:function(){return null};function pe(r,o){return o=r.indexOf(o),0<=o&&r.splice(o,1),0<=o}var Te={};function Ne(r){var o,u,f,d;if(arguments.length===1){if(v(r))return r.slice();if(this===Te&&typeof r=="string")return[r];if(d=Pe(r)){for(u=[];!(f=d.next()).done;)u.push(f.value);return u}if(r==null)return[r];if(typeof(o=r.length)!="number")return[r];for(u=new Array(o);o--;)u[o]=r[o];return u}for(o=arguments.length,u=new Array(o);o--;)u[o]=arguments[o];return u}var xt=typeof Symbol<"u"?function(r){return r[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ai=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],mn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ai),Qe={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Zt(r,o){this.name=r,this.message=o}function Ct(r,o){return r+". Errors: "+Object.keys(o).map(function(u){return o[u].toString()}).filter(function(u,f,d){return d.indexOf(u)===f}).join(`
`)}function lr(r,o,u,f){this.failures=o,this.failedKeys=f,this.successCount=u,this.message=Ct(r,o)}function Ce(r,o){this.name="BulkError",this.failures=Object.keys(o).map(function(u){return o[u]}),this.failuresByPos=o,this.message=Ct(r,this.failures)}G(Zt).from(Error).extend({toString:function(){return this.name+": "+this.message}}),G(lr).from(Zt),G(Ce).from(Zt);var ur=mn.reduce(function(r,o){return r[o]=o+"Error",r},{}),Yt=Zt,Ie=mn.reduce(function(r,o){var u=o+"Error";function f(d,g){this.name=u,d?typeof d=="string"?(this.message="".concat(d).concat(g?`
 `+g:""),this.inner=g||null):typeof d=="object"&&(this.message="".concat(d.name," ").concat(d.message),this.inner=d):(this.message=Qe[o]||u,this.inner=null)}return G(f).from(Yt),r[o]=f,r},{});Ie.Syntax=SyntaxError,Ie.Type=TypeError,Ie.Range=RangeError;var bi=ai.reduce(function(r,o){return r[o+"Error"]=Ie[o],r},{}),Jt=mn.reduce(function(r,o){return["Syntax","Type","Range"].indexOf(o)===-1&&(r[o+"Error"]=Ie[o]),r},{});function rt(){}function Ge(r){return r}function Ti(r,o){return r==null||r===Ge?o:function(u){return o(r(u))}}function an(r,o){return function(){r.apply(this,arguments),o.apply(this,arguments)}}function ms(r,o){return r===rt?o:function(){var u=r.apply(this,arguments);u!==void 0&&(arguments[0]=u);var f=this.onsuccess,d=this.onerror;this.onsuccess=null,this.onerror=null;var g=o.apply(this,arguments);return f&&(this.onsuccess=this.onsuccess?an(f,this.onsuccess):f),d&&(this.onerror=this.onerror?an(d,this.onerror):d),g!==void 0?g:u}}function $t(r,o){return r===rt?o:function(){r.apply(this,arguments);var u=this.onsuccess,f=this.onerror;this.onsuccess=this.onerror=null,o.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?an(u,this.onsuccess):u),f&&(this.onerror=this.onerror?an(f,this.onerror):f)}}function yt(r,o){return r===rt?o:function(u){var f=r.apply(this,arguments);E(u,f);var d=this.onsuccess,g=this.onerror;return this.onsuccess=null,this.onerror=null,u=o.apply(this,arguments),d&&(this.onsuccess=this.onsuccess?an(d,this.onsuccess):d),g&&(this.onerror=this.onerror?an(g,this.onerror):g),f===void 0?u===void 0?void 0:u:E(f,u)}}function Ze(r,o){return r===rt?o:function(){return o.apply(this,arguments)!==!1&&r.apply(this,arguments)}}function Ni(r,o){return r===rt?o:function(){var u=r.apply(this,arguments);if(u&&typeof u.then=="function"){for(var f=this,d=arguments.length,g=new Array(d);d--;)g[d]=arguments[d];return u.then(function(){return o.apply(f,g)})}return o.apply(this,arguments)}}Jt.ModifyError=lr,Jt.DexieError=Zt,Jt.BulkError=Ce;var xe=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function xs(r){xe=r}var Oi={},cr=100,R=typeof Promise>"u"?[]:function(){var r=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[r,w(r),r];var o=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[o,w(o),r]}(),ai=R[0],mn=R[1],R=R[2],mn=mn&&mn.then,fn=ai&&ai.constructor,ro=!!R,Pn=function(r,o){it.push([r,o]),ys&&(queueMicrotask(xa),ys=!1)},en=!0,ys=!0,fr=[],io=[],Ot=Ge,ce={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:rt,pgp:!1,env:{},finalize:rt},ge=ce,it=[],ft=0,Xr=[];function me(r){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var o=this._PSD=ge;if(typeof r!="function"){if(r!==Oi)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Nr(this,this._value))}this._state=null,this._value=null,++o.ref,function u(f,d){try{d(function(g){if(f._state===null){if(g===f)throw new TypeError("A promise cannot be resolved with itself.");var x=f._lib&&Pt();g&&typeof g.then=="function"?u(f,function(y,C){g instanceof me?g._then(y,C):g.then(y,C)}):(f._state=!0,f._value=g,ma(f)),x&&qn()}},Nr.bind(null,f))}catch(g){Nr(f,g)}}(this,r)}var so={get:function(){var r=ge,o=hn;function u(f,d){var g=this,x=!r.global&&(r!==ge||o!==hn),y=x&&!Mt(),C=new me(function(S,_){oo(g,new et(Ol(f,r,x,y),Ol(d,r,x,y),S,_,r))});return this._consoleTask&&(C._consoleTask=this._consoleTask),C}return u.prototype=Oi,u},set:function(r){K(this,"then",r&&r.prototype===Oi?so:{get:function(){return r},set:so.set})}};function et(r,o,u,f,d){this.onFulfilled=typeof r=="function"?r:null,this.onRejected=typeof o=="function"?o:null,this.resolve=u,this.reject=f,this.psd=d}function Nr(r,o){var u,f;io.push(o),r._state===null&&(u=r._lib&&Pt(),o=Ot(o),r._state=!1,r._value=o,f=r,fr.some(function(d){return d._value===f._value})||fr.push(f),ma(r),u&&qn())}function ma(r){var o=r._listeners;r._listeners=[];for(var u=0,f=o.length;u<f;++u)oo(r,o[u]);var d=r._PSD;--d.ref||d.finalize(),ft===0&&(++ft,Pn(function(){--ft==0&&Ri()},[]))}function oo(r,o){if(r._state!==null){var u=r._state?o.onFulfilled:o.onRejected;if(u===null)return(r._state?o.resolve:o.reject)(r._value);++o.psd.ref,++ft,Pn(Yn,[u,r,o])}else r._listeners.push(o)}function Yn(r,o,u){try{var f,d=o._value;!o._state&&io.length&&(io=[]),f=xe&&o._consoleTask?o._consoleTask.run(function(){return r(d)}):r(d),o._state||io.indexOf(d)!==-1||function(g){for(var x=fr.length;x;)if(fr[--x]._value===g._value)return fr.splice(x,1)}(o),u.resolve(f)}catch(g){u.reject(g)}finally{--ft==0&&Ri(),--u.psd.ref||u.psd.finalize()}}function xa(){li(ce,function(){Pt()&&qn()})}function Pt(){var r=en;return ys=en=!1,r}function qn(){var r,o,u;do for(;0<it.length;)for(r=it,it=[],u=r.length,o=0;o<u;++o){var f=r[o];f[0].apply(null,f[1])}while(0<it.length);ys=en=!0}function Ri(){var r=fr;fr=[],r.forEach(function(f){f._PSD.onunhandled.call(null,f._value,f)});for(var o=Xr.slice(0),u=o.length;u;)o[--u]()}function Sn(r){return new me(Oi,!1,r)}function At(r,o){var u=ge;return function(){var f=Pt(),d=ge;try{return Qn(u,!0),r.apply(this,arguments)}catch(g){o&&o(g)}finally{Qn(d,!1),f&&qn()}}}B(me.prototype,{then:so,_then:function(r,o){oo(this,new et(null,null,r,o,ge))},catch:function(r){if(arguments.length===1)return this.then(null,r);var o=r,u=arguments[1];return typeof o=="function"?this.then(null,function(f){return(f instanceof o?u:Sn)(f)}):this.then(null,function(f){return(f&&f.name===o?u:Sn)(f)})},finally:function(r){return this.then(function(o){return me.resolve(r()).then(function(){return o})},function(o){return me.resolve(r()).then(function(){return Sn(o)})})},timeout:function(r,o){var u=this;return r<1/0?new me(function(f,d){var g=setTimeout(function(){return d(new Ie.Timeout(o))},r);u.then(f,d).finally(clearTimeout.bind(null,g))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&K(me.prototype,Symbol.toStringTag,"Dexie.Promise"),ce.env=Zn(),B(me,{all:function(){var r=Ne.apply(null,arguments).map(Or);return new me(function(o,u){r.length===0&&o([]);var f=r.length;r.forEach(function(d,g){return me.resolve(d).then(function(x){r[g]=x,--f||o(r)},u)})})},resolve:function(r){return r instanceof me?r:r&&typeof r.then=="function"?new me(function(o,u){r.then(o,u)}):new me(Oi,!0,r)},reject:Sn,race:function(){var r=Ne.apply(null,arguments).map(Or);return new me(function(o,u){r.map(function(f){return me.resolve(f).then(o,u)})})},PSD:{get:function(){return ge},set:function(r){return ge=r}},totalEchoes:{get:function(){return hn}},newPSD:In,usePSD:li,scheduler:{get:function(){return Pn},set:function(r){Pn=r}},rejectionMapper:{get:function(){return Ot},set:function(r){Ot=r}},follow:function(r,o){return new me(function(u,f){return In(function(d,g){var x=ge;x.unhandleds=[],x.onunhandled=g,x.finalize=an(function(){var y,C=this;y=function(){C.unhandleds.length===0?d():g(C.unhandleds[0])},Xr.push(function S(){y(),Xr.splice(Xr.indexOf(S),1)}),++ft,Pn(function(){--ft==0&&Ri()},[])},x.finalize),r()},o,u,f)})}}),fn&&(fn.allSettled&&K(me,"allSettled",function(){var r=Ne.apply(null,arguments).map(Or);return new me(function(o){r.length===0&&o([]);var u=r.length,f=new Array(u);r.forEach(function(d,g){return me.resolve(d).then(function(x){return f[g]={status:"fulfilled",value:x}},function(x){return f[g]={status:"rejected",reason:x}}).then(function(){return--u||o(f)})})})}),fn.any&&typeof AggregateError<"u"&&K(me,"any",function(){var r=Ne.apply(null,arguments).map(Or);return new me(function(o,u){r.length===0&&u(new AggregateError([]));var f=r.length,d=new Array(f);r.forEach(function(g,x){return me.resolve(g).then(function(y){return o(y)},function(y){d[x]=y,--f||u(new AggregateError(d))})})})}));var St={awaits:0,echoes:0,id:0},ya=0,tn=[],hr=0,hn=0,ye=0;function In(r,o,u,f){var d=ge,g=Object.create(d);return g.parent=d,g.ref=0,g.global=!1,g.id=++ye,ce.env,g.env=ro?{Promise:me,PromiseProp:{value:me,configurable:!0,writable:!0},all:me.all,race:me.race,allSettled:me.allSettled,any:me.any,resolve:me.resolve,reject:me.reject}:{},o&&E(g,o),++d.ref,g.finalize=function(){--this.parent.ref||this.parent.finalize()},f=li(g,r,u,f),g.ref===0&&g.finalize(),f}function Kr(){return St.id||(St.id=++ya),++St.awaits,St.echoes+=cr,St.id}function Mt(){return!!St.awaits&&(--St.awaits==0&&(St.id=0),St.echoes=St.awaits*cr,!0)}function Or(r){return St.echoes&&r&&r.constructor===fn?(Kr(),r.then(function(o){return Mt(),o},function(o){return Mt(),Xe(o)})):r}function ao(){var r=tn[tn.length-1];tn.pop(),Qn(r,!1)}function Qn(r,o){var u,f=ge;(o?!St.echoes||hr++&&r===ge:!hr||--hr&&r===ge)||queueMicrotask(o?(function(d){++hn,St.echoes&&--St.echoes!=0||(St.echoes=St.awaits=St.id=0),tn.push(ge),Qn(d,!0)}).bind(null,r):ao),r!==ge&&(ge=r,f===ce&&(ce.env=Zn()),ro&&(u=ce.env.Promise,o=r.env,(f.global||r.global)&&(Object.defineProperty(p,"Promise",o.PromiseProp),u.all=o.all,u.race=o.race,u.resolve=o.resolve,u.reject=o.reject,o.allSettled&&(u.allSettled=o.allSettled),o.any&&(u.any=o.any))))}function Zn(){var r=p.Promise;return ro?{Promise:r,PromiseProp:Object.getOwnPropertyDescriptor(p,"Promise"),all:r.all,race:r.race,allSettled:r.allSettled,any:r.any,resolve:r.resolve,reject:r.reject}:{}}function li(r,o,u,f,d){var g=ge;try{return Qn(r,!0),o(u,f,d)}finally{Qn(g,!1)}}function Ol(r,o,u,f){return typeof r!="function"?r:function(){var d=ge;u&&Kr(),Qn(o,!0);try{return r.apply(this,arguments)}finally{Qn(d,!1),f&&queueMicrotask(Mt)}}}function Mn(r){Promise===fn&&St.echoes===0?hr===0?r():enqueueNativeMicroTask(r):setTimeout(r,0)}(""+mn).indexOf("[native code]")===-1&&(Kr=Mt=rt);var Xe=me.reject,ot="",dr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Rr="String expected.",Yr=[],re="__dbnames",wa="readonly",It="readwrite";function Bn(r,o){return r?o?function(){return r.apply(this,arguments)&&o.apply(this,arguments)}:r:o}var Rl={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Je(r){return typeof r!="string"||/\./.test(r)?function(o){return o}:function(o){return o[r]===void 0&&r in o&&delete(o=Fe(o))[r],o}}function tt(){throw Ie.Type()}function we(r,o){try{var u=lo(r),f=lo(o);if(u!==f)return u==="Array"?1:f==="Array"?-1:u==="binary"?1:f==="binary"?-1:u==="string"?1:f==="string"?-1:u==="Date"?1:f!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return o<r?1:r<o?-1:0;case"binary":return function(d,g){for(var x=d.length,y=g.length,C=x<y?x:y,S=0;S<C;++S)if(d[S]!==g[S])return d[S]<g[S]?-1:1;return x===y?0:x<y?-1:1}(uo(r),uo(o));case"Array":return function(d,g){for(var x=d.length,y=g.length,C=x<y?x:y,S=0;S<C;++S){var _=we(d[S],g[S]);if(_!==0)return _}return x===y?0:x<y?-1:1}(r,o)}}catch{}return NaN}function lo(r){var o=typeof r;return o!="object"?o:ArrayBuffer.isView(r)?"binary":(r=$(r),r==="ArrayBuffer"?"binary":r)}function uo(r){return r instanceof Uint8Array?r:ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r)}var co=(Me.prototype._trans=function(r,o,u){var f=this._tx||ge.trans,d=this.name,g=xe&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(r==="readonly"?"read":"write"," ").concat(this.name));function x(S,_,b){if(!b.schema[d])throw new Ie.NotFound("Table "+d+" not part of transaction");return o(b.idbtrans,b)}var y=Pt();try{var C=f&&f.db._novip===this.db._novip?f===ge.trans?f._promise(r,x,u):In(function(){return f._promise(r,x,u)},{trans:f,transless:ge.transless||ge}):function S(_,b,N,D){if(_.idbdb&&(_._state.openComplete||ge.letThrough||_._vip)){var k=_._createTransaction(b,N,_._dbSchema);try{k.create(),_._state.PR1398_maxLoop=3}catch(M){return M.name===ur.InvalidState&&_.isOpen()&&0<--_._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),_.close({disableAutoOpen:!1}),_.open().then(function(){return S(_,b,N,D)})):Xe(M)}return k._promise(b,function(M,F){return In(function(){return ge.trans=k,D(M,F,k)})}).then(function(M){if(b==="readwrite")try{k.idbtrans.commit()}catch{}return b==="readonly"?M:k._completion.then(function(){return M})})}if(_._state.openComplete)return Xe(new Ie.DatabaseClosed(_._state.dbOpenError));if(!_._state.isBeingOpened){if(!_._state.autoOpen)return Xe(new Ie.DatabaseClosed);_.open().catch(rt)}return _._state.dbReadyPromise.then(function(){return S(_,b,N,D)})}(this.db,r,[this.name],x);return g&&(C._consoleTask=g,C=C.catch(function(S){return console.trace(S),Xe(S)})),C}finally{y&&qn()}},Me.prototype.get=function(r,o){var u=this;return r&&r.constructor===Object?this.where(r).first(o):r==null?Xe(new Ie.Type("Invalid argument to Table.get()")):this._trans("readonly",function(f){return u.core.get({trans:f,key:r}).then(function(d){return u.hook.reading.fire(d)})}).then(o)},Me.prototype.where=function(r){if(typeof r=="string")return new this.db.WhereClause(this,r);if(v(r))return new this.db.WhereClause(this,"[".concat(r.join("+"),"]"));var o=m(r);if(o.length===1)return this.where(o[0]).equals(r[o[0]]);var u=this.schema.indexes.concat(this.schema.primKey).filter(function(C){if(C.compound&&o.every(function(_){return 0<=C.keyPath.indexOf(_)})){for(var S=0;S<o.length;++S)if(o.indexOf(C.keyPath[S])===-1)return!1;return!0}return!1}).sort(function(C,S){return C.keyPath.length-S.keyPath.length})[0];if(u&&this.db._maxKey!==ot){var x=u.keyPath.slice(0,o.length);return this.where(x).equals(x.map(function(S){return r[S]}))}!u&&xe&&console.warn("The query ".concat(JSON.stringify(r)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(o.join("+"),"]"));var f=this.schema.idxByName,d=this.db._deps.indexedDB;function g(C,S){return d.cmp(C,S)===0}var y=o.reduce(function(N,S){var _=N[0],b=N[1],N=f[S],D=r[S];return[_||N,_||!N?Bn(b,N&&N.multi?function(k){return k=ne(k,S),v(k)&&k.some(function(M){return g(D,M)})}:function(k){return g(D,ne(k,S))}):b]},[null,null]),x=y[0],y=y[1];return x?this.where(x.name).equals(r[x.keyPath]).filter(y):u?this.filter(y):this.where(o).equals("")},Me.prototype.filter=function(r){return this.toCollection().and(r)},Me.prototype.count=function(r){return this.toCollection().count(r)},Me.prototype.offset=function(r){return this.toCollection().offset(r)},Me.prototype.limit=function(r){return this.toCollection().limit(r)},Me.prototype.each=function(r){return this.toCollection().each(r)},Me.prototype.toArray=function(r){return this.toCollection().toArray(r)},Me.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Me.prototype.orderBy=function(r){return new this.db.Collection(new this.db.WhereClause(this,v(r)?"[".concat(r.join("+"),"]"):r))},Me.prototype.reverse=function(){return this.toCollection().reverse()},Me.prototype.mapToClass=function(r){var o,u=this.db,f=this.name;function d(){return o!==null&&o.apply(this,arguments)||this}(this.schema.mappedClass=r).prototype instanceof tt&&(function(C,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function _(){this.constructor=C}s(C,S),C.prototype=S===null?Object.create(S):(_.prototype=S.prototype,new _)}(d,o=r),Object.defineProperty(d.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),d.prototype.table=function(){return f},r=d);for(var g=new Set,x=r.prototype;x;x=w(x))Object.getOwnPropertyNames(x).forEach(function(C){return g.add(C)});function y(C){if(!C)return C;var S,_=Object.create(r.prototype);for(S in C)if(!g.has(S))try{_[S]=C[S]}catch{}return _}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=y,this.hook("reading",y),r},Me.prototype.defineClass=function(){return this.mapToClass(function(r){E(this,r)})},Me.prototype.add=function(r,o){var u=this,f=this.schema.primKey,d=f.auto,g=f.keyPath,x=r;return g&&d&&(x=Je(g)(r)),this._trans("readwrite",function(y){return u.core.mutate({trans:y,type:"add",keys:o!=null?[o]:null,values:[x]})}).then(function(y){return y.numFailures?me.reject(y.failures[0]):y.lastResult}).then(function(y){if(g)try{W(r,g,y)}catch{}return y})},Me.prototype.update=function(r,o){return typeof r!="object"||v(r)?this.where(":id").equals(r).modify(o):(r=ne(r,this.schema.primKey.keyPath),r===void 0?Xe(new Ie.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(r).modify(o))},Me.prototype.put=function(r,o){var u=this,f=this.schema.primKey,d=f.auto,g=f.keyPath,x=r;return g&&d&&(x=Je(g)(r)),this._trans("readwrite",function(y){return u.core.mutate({trans:y,type:"put",values:[x],keys:o!=null?[o]:null})}).then(function(y){return y.numFailures?me.reject(y.failures[0]):y.lastResult}).then(function(y){if(g)try{W(r,g,y)}catch{}return y})},Me.prototype.delete=function(r){var o=this;return this._trans("readwrite",function(u){return o.core.mutate({trans:u,type:"delete",keys:[r]})}).then(function(u){return u.numFailures?me.reject(u.failures[0]):void 0})},Me.prototype.clear=function(){var r=this;return this._trans("readwrite",function(o){return r.core.mutate({trans:o,type:"deleteRange",range:Rl})}).then(function(o){return o.numFailures?me.reject(o.failures[0]):void 0})},Me.prototype.bulkGet=function(r){var o=this;return this._trans("readonly",function(u){return o.core.getMany({keys:r,trans:u}).then(function(f){return f.map(function(d){return o.hook.reading.fire(d)})})})},Me.prototype.bulkAdd=function(r,o,u){var f=this,d=Array.isArray(o)?o:void 0,g=(u=u||(d?void 0:o))?u.allKeys:void 0;return this._trans("readwrite",function(x){var S=f.schema.primKey,y=S.auto,S=S.keyPath;if(S&&d)throw new Ie.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(d&&d.length!==r.length)throw new Ie.InvalidArgument("Arguments objects and keys must have the same length");var C=r.length,S=S&&y?r.map(Je(S)):r;return f.core.mutate({trans:x,type:"add",keys:d,values:S,wantResults:g}).then(function(k){var b=k.numFailures,N=k.results,D=k.lastResult,k=k.failures;if(b===0)return g?N:D;throw new Ce("".concat(f.name,".bulkAdd(): ").concat(b," of ").concat(C," operations failed"),k)})})},Me.prototype.bulkPut=function(r,o,u){var f=this,d=Array.isArray(o)?o:void 0,g=(u=u||(d?void 0:o))?u.allKeys:void 0;return this._trans("readwrite",function(x){var S=f.schema.primKey,y=S.auto,S=S.keyPath;if(S&&d)throw new Ie.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(d&&d.length!==r.length)throw new Ie.InvalidArgument("Arguments objects and keys must have the same length");var C=r.length,S=S&&y?r.map(Je(S)):r;return f.core.mutate({trans:x,type:"put",keys:d,values:S,wantResults:g}).then(function(k){var b=k.numFailures,N=k.results,D=k.lastResult,k=k.failures;if(b===0)return g?N:D;throw new Ce("".concat(f.name,".bulkPut(): ").concat(b," of ").concat(C," operations failed"),k)})})},Me.prototype.bulkUpdate=function(r){var o=this,u=this.core,f=r.map(function(x){return x.key}),d=r.map(function(x){return x.changes}),g=[];return this._trans("readwrite",function(x){return u.getMany({trans:x,keys:f,cache:"clone"}).then(function(y){var C=[],S=[];r.forEach(function(b,N){var D=b.key,k=b.changes,M=y[N];if(M){for(var F=0,j=Object.keys(k);F<j.length;F++){var X=j[F],Y=k[X];if(X===o.schema.primKey.keyPath){if(we(Y,D)!==0)throw new Ie.Constraint("Cannot update primary key in bulkUpdate()")}else W(M,X,Y)}g.push(N),C.push(D),S.push(M)}});var _=C.length;return u.mutate({trans:x,type:"put",keys:C,values:S,updates:{keys:f,changeSpecs:d}}).then(function(b){var N=b.numFailures,D=b.failures;if(N===0)return _;for(var k=0,M=Object.keys(D);k<M.length;k++){var F,j=M[k],X=g[Number(j)];X!=null&&(F=D[j],delete D[j],D[X]=F)}throw new Ce("".concat(o.name,".bulkUpdate(): ").concat(N," of ").concat(_," operations failed"),D)})})})},Me.prototype.bulkDelete=function(r){var o=this,u=r.length;return this._trans("readwrite",function(f){return o.core.mutate({trans:f,type:"delete",keys:r})}).then(function(x){var d=x.numFailures,g=x.lastResult,x=x.failures;if(d===0)return g;throw new Ce("".concat(o.name,".bulkDelete(): ").concat(d," of ").concat(u," operations failed"),x)})},Me);function Me(){}function Ln(r){function o(x,y){if(y){for(var C=arguments.length,S=new Array(C-1);--C;)S[C-1]=arguments[C];return u[x].subscribe.apply(null,S),r}if(typeof x=="string")return u[x]}var u={};o.addEventType=g;for(var f=1,d=arguments.length;f<d;++f)g(arguments[f]);return o;function g(x,y,C){if(typeof x!="object"){var S;y=y||Ze;var _={subscribers:[],fire:C=C||rt,subscribe:function(b){_.subscribers.indexOf(b)===-1&&(_.subscribers.push(b),_.fire=y(_.fire,b))},unsubscribe:function(b){_.subscribers=_.subscribers.filter(function(N){return N!==b}),_.fire=_.subscribers.reduce(y,C)}};return u[x]=o[x]=_}m(S=x).forEach(function(b){var N=S[b];if(v(N))g(b,S[b][0],S[b][1]);else{if(N!=="asap")throw new Ie.InvalidArgument("Invalid event config");var D=g(b,Ge,function(){for(var k=arguments.length,M=new Array(k);k--;)M[k]=arguments[k];D.subscribers.forEach(function(F){oe(function(){F.apply(null,M)})})})}})}}function ws(r,o){return G(o).from({prototype:r}),o}function wt(r,o){return!(r.filter||r.algorithm||r.or)&&(o?r.justLimit:!r.replayFilter)}function pr(r,o){r.filter=Bn(r.filter,o)}function va(r,o,u){var f=r.replayFilter;r.replayFilter=f?function(){return Bn(f(),o())}:o,r.justLimit=u&&!f}function Dr(r,o){if(r.isPrimKey)return o.primaryKey;var u=o.getIndexByKeyPath(r.index);if(!u)throw new Ie.Schema("KeyPath "+r.index+" on object store "+o.name+" is not indexed");return u}function dt(r,o,u){var f=Dr(r,o.schema);return o.openCursor({trans:u,values:!r.keysOnly,reverse:r.dir==="prev",unique:!!r.unique,query:{index:f,range:r.range}})}function Ht(r,o,u,f){var d=r.replayFilter?Bn(r.filter,r.replayFilter()):r.filter;if(r.or){var g={},x=function(y,C,S){var _,b;d&&!d(C,S,function(N){return C.stop(N)},function(N){return C.fail(N)})||((b=""+(_=C.primaryKey))=="[object ArrayBuffer]"&&(b=""+new Uint8Array(_)),I(g,b)||(g[b]=!0,o(y,C,S)))};return Promise.all([r.or._iterate(x,u),H(dt(r,f,u),r.algorithm,x,!r.keysOnly&&r.valueMapper)])}return H(dt(r,f,u),Bn(r.algorithm,d),o,!r.keysOnly&&r.valueMapper)}function H(r,o,u,f){var d=At(f?function(g,x,y){return u(f(g),x,y)}:u);return r.then(function(g){if(g)return g.start(function(){var x=function(){return g.continue()};o&&!o(g,function(y){return x=y},function(y){g.stop(y),x=rt},function(y){g.fail(y),x=rt})||d(g.value,g,function(y){return x=y}),x()})})}var R=Symbol(),Se=(Gt.prototype.execute=function(r){if(this.add!==void 0){var o=this.add;if(v(o))return h(h([],v(r)?r:[],!0),o).sort();if(typeof o=="number")return(Number(r)||0)+o;if(typeof o=="bigint")try{return BigInt(r)+o}catch{return BigInt(0)+o}throw new TypeError("Invalid term ".concat(o))}if(this.remove!==void 0){var u=this.remove;if(v(u))return v(r)?r.filter(function(f){return!u.includes(f)}).sort():[];if(typeof u=="number")return Number(r)-u;if(typeof u=="bigint")try{return BigInt(r)-u}catch{return BigInt(0)-u}throw new TypeError("Invalid subtrahend ".concat(u))}return o=(o=this.replacePrefix)===null||o===void 0?void 0:o[0],o&&typeof r=="string"&&r.startsWith(o)?this.replacePrefix[1]+r.substring(o.length):r},Gt);function Gt(r){Object.assign(this,r)}var Fn=(nt.prototype._read=function(r,o){var u=this._ctx;return u.error?u.table._trans(null,Xe.bind(null,u.error)):u.table._trans("readonly",r).then(o)},nt.prototype._write=function(r){var o=this._ctx;return o.error?o.table._trans(null,Xe.bind(null,o.error)):o.table._trans("readwrite",r,"locked")},nt.prototype._addAlgorithm=function(r){var o=this._ctx;o.algorithm=Bn(o.algorithm,r)},nt.prototype._iterate=function(r,o){return Ht(this._ctx,r,o,this._ctx.table.core)},nt.prototype.clone=function(r){var o=Object.create(this.constructor.prototype),u=Object.create(this._ctx);return r&&E(u,r),o._ctx=u,o},nt.prototype.raw=function(){return this._ctx.valueMapper=null,this},nt.prototype.each=function(r){var o=this._ctx;return this._read(function(u){return Ht(o,r,u,o.table.core)})},nt.prototype.count=function(r){var o=this;return this._read(function(u){var f=o._ctx,d=f.table.core;if(wt(f,!0))return d.count({trans:u,query:{index:Dr(f,d.schema),range:f.range}}).then(function(x){return Math.min(x,f.limit)});var g=0;return Ht(f,function(){return++g,!1},u,d).then(function(){return g})}).then(r)},nt.prototype.sortBy=function(r,o){var u=r.split(".").reverse(),f=u[0],d=u.length-1;function g(C,S){return S?g(C[u[S]],S-1):C[f]}var x=this._ctx.dir==="next"?1:-1;function y(C,S){return C=g(C,d),S=g(S,d),C<S?-x:S<C?x:0}return this.toArray(function(C){return C.sort(y)}).then(o)},nt.prototype.toArray=function(r){var o=this;return this._read(function(u){var f=o._ctx;if(f.dir==="next"&&wt(f,!0)&&0<f.limit){var d=f.valueMapper,g=Dr(f,f.table.core.schema);return f.table.core.query({trans:u,limit:f.limit,values:!0,query:{index:g,range:f.range}}).then(function(y){return y=y.result,d?y.map(d):y})}var x=[];return Ht(f,function(y){return x.push(y)},u,f.table.core).then(function(){return x})},r)},nt.prototype.offset=function(r){var o=this._ctx;return r<=0||(o.offset+=r,wt(o)?va(o,function(){var u=r;return function(f,d){return u===0||(u===1?--u:d(function(){f.advance(u),u=0}),!1)}}):va(o,function(){var u=r;return function(){return--u<0}})),this},nt.prototype.limit=function(r){return this._ctx.limit=Math.min(this._ctx.limit,r),va(this._ctx,function(){var o=r;return function(u,f,d){return--o<=0&&f(d),0<=o}},!0),this},nt.prototype.until=function(r,o){return pr(this._ctx,function(u,f,d){return!r(u.value)||(f(d),o)}),this},nt.prototype.first=function(r){return this.limit(1).toArray(function(o){return o[0]}).then(r)},nt.prototype.last=function(r){return this.reverse().first(r)},nt.prototype.filter=function(r){var o;return pr(this._ctx,function(u){return r(u.value)}),(o=this._ctx).isMatch=Bn(o.isMatch,r),this},nt.prototype.and=function(r){return this.filter(r)},nt.prototype.or=function(r){return new this.db.WhereClause(this._ctx.table,r,this)},nt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},nt.prototype.desc=function(){return this.reverse()},nt.prototype.eachKey=function(r){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(u,f){r(f.key,f)})},nt.prototype.eachUniqueKey=function(r){return this._ctx.unique="unique",this.eachKey(r)},nt.prototype.eachPrimaryKey=function(r){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(u,f){r(f.primaryKey,f)})},nt.prototype.keys=function(r){var o=this._ctx;o.keysOnly=!o.isMatch;var u=[];return this.each(function(f,d){u.push(d.key)}).then(function(){return u}).then(r)},nt.prototype.primaryKeys=function(r){var o=this._ctx;if(o.dir==="next"&&wt(o,!0)&&0<o.limit)return this._read(function(f){var d=Dr(o,o.table.core.schema);return o.table.core.query({trans:f,values:!1,limit:o.limit,query:{index:d,range:o.range}})}).then(function(f){return f.result}).then(r);o.keysOnly=!o.isMatch;var u=[];return this.each(function(f,d){u.push(d.primaryKey)}).then(function(){return u}).then(r)},nt.prototype.uniqueKeys=function(r){return this._ctx.unique="unique",this.keys(r)},nt.prototype.firstKey=function(r){return this.limit(1).keys(function(o){return o[0]}).then(r)},nt.prototype.lastKey=function(r){return this.reverse().firstKey(r)},nt.prototype.distinct=function(){var r=this._ctx,r=r.index&&r.table.schema.idxByName[r.index];if(!r||!r.multi)return this;var o={};return pr(this._ctx,function(d){var f=d.primaryKey.toString(),d=I(o,f);return o[f]=!0,!d}),this},nt.prototype.modify=function(r){var o=this,u=this._ctx;return this._write(function(f){var d,g,x;x=typeof r=="function"?r:(d=m(r),g=d.length,function(F){for(var j=!1,X=0;X<g;++X){var Y=d[X],Z=r[Y],J=ne(F,Y);Z instanceof Se?(W(F,Y,Z.execute(J)),j=!0):J!==Z&&(W(F,Y,Z),j=!0)}return j});function y(F,Y){var X=Y.failures,Y=Y.numFailures;k+=F-Y;for(var Z=0,J=m(X);Z<J.length;Z++){var le=J[Z];D.push(X[le])}}var C=u.table.core,S=C.schema.primaryKey,_=S.outbound,b=S.extractKey,N=o.db._options.modifyChunkSize||200,D=[],k=0,M=[];return o.clone().primaryKeys().then(function(F){function j(Y){var Z=Math.min(N,F.length-Y);return C.getMany({trans:f,keys:F.slice(Y,Y+Z),cache:"immutable"}).then(function(J){for(var le=[],ae=[],fe=_?[]:null,he=[],de=0;de<Z;++de){var Be=J[de],je={value:Fe(Be),primKey:F[Y+de]};x.call(je,je.value,je)!==!1&&(je.value==null?he.push(F[Y+de]):_||we(b(Be),b(je.value))===0?(ae.push(je.value),_&&fe.push(F[Y+de])):(he.push(F[Y+de]),le.push(je.value)))}return Promise.resolve(0<le.length&&C.mutate({trans:f,type:"add",values:le}).then(function(He){for(var ze in He.failures)he.splice(parseInt(ze),1);y(le.length,He)})).then(function(){return(0<ae.length||X&&typeof r=="object")&&C.mutate({trans:f,type:"put",keys:fe,values:ae,criteria:X,changeSpec:typeof r!="function"&&r,isAdditionalChunk:0<Y}).then(function(He){return y(ae.length,He)})}).then(function(){return(0<he.length||X&&r===vs)&&C.mutate({trans:f,type:"delete",keys:he,criteria:X,isAdditionalChunk:0<Y}).then(function(He){return y(he.length,He)})}).then(function(){return F.length>Y+Z&&j(Y+N)})})}var X=wt(u)&&u.limit===1/0&&(typeof r!="function"||r===vs)&&{index:u.index,range:u.range};return j(0).then(function(){if(0<D.length)throw new lr("Error modifying one or more objects",D,k,M);return F.length})})})},nt.prototype.delete=function(){var r=this._ctx,o=r.range;return wt(r)&&(r.isPrimKey||o.type===3)?this._write(function(u){var f=r.table.core.schema.primaryKey,d=o;return r.table.core.count({trans:u,query:{index:f,range:d}}).then(function(g){return r.table.core.mutate({trans:u,type:"deleteRange",range:d}).then(function(x){var y=x.failures;if(x.lastResult,x.results,x=x.numFailures,x)throw new lr("Could not delete some values",Object.keys(y).map(function(C){return y[C]}),g-x);return g-x})})}):this.modify(vs)},nt);function nt(){}var vs=function(r,o){return o.value=null};function Un(r,o){return r<o?-1:r===o?0:1}function Oe(r,o){return o<r?-1:r===o?0:1}function Ke(r,o,u){return r=r instanceof ho?new r.Collection(r):r,r._ctx.error=new(u||TypeError)(o),r}function ui(r){return new r.Collection(r,function(){return Es("")}).limit(0)}function fo(r,o,u,f){var d,g,x,y,C,S,_,b=u.length;if(!u.every(function(k){return typeof k=="string"}))return Ke(r,Rr);function N(k){d=k==="next"?function(F){return F.toUpperCase()}:function(F){return F.toLowerCase()},g=k==="next"?function(F){return F.toLowerCase()}:function(F){return F.toUpperCase()},x=k==="next"?Un:Oe;var M=u.map(function(F){return{lower:g(F),upper:d(F)}}).sort(function(F,j){return x(F.lower,j.lower)});y=M.map(function(F){return F.upper}),C=M.map(function(F){return F.lower}),_=(S=k)==="next"?"":f}N("next"),r=new r.Collection(r,function(){return gr(y[0],C[b-1]+f)}),r._ondirectionchange=function(k){N(k)};var D=0;return r._addAlgorithm(function(k,M,F){var j=k.key;if(typeof j!="string")return!1;var X=g(j);if(o(X,C,D))return!0;for(var Y=null,Z=D;Z<b;++Z){var J=function(le,ae,fe,he,de,Be){for(var je=Math.min(le.length,he.length),He=-1,ze=0;ze<je;++ze){var Br=ae[ze];if(Br!==he[ze])return de(le[ze],fe[ze])<0?le.substr(0,ze)+fe[ze]+fe.substr(ze+1):de(le[ze],he[ze])<0?le.substr(0,ze)+he[ze]+fe.substr(ze+1):0<=He?le.substr(0,He)+ae[He]+fe.substr(He+1):null;de(le[ze],Br)<0&&(He=ze)}return je<he.length&&Be==="next"?le+fe.substr(le.length):je<le.length&&Be==="prev"?le.substr(0,fe.length):He<0?null:le.substr(0,He)+he[He]+fe.substr(He+1)}(j,X,y[Z],C[Z],x,S);J===null&&Y===null?D=Z+1:(Y===null||0<x(Y,J))&&(Y=J)}return M(Y!==null?function(){k.continue(Y+_)}:F),!1}),r}function gr(r,o,u,f){return{type:2,lower:r,upper:o,lowerOpen:u,upperOpen:f}}function Es(r){return{type:1,lower:r,upper:r}}var ho=(Object.defineProperty(qt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),qt.prototype.between=function(r,o,u,f){u=u!==!1,f=f===!0;try{return 0<this._cmp(r,o)||this._cmp(r,o)===0&&(u||f)&&(!u||!f)?ui(this):new this.Collection(this,function(){return gr(r,o,!u,!f)})}catch{return Ke(this,dr)}},qt.prototype.equals=function(r){return r==null?Ke(this,dr):new this.Collection(this,function(){return Es(r)})},qt.prototype.above=function(r){return r==null?Ke(this,dr):new this.Collection(this,function(){return gr(r,void 0,!0)})},qt.prototype.aboveOrEqual=function(r){return r==null?Ke(this,dr):new this.Collection(this,function(){return gr(r,void 0,!1)})},qt.prototype.below=function(r){return r==null?Ke(this,dr):new this.Collection(this,function(){return gr(void 0,r,!1,!0)})},qt.prototype.belowOrEqual=function(r){return r==null?Ke(this,dr):new this.Collection(this,function(){return gr(void 0,r)})},qt.prototype.startsWith=function(r){return typeof r!="string"?Ke(this,Rr):this.between(r,r+ot,!0,!0)},qt.prototype.startsWithIgnoreCase=function(r){return r===""?this.startsWith(r):fo(this,function(o,u){return o.indexOf(u[0])===0},[r],ot)},qt.prototype.equalsIgnoreCase=function(r){return fo(this,function(o,u){return o===u[0]},[r],"")},qt.prototype.anyOfIgnoreCase=function(){var r=Ne.apply(Te,arguments);return r.length===0?ui(this):fo(this,function(o,u){return u.indexOf(o)!==-1},r,"")},qt.prototype.startsWithAnyOfIgnoreCase=function(){var r=Ne.apply(Te,arguments);return r.length===0?ui(this):fo(this,function(o,u){return u.some(function(f){return o.indexOf(f)===0})},r,ot)},qt.prototype.anyOf=function(){var r=this,o=Ne.apply(Te,arguments),u=this._cmp;try{o.sort(u)}catch{return Ke(this,dr)}if(o.length===0)return ui(this);var f=new this.Collection(this,function(){return gr(o[0],o[o.length-1])});f._ondirectionchange=function(g){u=g==="next"?r._ascending:r._descending,o.sort(u)};var d=0;return f._addAlgorithm(function(g,x,y){for(var C=g.key;0<u(C,o[d]);)if(++d===o.length)return x(y),!1;return u(C,o[d])===0||(x(function(){g.continue(o[d])}),!1)}),f},qt.prototype.notEqual=function(r){return this.inAnyRange([[-1/0,r],[r,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},qt.prototype.noneOf=function(){var r=Ne.apply(Te,arguments);if(r.length===0)return new this.Collection(this);try{r.sort(this._ascending)}catch{return Ke(this,dr)}var o=r.reduce(function(u,f){return u?u.concat([[u[u.length-1][1],f]]):[[-1/0,f]]},null);return o.push([r[r.length-1],this.db._maxKey]),this.inAnyRange(o,{includeLowers:!1,includeUppers:!1})},qt.prototype.inAnyRange=function(j,o){var u=this,f=this._cmp,d=this._ascending,g=this._descending,x=this._min,y=this._max;if(j.length===0)return ui(this);if(!j.every(function(X){return X[0]!==void 0&&X[1]!==void 0&&d(X[0],X[1])<=0}))return Ke(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ie.InvalidArgument);var C=!o||o.includeLowers!==!1,S=o&&o.includeUppers===!0,_,b=d;function N(X,Y){return b(X[0],Y[0])}try{(_=j.reduce(function(X,Y){for(var Z=0,J=X.length;Z<J;++Z){var le=X[Z];if(f(Y[0],le[1])<0&&0<f(Y[1],le[0])){le[0]=x(le[0],Y[0]),le[1]=y(le[1],Y[1]);break}}return Z===J&&X.push(Y),X},[])).sort(N)}catch{return Ke(this,dr)}var D=0,k=S?function(X){return 0<d(X,_[D][1])}:function(X){return 0<=d(X,_[D][1])},M=C?function(X){return 0<g(X,_[D][0])}:function(X){return 0<=g(X,_[D][0])},F=k,j=new this.Collection(this,function(){return gr(_[0][0],_[_.length-1][1],!C,!S)});return j._ondirectionchange=function(X){b=X==="next"?(F=k,d):(F=M,g),_.sort(N)},j._addAlgorithm(function(X,Y,Z){for(var J,le=X.key;F(le);)if(++D===_.length)return Y(Z),!1;return!k(J=le)&&!M(J)||(u._cmp(le,_[D][1])===0||u._cmp(le,_[D][0])===0||Y(function(){b===d?X.continue(_[D][0]):X.continue(_[D][1])}),!1)}),j},qt.prototype.startsWithAnyOf=function(){var r=Ne.apply(Te,arguments);return r.every(function(o){return typeof o=="string"})?r.length===0?ui(this):this.inAnyRange(r.map(function(o){return[o,o+ot]})):Ke(this,"startsWithAnyOf() only works with strings")},qt);function qt(){}function pt(r){return At(function(o){return kr(o),r(o.target.error),!1})}function kr(r){r.stopPropagation&&r.stopPropagation(),r.preventDefault&&r.preventDefault()}var jn="storagemutated",Re="x-storagemutated-1",qr=Ln(null,jn),Ue=(vt.prototype._lock=function(){return z(!ge.global),++this._reculock,this._reculock!==1||ge.global||(ge.lockOwnerFor=this),this},vt.prototype._unlock=function(){if(z(!ge.global),--this._reculock==0)for(ge.global||(ge.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var r=this._blockedFuncs.shift();try{li(r[1],r[0])}catch{}}return this},vt.prototype._locked=function(){return this._reculock&&ge.lockOwnerFor!==this},vt.prototype.create=function(r){var o=this;if(!this.mode)return this;var u=this.db.idbdb,f=this.db._state.dbOpenError;if(z(!this.idbtrans),!r&&!u)switch(f&&f.name){case"DatabaseClosedError":throw new Ie.DatabaseClosed(f);case"MissingAPIError":throw new Ie.MissingAPI(f.message,f);default:throw new Ie.OpenFailed(f)}if(!this.active)throw new Ie.TransactionInactive;return z(this._completion._state===null),(r=this.idbtrans=r||(this.db.core||u).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=At(function(d){kr(d),o._reject(r.error)}),r.onabort=At(function(d){kr(d),o.active&&o._reject(new Ie.Abort(r.error)),o.active=!1,o.on("abort").fire(d)}),r.oncomplete=At(function(){o.active=!1,o._resolve(),"mutatedParts"in r&&qr.storagemutated.fire(r.mutatedParts)}),this},vt.prototype._promise=function(r,o,u){var f=this;if(r==="readwrite"&&this.mode!=="readwrite")return Xe(new Ie.ReadOnly("Transaction is readonly"));if(!this.active)return Xe(new Ie.TransactionInactive);if(this._locked())return new me(function(g,x){f._blockedFuncs.push([function(){f._promise(r,o,u).then(g,x)},ge])});if(u)return In(function(){var g=new me(function(x,y){f._lock();var C=o(x,y,f);C&&C.then&&C.then(x,y)});return g.finally(function(){return f._unlock()}),g._lib=!0,g});var d=new me(function(g,x){var y=o(g,x,f);y&&y.then&&y.then(g,x)});return d._lib=!0,d},vt.prototype._root=function(){return this.parent?this.parent._root():this},vt.prototype.waitFor=function(r){var o,u=this._root(),f=me.resolve(r);u._waitingFor?u._waitingFor=u._waitingFor.then(function(){return f}):(u._waitingFor=f,u._waitingQueue=[],o=u.idbtrans.objectStore(u.storeNames[0]),function g(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(o.get(-1/0).onsuccess=g)}());var d=u._waitingFor;return new me(function(g,x){f.then(function(y){return u._waitingQueue.push(At(g.bind(null,y)))},function(y){return u._waitingQueue.push(At(x.bind(null,y)))}).finally(function(){u._waitingFor===d&&(u._waitingFor=null)})})},vt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ie.Abort))},vt.prototype.table=function(r){var o=this._memoizedTables||(this._memoizedTables={});if(I(o,r))return o[r];var u=this.schema[r];if(!u)throw new Ie.NotFound("Table "+r+" not part of transaction");return u=new this.db.Table(r,u,this),u.core=this.db.core.table(r),o[r]=u},vt);function vt(){}function Ea(r,o,u,f,d,g,x){return{name:r,keyPath:o,unique:u,multi:f,auto:d,compound:g,src:(u&&!x?"&":"")+(f?"*":"")+(d?"++":"")+po(o)}}function po(r){return typeof r=="string"?r:r?"["+[].join.call(r,"+")+"]":""}function go(r,o,u){return{name:r,primKey:o,indexes:u,mappedClass:null,idxByName:(f=function(d){return[d.name,d]},u.reduce(function(d,g,x){return x=f(g,x),x&&(d[x[0]]=x[1]),d},{}))};var f}var Jn=function(r){try{return r.only([[]]),Jn=function(){return[[]]},[[]]}catch{return Jn=function(){return ot},ot}};function Ca(r){return r==null?function(){}:typeof r=="string"?(o=r).split(".").length===1?function(u){return u[o]}:function(u){return ne(u,o)}:function(u){return ne(u,r)};var o}function Di(r){return[].slice.call(r)}var Cs=0;function Pr(r){return r==null?":id":typeof r=="string"?r:"[".concat(r.join("+"),"]")}function Dl(r,o,C){function f(F){if(F.type===3)return null;if(F.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var D=F.lower,k=F.upper,M=F.lowerOpen,F=F.upperOpen;return D===void 0?k===void 0?null:o.upperBound(k,!!F):k===void 0?o.lowerBound(D,!!M):o.bound(D,k,!!M,!!F)}function d(N){var D,k=N.name;return{name:k,schema:N,mutate:function(M){var F=M.trans,j=M.type,X=M.keys,Y=M.values,Z=M.range;return new Promise(function(J,le){J=At(J);var ae=F.objectStore(k),fe=ae.keyPath==null,he=j==="put"||j==="add";if(!he&&j!=="delete"&&j!=="deleteRange")throw new Error("Invalid operation type: "+j);var de,Be=(X||Y||{length:1}).length;if(X&&Y&&X.length!==Y.length)throw new Error("Given keys array must have same length as given values array.");if(Be===0)return J({numFailures:0,failures:{},results:[],lastResult:void 0});function je(bn){++Br,kr(bn)}var He=[],ze=[],Br=0;if(j==="deleteRange"){if(Z.type===4)return J({numFailures:Br,failures:ze,results:[],lastResult:void 0});Z.type===3?He.push(de=ae.clear()):He.push(de=ae.delete(f(Z)))}else{var fe=he?fe?[Y,X]:[Y,null]:[X,null],We=fe[0],xn=fe[1];if(he)for(var yn=0;yn<Be;++yn)He.push(de=xn&&xn[yn]!==void 0?ae[j](We[yn],xn[yn]):ae[j](We[yn])),de.onerror=je;else for(yn=0;yn<Be;++yn)He.push(de=ae[j](We[yn])),de.onerror=je}function Fl(bn){bn=bn.target.result,He.forEach(function(Ds,vc){return Ds.error!=null&&(ze[vc]=Ds.error)}),J({numFailures:Br,failures:ze,results:j==="delete"?X:He.map(function(Ds){return Ds.result}),lastResult:bn})}de.onerror=function(bn){je(bn),Fl(bn)},de.onsuccess=Fl})},getMany:function(M){var F=M.trans,j=M.keys;return new Promise(function(X,Y){X=At(X);for(var Z,J=F.objectStore(k),le=j.length,ae=new Array(le),fe=0,he=0,de=function(He){He=He.target,ae[He._pos]=He.result,++he===fe&&X(ae)},Be=pt(Y),je=0;je<le;++je)j[je]!=null&&((Z=J.get(j[je]))._pos=je,Z.onsuccess=de,Z.onerror=Be,++fe);fe===0&&X(ae)})},get:function(M){var F=M.trans,j=M.key;return new Promise(function(X,Y){X=At(X);var Z=F.objectStore(k).get(j);Z.onsuccess=function(J){return X(J.target.result)},Z.onerror=pt(Y)})},query:(D=S,function(M){return new Promise(function(F,j){F=At(F);var X,Y,Z,fe=M.trans,J=M.values,le=M.limit,de=M.query,ae=le===1/0?void 0:le,he=de.index,de=de.range,fe=fe.objectStore(k),he=he.isPrimaryKey?fe:fe.index(he.name),de=f(de);if(le===0)return F({result:[]});D?((ae=J?he.getAll(de,ae):he.getAllKeys(de,ae)).onsuccess=function(Be){return F({result:Be.target.result})},ae.onerror=pt(j)):(X=0,Y=!J&&"openKeyCursor"in he?he.openKeyCursor(de):he.openCursor(de),Z=[],Y.onsuccess=function(Be){var je=Y.result;return je?(Z.push(J?je.value:je.primaryKey),++X===le?F({result:Z}):void je.continue()):F({result:Z})},Y.onerror=pt(j))})}),openCursor:function(M){var F=M.trans,j=M.values,X=M.query,Y=M.reverse,Z=M.unique;return new Promise(function(J,le){J=At(J);var he=X.index,ae=X.range,fe=F.objectStore(k),fe=he.isPrimaryKey?fe:fe.index(he.name),he=Y?Z?"prevunique":"prev":Z?"nextunique":"next",de=!j&&"openKeyCursor"in fe?fe.openKeyCursor(f(ae),he):fe.openCursor(f(ae),he);de.onerror=pt(le),de.onsuccess=At(function(Be){var je,He,ze,Br,We=de.result;We?(We.___id=++Cs,We.done=!1,je=We.continue.bind(We),He=(He=We.continuePrimaryKey)&&He.bind(We),ze=We.advance.bind(We),Br=function(){throw new Error("Cursor not stopped")},We.trans=F,We.stop=We.continue=We.continuePrimaryKey=We.advance=function(){throw new Error("Cursor not started")},We.fail=At(le),We.next=function(){var xn=this,yn=1;return this.start(function(){return yn--?xn.continue():xn.stop()}).then(function(){return xn})},We.start=function(xn){function yn(){if(de.result)try{xn()}catch(bn){We.fail(bn)}else We.done=!0,We.start=function(){throw new Error("Cursor behind last entry")},We.stop()}var Fl=new Promise(function(bn,Ds){bn=At(bn),de.onerror=pt(Ds),We.fail=Ds,We.stop=function(vc){We.stop=We.continue=We.continuePrimaryKey=We.advance=Br,bn(vc)}});return de.onsuccess=At(function(bn){de.onsuccess=yn,yn()}),We.continue=je,We.continuePrimaryKey=He,We.advance=ze,yn(),Fl},J(We)):J(null)},le)})},count:function(M){var F=M.query,j=M.trans,X=F.index,Y=F.range;return new Promise(function(Z,J){var le=j.objectStore(k),ae=X.isPrimaryKey?le:le.index(X.name),le=f(Y),ae=le?ae.count(le):ae.count();ae.onsuccess=At(function(fe){return Z(fe.target.result)}),ae.onerror=pt(J)})}}}var g,x,y,_=(x=C,y=Di((g=r).objectStoreNames),{schema:{name:g.name,tables:y.map(function(N){return x.objectStore(N)}).map(function(N){var D=N.keyPath,F=N.autoIncrement,k=v(D),M={},F={name:N.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:D==null,compound:k,keyPath:D,autoIncrement:F,unique:!0,extractKey:Ca(D)},indexes:Di(N.indexNames).map(function(j){return N.index(j)}).map(function(Z){var X=Z.name,Y=Z.unique,J=Z.multiEntry,Z=Z.keyPath,J={name:X,compound:v(Z),keyPath:Z,unique:Y,multiEntry:J,extractKey:Ca(Z)};return M[Pr(Z)]=J}),getIndexByKeyPath:function(j){return M[Pr(j)]}};return M[":id"]=F.primaryKey,D!=null&&(M[Pr(D)]=F.primaryKey),F})},hasGetAll:0<y.length&&"getAll"in x.objectStore(y[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),C=_.schema,S=_.hasGetAll,_=C.tables.map(d),b={};return _.forEach(function(N){return b[N.name]=N}),{stack:"dbcore",transaction:r.transaction.bind(r),table:function(N){if(!b[N])throw new Error("Table '".concat(N,"' not found"));return b[N]},MIN_KEY:-1/0,MAX_KEY:Jn(o),schema:C}}function As(r,o,u,f){var d=u.IDBKeyRange;return u.indexedDB,{dbcore:(f=Dl(o,d,f),r.dbcore.reduce(function(g,x){return x=x.create,c(c({},g),x(g))},f))}}function Qr(r,f){var u=f.db,f=As(r._middlewares,u,r._deps,f);r.core=f.dbcore,r.tables.forEach(function(d){var g=d.name;r.core.schema.tables.some(function(x){return x.name===g})&&(d.core=r.core.table(g),r[g]instanceof r.Table&&(r[g].core=d.core))})}function nn(r,o,u,f){u.forEach(function(d){var g=f[d];o.forEach(function(x){var y=function C(S,_){return se(S,_)||(S=w(S))&&C(S,_)}(x,d);(!y||"value"in y&&y.value===void 0)&&(x===r.Transaction.prototype||x instanceof r.Transaction?K(x,d,{get:function(){return this.table(d)},set:function(C){V(this,d,{value:C,writable:!0,configurable:!0,enumerable:!0})}}):x[d]=new r.Table(d,g))})})}function mo(r,o){o.forEach(function(u){for(var f in u)u[f]instanceof r.Table&&delete u[f]})}function kl(r,o){return r._cfg.version-o._cfg.version}function Pl(r,o,u,f){var d=r._dbSchema;u.objectStoreNames.contains("$meta")&&!d.$meta&&(d.$meta=go("$meta",Ml("")[0],[]),r._storeNames.push("$meta"));var g=r._createTransaction("readwrite",r._storeNames,d);g.create(u),g._completion.catch(f);var x=g._reject.bind(g),y=ge.transless||ge;In(function(){return ge.trans=g,ge.transless=y,o!==0?(Qr(r,u),S=o,((C=g).storeNames.includes("$meta")?C.table("$meta").get("version").then(function(_){return _??S}):me.resolve(S)).then(function(_){return N=_,D=g,k=u,M=[],_=(b=r)._versions,F=b._dbSchema=ci(0,b.idbdb,k),(_=_.filter(function(j){return j._cfg.version>=N})).length!==0?(_.forEach(function(j){M.push(function(){var X=F,Y=j._cfg.dbschema;$n(b,X,k),$n(b,Y,k),F=b._dbSchema=Y;var Z=Aa(X,Y);Z.add.forEach(function(he){Sa(k,he[0],he[1].primKey,he[1].indexes)}),Z.change.forEach(function(he){if(he.recreate)throw new Ie.Upgrade("Not yet support for changing primary key");var de=k.objectStore(he.name);he.add.forEach(function(Be){return Ss(de,Be)}),he.change.forEach(function(Be){de.deleteIndex(Be.name),Ss(de,Be)}),he.del.forEach(function(Be){return de.deleteIndex(Be)})});var J=j._cfg.contentUpgrade;if(J&&j._cfg.version>N){Qr(b,k),D._memoizedTables={};var le=ee(Y);Z.del.forEach(function(he){le[he]=X[he]}),mo(b,[b.Transaction.prototype]),nn(b,[b.Transaction.prototype],m(le),le),D.schema=le;var ae,fe=xt(J);return fe&&Kr(),Z=me.follow(function(){var he;(ae=J(D))&&fe&&(he=Mt.bind(null,null),ae.then(he,he))}),ae&&typeof ae.then=="function"?me.resolve(ae):Z.then(function(){return ae})}}),M.push(function(X){var Y,Z,J=j._cfg.dbschema;Y=J,Z=X,[].slice.call(Z.db.objectStoreNames).forEach(function(le){return Y[le]==null&&Z.db.deleteObjectStore(le)}),mo(b,[b.Transaction.prototype]),nn(b,[b.Transaction.prototype],b._storeNames,b._dbSchema),D.schema=b._dbSchema}),M.push(function(X){b.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(b.idbdb.version/10)===j._cfg.version?(b.idbdb.deleteObjectStore("$meta"),delete b._dbSchema.$meta,b._storeNames=b._storeNames.filter(function(Y){return Y!=="$meta"})):X.objectStore("$meta").put(j._cfg.version,"version"))})}),function j(){return M.length?me.resolve(M.shift()(D.idbtrans)).then(j):me.resolve()}().then(function(){ut(F,k)})):me.resolve();var b,N,D,k,M,F}).catch(x)):(m(d).forEach(function(_){Sa(u,_,d[_].primKey,d[_].indexes)}),Qr(r,u),void me.follow(function(){return r.on.populate.fire(g)}).catch(x));var C,S})}function mc(r,o){ut(r._dbSchema,o),o.db.version%10!=0||o.objectStoreNames.contains("$meta")||o.db.createObjectStore("$meta").add(Math.ceil(o.db.version/10-1),"version");var u=ci(0,r.idbdb,o);$n(r,r._dbSchema,o);for(var f=0,d=Aa(u,r._dbSchema).change;f<d.length;f++){var g=function(x){if(x.change.length||x.recreate)return console.warn("Unable to patch indexes of table ".concat(x.name," because it has changes on the type of index or primary key.")),{value:void 0};var y=o.objectStore(x.name);x.add.forEach(function(C){xe&&console.debug("Dexie upgrade patch: Creating missing index ".concat(x.name,".").concat(C.src)),Ss(y,C)})}(d[f]);if(typeof g=="object")return g.value}}function Aa(r,o){var u,f={del:[],add:[],change:[]};for(u in r)o[u]||f.del.push(u);for(u in o){var d=r[u],g=o[u];if(d){var x={name:u,def:g,recreate:!1,del:[],add:[],change:[]};if(""+(d.primKey.keyPath||"")!=""+(g.primKey.keyPath||"")||d.primKey.auto!==g.primKey.auto)x.recreate=!0,f.change.push(x);else{var y=d.idxByName,C=g.idxByName,S=void 0;for(S in y)C[S]||x.del.push(S);for(S in C){var _=y[S],b=C[S];_?_.src!==b.src&&x.change.push(b):x.add.push(b)}(0<x.del.length||0<x.add.length||0<x.change.length)&&f.change.push(x)}}else f.add.push([u,g])}return f}function Sa(r,o,u,f){var d=r.db.createObjectStore(o,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});return f.forEach(function(g){return Ss(d,g)}),d}function ut(r,o){m(r).forEach(function(u){o.db.objectStoreNames.contains(u)||(xe&&console.debug("Dexie: Creating missing table",u),Sa(o,u,r[u].primKey,r[u].indexes))})}function Ss(r,o){r.createIndex(o.name,o.keyPath,{unique:o.unique,multiEntry:o.multi})}function ci(r,o,u){var f={};return T(o.objectStoreNames,0).forEach(function(d){for(var g=u.objectStore(d),x=Ea(po(S=g.keyPath),S||"",!0,!1,!!g.autoIncrement,S&&typeof S!="string",!0),y=[],C=0;C<g.indexNames.length;++C){var _=g.index(g.indexNames[C]),S=_.keyPath,_=Ea(_.name,S,!!_.unique,!!_.multiEntry,!1,S&&typeof S!="string",!1);y.push(_)}f[d]=go(d,x,y)}),f}function $n(r,o,u){for(var f=u.db.objectStoreNames,d=0;d<f.length;++d){var g=f[d],x=u.objectStore(g);r._hasGetAll="getAll"in x;for(var y=0;y<x.indexNames.length;++y){var C=x.indexNames[y],S=x.index(C).keyPath,_=typeof S=="string"?S:"["+T(S).join("+")+"]";!o[g]||(S=o[g].idxByName[_])&&(S.name=C,delete o[g].idxByName[_],o[g].idxByName[C]=S)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&p.WorkerGlobalScope&&p instanceof p.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function Ml(r){return r.split(",").map(function(o,u){var f=(o=o.trim()).replace(/([&*]|\+\+)/g,""),d=/^\[/.test(f)?f.match(/^\[(.*)\]$/)[1].split("+"):f;return Ea(f,d||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),v(d),u===0)})}var q=(Le.prototype._parseStoresSpec=function(r,o){m(r).forEach(function(u){if(r[u]!==null){var f=Ml(r[u]),d=f.shift();if(d.unique=!0,d.multi)throw new Ie.Schema("Primary key cannot be multi-valued");f.forEach(function(g){if(g.auto)throw new Ie.Schema("Only primary key can be marked as autoIncrement (++)");if(!g.keyPath)throw new Ie.Schema("Index must have a name and cannot be an empty string")}),o[u]=go(u,d,f)}})},Le.prototype.stores=function(u){var o=this.db;this._cfg.storesSource=this._cfg.storesSource?E(this._cfg.storesSource,u):u;var u=o._versions,f={},d={};return u.forEach(function(g){E(f,g._cfg.storesSource),d=g._cfg.dbschema={},g._parseStoresSpec(f,d)}),o._dbSchema=d,mo(o,[o._allTables,o,o.Transaction.prototype]),nn(o,[o._allTables,o,o.Transaction.prototype,this._cfg.tables],m(d),d),o._storeNames=m(d),this},Le.prototype.upgrade=function(r){return this._cfg.contentUpgrade=Ni(this._cfg.contentUpgrade||rt,r),this},Le);function Le(){}function Xt(r,o){var u=r._dbNamesDB;return u||(u=r._dbNamesDB=new vr(re,{addons:[],indexedDB:r,IDBKeyRange:o})).version(1).stores({dbnames:"name"}),u.table("dbnames")}function ki(r){return r&&typeof r.databases=="function"}function xo(r){return In(function(){return ge.letThrough=!0,r()})}function Ia(r){return!("from"in r)}var ln=function(r,o){if(!this){var u=new ln;return r&&"d"in r&&E(u,r),u}E(this,arguments.length?{d:1,from:r,to:1<arguments.length?o:r}:{d:0})};function Is(r,o,u){var f=we(o,u);if(!isNaN(f)){if(0<f)throw RangeError();if(Ia(r))return E(r,{from:o,to:u,d:1});var d=r.l,f=r.r;if(we(u,r.from)<0)return d?Is(d,o,u):r.l={from:o,to:u,d:1,l:null,r:null},bt(r);if(0<we(o,r.to))return f?Is(f,o,u):r.r={from:o,to:u,d:1,l:null,r:null},bt(r);we(o,r.from)<0&&(r.from=o,r.l=null,r.d=f?f.d+1:1),0<we(u,r.to)&&(r.to=u,r.r=null,r.d=r.l?r.l.d+1:1),u=!r.r,d&&!r.l&&fi(r,d),f&&u&&fi(r,f)}}function fi(r,o){Ia(o)||function u(f,C){var g=C.from,x=C.to,y=C.l,C=C.r;Is(f,g,x),y&&u(f,y),C&&u(f,C)}(r,o)}function Rt(r,o){var u=_s(o),f=u.next();if(f.done)return!1;for(var d=f.value,g=_s(r),x=g.next(d.from),y=x.value;!f.done&&!x.done;){if(we(y.from,d.to)<=0&&0<=we(y.to,d.from))return!0;we(d.from,y.from)<0?d=(f=u.next(y.from)).value:y=(x=g.next(d.from)).value}return!1}function _s(r){var o=Ia(r)?null:{s:0,n:r};return{next:function(u){for(var f=0<arguments.length;o;)switch(o.s){case 0:if(o.s=1,f)for(;o.n.l&&we(u,o.n.from)<0;)o={up:o,n:o.n.l,s:1};else for(;o.n.l;)o={up:o,n:o.n.l,s:1};case 1:if(o.s=2,!f||we(u,o.n.to)<=0)return{value:o.n,done:!1};case 2:if(o.n.r){o.s=3,o={up:o,n:o.n.r,s:0};continue}case 3:o=o.up}return{done:!0}}}}function bt(r){var o,u,f=(((o=r.r)===null||o===void 0?void 0:o.d)||0)-(((u=r.l)===null||u===void 0?void 0:u.d)||0),d=1<f?"r":f<-1?"l":"";d&&(o=d=="r"?"l":"r",u=c({},r),f=r[d],r.from=f.from,r.to=f.to,r[d]=f[d],u[d]=f[o],(r[o]=u).d=bs(u)),r.d=bs(r)}function bs(u){var o=u.r,u=u.l;return(o?u?Math.max(o.d,u.d):o.d:u?u.d:0)+1}function mr(r,o){return m(o).forEach(function(u){r[u]?fi(r[u],o[u]):r[u]=function f(d){var g,x,y={};for(g in d)I(d,g)&&(x=d[g],y[g]=!x||typeof x!="object"||lt.has(x.constructor)?x:f(x));return y}(o[u])}),r}function ct(r,o){return r.all||o.all||Object.keys(r).some(function(u){return o[u]&&Rt(o[u],r[u])})}B(ln.prototype,((mn={add:function(r){return fi(this,r),this},addKey:function(r){return Is(this,r,r),this},addKeys:function(r){var o=this;return r.forEach(function(u){return Is(o,u,u)}),this}})[Et]=function(){return _s(this)},mn));var _e={},_a={},gt=!1;function xr(r){mr(_a,r),gt||(gt=!0,setTimeout(function(){gt=!1,Zr(_a,!(_a={}))},0))}function Zr(r,o){o===void 0&&(o=!1);var u=new Set;if(r.all)for(var f=0,d=Object.values(_e);f<d.length;f++)Bl(x=d[f],r,u,o);else for(var g in r){var x,y=/^idb\:\/\/(.*)\/(.*)\//.exec(g);y&&(g=y[1],y=y[2],(x=_e["idb://".concat(g,"/").concat(y)])&&Bl(x,r,u,o))}u.forEach(function(C){return C()})}function Bl(r,o,u,f){for(var d=[],g=0,x=Object.entries(r.queries.query);g<x.length;g++){for(var y=x[g],C=y[0],S=[],_=0,b=y[1];_<b.length;_++){var N=b[_];ct(o,N.obsSet)?N.subscribers.forEach(function(F){return u.add(F)}):f&&S.push(N)}f&&d.push([C,S])}if(f)for(var D=0,k=d;D<k.length;D++){var M=k[D],C=M[0],S=M[1];r.queries.query[C]=S}}function yr(r){var o=r._state,u=r._deps.indexedDB;if(o.isBeingOpened||r.idbdb)return o.dbReadyPromise.then(function(){return o.dbOpenError?Xe(o.dbOpenError):r});o.isBeingOpened=!0,o.dbOpenError=null,o.openComplete=!1;var f=o.openCanceller,d=Math.round(10*r.verno),g=!1;function x(){if(o.openCanceller!==f)throw new Ie.DatabaseClosed("db.open() was cancelled")}function y(){return new me(function(N,D){if(x(),!u)throw new Ie.MissingAPI;var k=r.name,M=o.autoSchema||!d?u.open(k):u.open(k,d);if(!M)throw new Ie.MissingAPI;M.onerror=pt(D),M.onblocked=At(r._fireOnBlocked),M.onupgradeneeded=At(function(F){var j;_=M.transaction,o.autoSchema&&!r._options.allowEmptyDB?(M.onerror=kr,_.abort(),M.result.close(),(j=u.deleteDatabase(k)).onsuccess=j.onerror=At(function(){D(new Ie.NoSuchDatabase("Database ".concat(k," doesnt exist")))})):(_.onerror=pt(D),F=F.oldVersion>Math.pow(2,62)?0:F.oldVersion,b=F<1,r.idbdb=M.result,g&&mc(r,_),Pl(r,F/10,_,D))},D),M.onsuccess=At(function(){_=null;var F,j,X,Y,Z,J=r.idbdb=M.result,le=T(J.objectStoreNames);if(0<le.length)try{var ae=J.transaction((Y=le).length===1?Y[0]:Y,"readonly");if(o.autoSchema)j=J,X=ae,(F=r).verno=j.version/10,X=F._dbSchema=ci(0,j,X),F._storeNames=T(j.objectStoreNames,0),nn(F,[F._allTables],m(X),X);else if($n(r,r._dbSchema,ae),((Z=Aa(ci(0,(Z=r).idbdb,ae),Z._dbSchema)).add.length||Z.change.some(function(fe){return fe.add.length||fe.change.length}))&&!g)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),J.close(),d=J.version+1,g=!0,N(y());Qr(r,ae)}catch{}Yr.push(r),J.onversionchange=At(function(fe){o.vcFired=!0,r.on("versionchange").fire(fe)}),J.onclose=At(function(fe){r.on("close").fire(fe)}),b&&(Z=r._deps,ae=k,J=Z.indexedDB,Z=Z.IDBKeyRange,ki(J)||ae===re||Xt(J,Z).put({name:ae}).catch(rt)),N()},D)}).catch(function(N){switch(N==null?void 0:N.name){case"UnknownError":if(0<o.PR1398_maxLoop)return o.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),y();break;case"VersionError":if(0<d)return d=0,y()}return me.reject(N)})}var C,S=o.dbReadyResolve,_=null,b=!1;return me.race([f,(typeof navigator>"u"?me.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(N){function D(){return indexedDB.databases().finally(N)}C=setInterval(D,100),D()}).finally(function(){return clearInterval(C)}):Promise.resolve()).then(y)]).then(function(){return x(),o.onReadyBeingFired=[],me.resolve(xo(function(){return r.on.ready.fire(r.vip)})).then(function N(){if(0<o.onReadyBeingFired.length){var D=o.onReadyBeingFired.reduce(Ni,rt);return o.onReadyBeingFired=[],me.resolve(xo(function(){return D(r.vip)})).then(N)}})}).finally(function(){o.openCanceller===f&&(o.onReadyBeingFired=null,o.isBeingOpened=!1)}).catch(function(N){o.dbOpenError=N;try{_&&_.abort()}catch{}return f===o.openCanceller&&r._close(),Xe(N)}).finally(function(){o.openComplete=!0,S()}).then(function(){var N;return b&&(N={},r.tables.forEach(function(D){D.schema.indexes.forEach(function(k){k.name&&(N["idb://".concat(r.name,"/").concat(D.name,"/").concat(k.name)]=new ln(-1/0,[[[]]]))}),N["idb://".concat(r.name,"/").concat(D.name,"/")]=N["idb://".concat(r.name,"/").concat(D.name,"/:dels")]=new ln(-1/0,[[[]]])}),qr(jn).fire(N),Zr(N,!0)),r})}function Ts(r){function o(g){return r.next(g)}var u=d(o),f=d(function(g){return r.throw(g)});function d(g){return function(C){var y=g(C),C=y.value;return y.done?C:C&&typeof C.then=="function"?C.then(u,f):v(C)?Promise.all(C).then(u,f):u(C)}}return d(o)()}function Ns(r,o,u){for(var f=v(r)?r.slice():[r],d=0;d<u;++d)f.push(o);return f}var ba={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(r){return c(c({},r),{table:function(o){var u=r.table(o),f=u.schema,d={},g=[];function x(b,N,D){var k=Pr(b),M=d[k]=d[k]||[],F=b==null?0:typeof b=="string"?1:b.length,j=0<N,j=c(c({},D),{name:j?"".concat(k,"(virtual-from:").concat(D.name,")"):D.name,lowLevelIndex:D,isVirtual:j,keyTail:N,keyLength:F,extractKey:Ca(b),unique:!j&&D.unique});return M.push(j),j.isPrimaryKey||g.push(j),1<F&&x(F===2?b[0]:b.slice(0,F-1),N+1,D),M.sort(function(X,Y){return X.keyTail-Y.keyTail}),j}o=x(f.primaryKey.keyPath,0,f.primaryKey),d[":id"]=[o];for(var y=0,C=f.indexes;y<C.length;y++){var S=C[y];x(S.keyPath,0,S)}function _(b){var N,D=b.query.index;return D.isVirtual?c(c({},b),{query:{index:D.lowLevelIndex,range:(N=b.query.range,D=D.keyTail,{type:N.type===1?2:N.type,lower:Ns(N.lower,N.lowerOpen?r.MAX_KEY:r.MIN_KEY,D),lowerOpen:!0,upper:Ns(N.upper,N.upperOpen?r.MIN_KEY:r.MAX_KEY,D),upperOpen:!0})}}):b}return c(c({},u),{schema:c(c({},f),{primaryKey:o,indexes:g,getIndexByKeyPath:function(b){return(b=d[Pr(b)])&&b[0]}}),count:function(b){return u.count(_(b))},query:function(b){return u.query(_(b))},openCursor:function(b){var N=b.query.index,D=N.keyTail,k=N.isVirtual,M=N.keyLength;return k?u.openCursor(_(b)).then(function(j){return j&&F(j)}):u.openCursor(b);function F(j){return Object.create(j,{continue:{value:function(X){X!=null?j.continue(Ns(X,b.reverse?r.MAX_KEY:r.MIN_KEY,D)):b.unique?j.continue(j.key.slice(0,M).concat(b.reverse?r.MIN_KEY:r.MAX_KEY,D)):j.continue()}},continuePrimaryKey:{value:function(X,Y){j.continuePrimaryKey(Ns(X,r.MAX_KEY,D),Y)}},primaryKey:{get:function(){return j.primaryKey}},key:{get:function(){var X=j.key;return M===1?X[0]:X.slice(0,M)}},value:{get:function(){return j.value}}})}}})}})}};function yo(r,o,u,f){return u=u||{},f=f||"",m(r).forEach(function(d){var g,x,y;I(o,d)?(g=r[d],x=o[d],typeof g=="object"&&typeof x=="object"&&g&&x?(y=$(g))!==$(x)?u[f+d]=o[d]:y==="Object"?yo(g,x,u,f+d+"."):g!==x&&(u[f+d]=o[d]):g!==x&&(u[f+d]=o[d])):u[f+d]=void 0}),m(o).forEach(function(d){I(r,d)||(u[f+d]=o[d])}),u}function wo(r,o){return o.type==="delete"?o.keys:o.keys||o.values.map(r.extractKey)}var xc={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(r){return c(c({},r),{table:function(o){var u=r.table(o),f=u.schema.primaryKey;return c(c({},u),{mutate:function(d){var g=ge.trans,x=g.table(o).hook,y=x.deleting,C=x.creating,S=x.updating;switch(d.type){case"add":if(C.fire===rt)break;return g._promise("readwrite",function(){return _(d)},!0);case"put":if(C.fire===rt&&S.fire===rt)break;return g._promise("readwrite",function(){return _(d)},!0);case"delete":if(y.fire===rt)break;return g._promise("readwrite",function(){return _(d)},!0);case"deleteRange":if(y.fire===rt)break;return g._promise("readwrite",function(){return function b(N,D,k){return u.query({trans:N,values:!1,query:{index:f,range:D},limit:k}).then(function(M){var F=M.result;return _({type:"delete",keys:F,trans:N}).then(function(j){return 0<j.numFailures?Promise.reject(j.failures[0]):F.length<k?{failures:[],numFailures:0,lastResult:void 0}:b(N,c(c({},D),{lower:F[F.length-1],lowerOpen:!0}),k)})})}(d.trans,d.range,1e4)},!0)}return u.mutate(d);function _(b){var N,D,k,M=ge.trans,F=b.keys||wo(f,b);if(!F)throw new Error("Keys missing");return(b=b.type==="add"||b.type==="put"?c(c({},b),{keys:F}):c({},b)).type!=="delete"&&(b.values=h([],b.values)),b.keys&&(b.keys=h([],b.keys)),N=u,k=F,((D=b).type==="add"?Promise.resolve([]):N.getMany({trans:D.trans,keys:k,cache:"immutable"})).then(function(j){var X=F.map(function(Y,Z){var J,le,ae,fe=j[Z],he={onerror:null,onsuccess:null};return b.type==="delete"?y.fire.call(he,Y,fe,M):b.type==="add"||fe===void 0?(J=C.fire.call(he,Y,b.values[Z],M),Y==null&&J!=null&&(b.keys[Z]=Y=J,f.outbound||W(b.values[Z],f.keyPath,Y))):(J=yo(fe,b.values[Z]),(le=S.fire.call(he,J,Y,fe,M))&&(ae=b.values[Z],Object.keys(le).forEach(function(de){I(ae,de)?ae[de]=le[de]:W(ae,de,le[de])}))),he});return u.mutate(b).then(function(Y){for(var Z=Y.failures,J=Y.results,le=Y.numFailures,Y=Y.lastResult,ae=0;ae<F.length;++ae){var fe=(J||F)[ae],he=X[ae];fe==null?he.onerror&&he.onerror(Z[ae]):he.onsuccess&&he.onsuccess(b.type==="put"&&j[ae]?b.values[ae]:fe)}return{failures:Z,results:J,numFailures:le,lastResult:Y}}).catch(function(Y){return X.forEach(function(Z){return Z.onerror&&Z.onerror(Y)}),Promise.reject(Y)})})}}})}})}};function hi(r,o,u){try{if(!o||o.keys.length<r.length)return null;for(var f=[],d=0,g=0;d<o.keys.length&&g<r.length;++d)we(o.keys[d],r[g])===0&&(f.push(u?Fe(o.values[d]):o.values[d]),++g);return f.length===r.length?f:null}catch{return null}}var Ta={stack:"dbcore",level:-1,create:function(r){return{table:function(o){var u=r.table(o);return c(c({},u),{getMany:function(f){if(!f.cache)return u.getMany(f);var d=hi(f.keys,f.trans._cache,f.cache==="clone");return d?me.resolve(d):u.getMany(f).then(function(g){return f.trans._cache={keys:f.keys,values:f.cache==="clone"?Fe(g):g},g})},mutate:function(f){return f.type!=="add"&&(f.trans._cache=null),u.mutate(f)}})}}}};function Ll(r,o){return r.trans.mode==="readonly"&&!!r.subscr&&!r.trans.explicit&&r.trans.db._options.cache!=="disabled"&&!o.schema.primaryKey.outbound}function Pi(r,o){switch(r){case"query":return o.values&&!o.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var yc={stack:"dbcore",level:0,name:"Observability",create:function(r){var o=r.schema.name,u=new ln(r.MIN_KEY,r.MAX_KEY);return c(c({},r),{transaction:function(f,d,g){if(ge.subscr&&d!=="readonly")throw new Ie.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ge.querier));return r.transaction(f,d,g)},table:function(f){var d=r.table(f),g=d.schema,x=g.primaryKey,b=g.indexes,y=x.extractKey,C=x.outbound,S=x.autoIncrement&&b.filter(function(D){return D.compound&&D.keyPath.includes(x.keyPath)}),_=c(c({},d),{mutate:function(D){function k(de){return de="idb://".concat(o,"/").concat(f,"/").concat(de),Y[de]||(Y[de]=new ln)}var M,F,j,X=D.trans,Y=D.mutatedParts||(D.mutatedParts={}),Z=k(""),J=k(":dels"),le=D.type,he=D.type==="deleteRange"?[D.range]:D.type==="delete"?[D.keys]:D.values.length<50?[wo(x,D).filter(function(de){return de}),D.values]:[],ae=he[0],fe=he[1],he=D.trans._cache;return v(ae)?(Z.addKeys(ae),(he=le==="delete"||ae.length===fe.length?hi(ae,he):null)||J.addKeys(ae),(he||fe)&&(M=k,F=he,j=fe,g.indexes.forEach(function(de){var Be=M(de.name||"");function je(ze){return ze!=null?de.extractKey(ze):null}function He(ze){return de.multiEntry&&v(ze)?ze.forEach(function(Br){return Be.addKey(Br)}):Be.addKey(ze)}(F||j).forEach(function(ze,xn){var We=F&&je(F[xn]),xn=j&&je(j[xn]);we(We,xn)!==0&&(We!=null&&He(We),xn!=null&&He(xn))})}))):ae?(fe={from:ae.lower,to:ae.upper},J.add(fe),Z.add(fe)):(Z.add(u),J.add(u),g.indexes.forEach(function(de){return k(de.name).add(u)})),d.mutate(D).then(function(de){return!ae||D.type!=="add"&&D.type!=="put"||(Z.addKeys(de.results),S&&S.forEach(function(Be){var je=D.values.map(function(ze){return Be.extractKey(ze)}),He=Be.keyPath.findIndex(function(ze){return ze===x.keyPath});de.results.forEach(function(ze){return je[He]=ze}),k(Be.name).addKeys(je)})),X.mutatedParts=mr(X.mutatedParts||{},Y),de})}}),b=function(k){var M=k.query,k=M.index,M=M.range;return[k,new ln((k=M.lower)!==null&&k!==void 0?k:r.MIN_KEY,(M=M.upper)!==null&&M!==void 0?M:r.MAX_KEY)]},N={get:function(D){return[x,new ln(D.key)]},getMany:function(D){return[x,new ln().addKeys(D.keys)]},count:b,query:b,openCursor:b};return m(N).forEach(function(D){_[D]=function(k){var M=ge.subscr,F=!!M,j=Ll(ge,d)&&Pi(D,k)?k.obsSet={}:M;if(F){var X=function(fe){return fe="idb://".concat(o,"/").concat(f,"/").concat(fe),j[fe]||(j[fe]=new ln)},Y=X(""),Z=X(":dels"),M=N[D](k),F=M[0],M=M[1];if((D==="query"&&F.isPrimaryKey&&!k.values?Z:X(F.name||"")).add(M),!F.isPrimaryKey){if(D!=="count"){var J=D==="query"&&C&&k.values&&d.query(c(c({},k),{values:!1}));return d[D].apply(this,arguments).then(function(fe){if(D==="query"){if(C&&k.values)return J.then(function(je){return je=je.result,Y.addKeys(je),fe});var he=k.values?fe.result.map(y):fe.result;(k.values?Y:Z).addKeys(he)}else if(D==="openCursor"){var de=fe,Be=k.values;return de&&Object.create(de,{key:{get:function(){return Z.addKey(de.primaryKey),de.key}},primaryKey:{get:function(){var je=de.primaryKey;return Z.addKey(je),je}},value:{get:function(){return Be&&Y.addKey(de.primaryKey),de.value}}})}return fe})}Z.add(u)}}return d[D].apply(this,arguments)}}),_}})}};function Mr(r,o,u){if(u.numFailures===0)return o;if(o.type==="deleteRange")return null;var f=o.keys?o.keys.length:"values"in o&&o.values?o.values.length:1;return u.numFailures===f?null:(o=c({},o),v(o.keys)&&(o.keys=o.keys.filter(function(d,g){return!(g in u.failures)})),"values"in o&&v(o.values)&&(o.values=o.values.filter(function(d,g){return!(g in u.failures)})),o)}function Mi(r,o){return u=r,((f=o).lower===void 0||(f.lowerOpen?0<we(u,f.lower):0<=we(u,f.lower)))&&(r=r,(o=o).upper===void 0||(o.upperOpen?we(r,o.upper)<0:we(r,o.upper)<=0));var u,f}function _n(r,o,N,f,d,g){if(!N||N.length===0)return r;var x=o.query.index,y=x.multiEntry,C=o.query.range,S=f.schema.primaryKey.extractKey,_=x.extractKey,b=(x.lowLevelIndex||x).extractKey,N=N.reduce(function(D,k){var M=D,F=k.type==="add"||k.type==="put"?k.values.filter(function(Z){return Z=_(Z),y&&v(Z)?Z.some(function(J){return Mi(J,C)}):Mi(Z,C)}).map(function(Z){return Z=Fe(Z),g&&Object.freeze(Z),Z}):[];switch(k.type){case"add":M=D.concat(o.values?F:F.map(function(J){return S(J)}));break;case"put":var j=new ln().addKeys(k.values.map(function(J){return S(J)})),M=D.filter(function(J){return J=o.values?S(J):J,!Rt(new ln(J),j)}).concat(o.values?F:F.map(function(J){return S(J)}));break;case"delete":var X=new ln().addKeys(k.keys);M=D.filter(function(J){return J=o.values?S(J):J,!Rt(new ln(J),X)});break;case"deleteRange":var Y=k.range;M=D.filter(function(J){return!Mi(S(J),Y)})}return M},r);return N===r?r:(N.sort(function(D,k){return we(b(D),b(k))||we(S(D),S(k))}),o.limit&&o.limit<1/0&&(N.length>o.limit?N.length=o.limit:r.length===o.limit&&N.length<o.limit&&(d.dirty=!0)),g?Object.freeze(N):N)}function Na(r,o){return we(r.lower,o.lower)===0&&we(r.upper,o.upper)===0&&!!r.lowerOpen==!!o.lowerOpen&&!!r.upperOpen==!!o.upperOpen}function wr(r,o){return function(u,f,d,g){if(u===void 0)return f!==void 0?-1:0;if(f===void 0)return 1;if((f=we(u,f))===0){if(d&&g)return 0;if(d)return 1;if(g)return-1}return f}(r.lower,o.lower,r.lowerOpen,o.lowerOpen)<=0&&0<=function(u,f,d,g){if(u===void 0)return f!==void 0?1:0;if(f===void 0)return-1;if((f=we(u,f))===0){if(d&&g)return 0;if(d)return-1;if(g)return 1}return f}(r.upper,o.upper,r.upperOpen,o.upperOpen)}function wc(r,o,u,f){r.subscribers.add(u),f.addEventListener("abort",function(){var d,g;r.subscribers.delete(u),r.subscribers.size===0&&(d=r,g=o,setTimeout(function(){d.subscribers.size===0&&pe(g,d)},3e3))})}var Oa={stack:"dbcore",level:0,name:"Cache",create:function(r){var o=r.schema.name;return c(c({},r),{transaction:function(u,f,d){var g,x,y=r.transaction(u,f,d);return f==="readwrite"&&(x=(g=new AbortController).signal,d=function(C){return function(){if(g.abort(),f==="readwrite"){for(var S=new Set,_=0,b=u;_<b.length;_++){var N=b[_],D=_e["idb://".concat(o,"/").concat(N)];if(D){var k=r.table(N),M=D.optimisticOps.filter(function(Be){return Be.trans===y});if(y._explicit&&C&&y.mutatedParts)for(var F=0,j=Object.values(D.queries.query);F<j.length;F++)for(var X=0,Y=(le=j[F]).slice();X<Y.length;X++)ct((ae=Y[X]).obsSet,y.mutatedParts)&&(pe(le,ae),ae.subscribers.forEach(function(Be){return S.add(Be)}));else if(0<M.length){D.optimisticOps=D.optimisticOps.filter(function(Be){return Be.trans!==y});for(var Z=0,J=Object.values(D.queries.query);Z<J.length;Z++)for(var le,ae,fe,he=0,de=(le=J[Z]).slice();he<de.length;he++)(ae=de[he]).res!=null&&y.mutatedParts&&(C&&!ae.dirty?(fe=Object.isFrozen(ae.res),fe=_n(ae.res,ae.req,M,k,ae,fe),ae.dirty?(pe(le,ae),ae.subscribers.forEach(function(Be){return S.add(Be)})):fe!==ae.res&&(ae.res=fe,ae.promise=me.resolve({result:fe}))):(ae.dirty&&pe(le,ae),ae.subscribers.forEach(function(Be){return S.add(Be)})))}}}S.forEach(function(Be){return Be()})}}},y.addEventListener("abort",d(!1),{signal:x}),y.addEventListener("error",d(!1),{signal:x}),y.addEventListener("complete",d(!0),{signal:x})),y},table:function(u){var f=r.table(u),d=f.schema.primaryKey;return c(c({},f),{mutate:function(g){var x=ge.trans;if(d.outbound||x.db._options.cache==="disabled"||x.explicit)return f.mutate(g);var y=_e["idb://".concat(o,"/").concat(u)];return y?(x=f.mutate(g),g.type!=="add"&&g.type!=="put"||!(50<=g.values.length||wo(d,g).some(function(C){return C==null}))?(y.optimisticOps.push(g),g.mutatedParts&&xr(g.mutatedParts),x.then(function(C){0<C.numFailures&&(pe(y.optimisticOps,g),(C=Mr(0,g,C))&&y.optimisticOps.push(C),g.mutatedParts&&xr(g.mutatedParts))}),x.catch(function(){pe(y.optimisticOps,g),g.mutatedParts&&xr(g.mutatedParts)})):x.then(function(C){var S=Mr(0,c(c({},g),{values:g.values.map(function(D,b){var N,D=(N=d.keyPath)!==null&&N!==void 0&&N.includes(".")?Fe(D):c({},D);return W(D,d.keyPath,C.results[b]),D})}),C);y.optimisticOps.push(S),queueMicrotask(function(){return g.mutatedParts&&xr(g.mutatedParts)})}),x):f.mutate(g)},query:function(g){if(!Ll(ge,f)||!Pi("query",g))return f.query(g);var x=((S=ge.trans)===null||S===void 0?void 0:S.db._options.cache)==="immutable",b=ge,y=b.requery,C=b.signal,S=function(k,M,F,j){var X=_e["idb://".concat(k,"/").concat(M)];if(!X)return[];if(!(M=X.queries[F]))return[null,!1,X,null];var Y=M[(j.query?j.query.index.name:null)||""];if(!Y)return[null,!1,X,null];switch(F){case"query":var Z=Y.find(function(J){return J.req.limit===j.limit&&J.req.values===j.values&&Na(J.req.query.range,j.query.range)});return Z?[Z,!0,X,Y]:[Y.find(function(J){return("limit"in J.req?J.req.limit:1/0)>=j.limit&&(!j.values||J.req.values)&&wr(J.req.query.range,j.query.range)}),!1,X,Y];case"count":return Z=Y.find(function(J){return Na(J.req.query.range,j.query.range)}),[Z,!!Z,X,Y]}}(o,u,"query",g),_=S[0],b=S[1],N=S[2],D=S[3];return _&&b?_.obsSet=g.obsSet:(b=f.query(g).then(function(k){var M=k.result;if(_&&(_.res=M),x){for(var F=0,j=M.length;F<j;++F)Object.freeze(M[F]);Object.freeze(M)}else k.result=Fe(M);return k}).catch(function(k){return D&&_&&pe(D,_),Promise.reject(k)}),_={obsSet:g.obsSet,promise:b,subscribers:new Set,type:"query",req:g,dirty:!1},D?D.push(_):(D=[_],(N=N||(_e["idb://".concat(o,"/").concat(u)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[g.query.index.name||""]=D)),wc(_,D,y,C),_.promise.then(function(k){return{result:_n(k.result,g,N==null?void 0:N.optimisticOps,f,_,x)}})}})}})}};function vo(r,o){return new Proxy(r,{get:function(u,f,d){return f==="db"?o:Reflect.get(u,f,d)}})}var vr=(at.prototype.version=function(r){if(isNaN(r)||r<.1)throw new Ie.Type("Given version is not a positive number");if(r=Math.round(10*r)/10,this.idbdb||this._state.isBeingOpened)throw new Ie.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,r);var o=this._versions,u=o.filter(function(f){return f._cfg.version===r})[0];return u||(u=new this.Version(r),o.push(u),o.sort(kl),u.stores({}),this._state.autoSchema=!1,u)},at.prototype._whenReady=function(r){var o=this;return this.idbdb&&(this._state.openComplete||ge.letThrough||this._vip)?r():new me(function(u,f){if(o._state.openComplete)return f(new Ie.DatabaseClosed(o._state.dbOpenError));if(!o._state.isBeingOpened){if(!o._state.autoOpen)return void f(new Ie.DatabaseClosed);o.open().catch(rt)}o._state.dbReadyPromise.then(u,f)}).then(r)},at.prototype.use=function(r){var o=r.stack,u=r.create,f=r.level,d=r.name;return d&&this.unuse({stack:o,name:d}),r=this._middlewares[o]||(this._middlewares[o]=[]),r.push({stack:o,create:u,level:f??10,name:d}),r.sort(function(g,x){return g.level-x.level}),this},at.prototype.unuse=function(r){var o=r.stack,u=r.name,f=r.create;return o&&this._middlewares[o]&&(this._middlewares[o]=this._middlewares[o].filter(function(d){return f?d.create!==f:!!u&&d.name!==u})),this},at.prototype.open=function(){var r=this;return li(ce,function(){return yr(r)})},at.prototype._close=function(){var r=this._state,o=Yr.indexOf(this);if(0<=o&&Yr.splice(o,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}r.isBeingOpened||(r.dbReadyPromise=new me(function(u){r.dbReadyResolve=u}),r.openCanceller=new me(function(u,f){r.cancelOpen=f}))},at.prototype.close=function(u){var o=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,u=this._state;o?(u.isBeingOpened&&u.cancelOpen(new Ie.DatabaseClosed),this._close(),u.autoOpen=!1,u.dbOpenError=new Ie.DatabaseClosed):(this._close(),u.autoOpen=this._options.autoOpen||u.isBeingOpened,u.openComplete=!1,u.dbOpenError=null)},at.prototype.delete=function(r){var o=this;r===void 0&&(r={disableAutoOpen:!0});var u=0<arguments.length&&typeof arguments[0]!="object",f=this._state;return new me(function(d,g){function x(){o.close(r);var y=o._deps.indexedDB.deleteDatabase(o.name);y.onsuccess=At(function(){var C,S,_;C=o._deps,S=o.name,_=C.indexedDB,C=C.IDBKeyRange,ki(_)||S===re||Xt(_,C).delete(S).catch(rt),d()}),y.onerror=pt(g),y.onblocked=o._fireOnBlocked}if(u)throw new Ie.InvalidArgument("Invalid closeOptions argument to db.delete()");f.isBeingOpened?f.dbReadyPromise.then(x):x()})},at.prototype.backendDB=function(){return this.idbdb},at.prototype.isOpen=function(){return this.idbdb!==null},at.prototype.hasBeenClosed=function(){var r=this._state.dbOpenError;return r&&r.name==="DatabaseClosed"},at.prototype.hasFailed=function(){return this._state.dbOpenError!==null},at.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(at.prototype,"tables",{get:function(){var r=this;return m(this._allTables).map(function(o){return r._allTables[o]})},enumerable:!1,configurable:!0}),at.prototype.transaction=function(){var r=(function(o,u,f){var d=arguments.length;if(d<2)throw new Ie.InvalidArgument("Too few arguments");for(var g=new Array(d-1);--d;)g[d-1]=arguments[d];return f=g.pop(),[o,De(g),f]}).apply(this,arguments);return this._transaction.apply(this,r)},at.prototype._transaction=function(r,o,u){var f=this,d=ge.trans;d&&d.db===this&&r.indexOf("!")===-1||(d=null);var g,x,y=r.indexOf("?")!==-1;r=r.replace("!","").replace("?","");try{if(x=o.map(function(S){if(S=S instanceof f.Table?S.name:S,typeof S!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return S}),r=="r"||r===wa)g=wa;else{if(r!="rw"&&r!=It)throw new Ie.InvalidArgument("Invalid transaction mode: "+r);g=It}if(d){if(d.mode===wa&&g===It){if(!y)throw new Ie.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");d=null}d&&x.forEach(function(S){if(d&&d.storeNames.indexOf(S)===-1){if(!y)throw new Ie.SubTransaction("Table "+S+" not included in parent transaction.");d=null}}),y&&d&&!d.active&&(d=null)}}catch(S){return d?d._promise(null,function(_,b){b(S)}):Xe(S)}var C=(function S(_,b,N,D,k){return me.resolve().then(function(){var M=ge.transless||ge,F=_._createTransaction(b,N,_._dbSchema,D);if(F.explicit=!0,M={trans:F,transless:M},D)F.idbtrans=D.idbtrans;else try{F.create(),F.idbtrans._explicit=!0,_._state.PR1398_maxLoop=3}catch(Y){return Y.name===ur.InvalidState&&_.isOpen()&&0<--_._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),_.close({disableAutoOpen:!1}),_.open().then(function(){return S(_,b,N,null,k)})):Xe(Y)}var j,X=xt(k);return X&&Kr(),M=me.follow(function(){var Y;(j=k.call(F,F))&&(X?(Y=Mt.bind(null,null),j.then(Y,Y)):typeof j.next=="function"&&typeof j.throw=="function"&&(j=Ts(j)))},M),(j&&typeof j.then=="function"?me.resolve(j).then(function(Y){return F.active?Y:Xe(new Ie.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):M.then(function(){return j})).then(function(Y){return D&&F._resolve(),F._completion.then(function(){return Y})}).catch(function(Y){return F._reject(Y),Xe(Y)})})}).bind(null,this,g,x,d,u);return d?d._promise(g,C,"lock"):ge.trans?li(ge.transless,function(){return f._whenReady(C)}):this._whenReady(C)},at.prototype.table=function(r){if(!I(this._allTables,r))throw new Ie.InvalidTable("Table ".concat(r," does not exist"));return this._allTables[r]},at);function at(r,o){var u=this;this._middlewares={},this.verno=0;var f=at.dependencies;this._options=o=c({addons:at.addons,autoOpen:!0,indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange,cache:"cloned"},o),this._deps={indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange},f=o.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var d,g,x,y,C,S={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:rt,dbReadyPromise:null,cancelOpen:rt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:o.autoOpen};S.dbReadyPromise=new me(function(b){S.dbReadyResolve=b}),S.openCanceller=new me(function(b,N){S.cancelOpen=N}),this._state=S,this.name=r,this.on=Ln(this,"populate","blocked","versionchange","close",{ready:[Ni,rt]}),this.on.ready.subscribe=P(this.on.ready.subscribe,function(b){return function(N,D){at.vip(function(){var k,M=u._state;M.openComplete?(M.dbOpenError||me.resolve().then(N),D&&b(N)):M.onReadyBeingFired?(M.onReadyBeingFired.push(N),D&&b(N)):(b(N),k=u,D||b(function F(){k.on.ready.unsubscribe(N),k.on.ready.unsubscribe(F)}))})}}),this.Collection=(d=this,ws(Fn.prototype,function(j,F){this.db=d;var D=Rl,k=null;if(F)try{D=F()}catch(X){k=X}var M=j._ctx,F=M.table,j=F.hook.reading.fire;this._ctx={table:F,index:M.index,isPrimKey:!M.index||F.schema.primKey.keyPath&&M.index===F.schema.primKey.name,range:D,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:k,or:M.or,valueMapper:j!==Ge?j:null}})),this.Table=(g=this,ws(co.prototype,function(b,N,D){this.db=g,this._tx=D,this.name=b,this.schema=N,this.hook=g._allTables[b]?g._allTables[b].hook:Ln(null,{creating:[ms,rt],reading:[Ti,Ge],updating:[yt,rt],deleting:[$t,rt]})})),this.Transaction=(x=this,ws(Ue.prototype,function(b,N,D,k,M){var F=this;this.db=x,this.mode=b,this.storeNames=N,this.schema=D,this.chromeTransactionDurability=k,this.idbtrans=null,this.on=Ln(this,"complete","error","abort"),this.parent=M||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new me(function(j,X){F._resolve=j,F._reject=X}),this._completion.then(function(){F.active=!1,F.on.complete.fire()},function(j){var X=F.active;return F.active=!1,F.on.error.fire(j),F.parent?F.parent._reject(j):X&&F.idbtrans&&F.idbtrans.abort(),Xe(j)})})),this.Version=(y=this,ws(q.prototype,function(b){this.db=y,this._cfg={version:b,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(C=this,ws(ho.prototype,function(b,N,D){if(this.db=C,this._ctx={table:b,index:N===":id"?null:N,or:D},this._cmp=this._ascending=we,this._descending=function(k,M){return we(M,k)},this._max=function(k,M){return 0<we(k,M)?k:M},this._min=function(k,M){return we(k,M)<0?k:M},this._IDBKeyRange=C._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ie.MissingAPI})),this.on("versionchange",function(b){0<b.newVersion?console.warn("Another connection wants to upgrade database '".concat(u.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(u.name,"'. Closing db now to resume the delete request.")),u.close({disableAutoOpen:!1})}),this.on("blocked",function(b){!b.newVersion||b.newVersion<b.oldVersion?console.warn("Dexie.delete('".concat(u.name,"') was blocked")):console.warn("Upgrade '".concat(u.name,"' blocked by other connection holding version ").concat(b.oldVersion/10))}),this._maxKey=Jn(o.IDBKeyRange),this._createTransaction=function(b,N,D,k){return new u.Transaction(b,N,D,u._options.chromeTransactionDurability,k)},this._fireOnBlocked=function(b){u.on("blocked").fire(b),Yr.filter(function(N){return N.name===u.name&&N!==u&&!N._state.vcFired}).map(function(N){return N.on("versionchange").fire(b)})},this.use(Ta),this.use(Oa),this.use(yc),this.use(ba),this.use(xc);var _=new Proxy(this,{get:function(b,N,D){if(N==="_vip")return!0;if(N==="table")return function(M){return vo(u.table(M),_)};var k=Reflect.get(b,N,D);return k instanceof co?vo(k,_):N==="tables"?k.map(function(M){return vo(M,_)}):N==="_createTransaction"?function(){return vo(k.apply(this,arguments),_)}:k}});this.vip=_,f.forEach(function(b){return b(u)})}var Eo,mn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Os=(Ye.prototype.subscribe=function(r,o,u){return this._subscribe(r&&typeof r!="function"?r:{next:r,error:o,complete:u})},Ye.prototype[mn]=function(){return this},Ye);function Ye(r){this._subscribe=r}try{Eo={indexedDB:p.indexedDB||p.mozIndexedDB||p.webkitIndexedDB||p.msIndexedDB,IDBKeyRange:p.IDBKeyRange||p.webkitIDBKeyRange}}catch{Eo={indexedDB:null,IDBKeyRange:null}}function Rs(r){var o,u=!1,f=new Os(function(d){var g=xt(r),x,y=!1,C={},S={},_={get closed(){return y},unsubscribe:function(){y||(y=!0,x&&x.abort(),b&&qr.storagemutated.unsubscribe(D))}};d.start&&d.start(_);var b=!1,N=function(){return Mn(k)},D=function(M){mr(C,M),ct(S,C)&&N()},k=function(){var M,F,j;!y&&Eo.indexedDB&&(C={},M={},x&&x.abort(),x=new AbortController,j=function(X){var Y=Pt();try{g&&Kr();var Z=In(r,X);return Z=g?Z.finally(Mt):Z}finally{Y&&qn()}}(F={subscr:M,signal:x.signal,requery:N,querier:r,trans:null}),Promise.resolve(j).then(function(X){u=!0,o=X,y||F.signal.aborted||(C={},function(Y){for(var Z in Y)if(I(Y,Z))return;return 1}(S=M)||b||(qr(jn,D),b=!0),Mn(function(){return!y&&d.next&&d.next(X)}))},function(X){u=!1,["DatabaseClosedError","AbortError"].includes(X==null?void 0:X.name)||y||Mn(function(){y||d.error&&d.error(X)})}))};return setTimeout(N,0),_});return f.hasValue=function(){return u},f.getValue=function(){return o},f}var A=vr;function n(r){var o=a;try{a=!0,qr.storagemutated.fire(r),Zr(r,!0)}finally{a=o}}B(A,c(c({},Jt),{delete:function(r){return new A(r,{addons:[]}).delete()},exists:function(r){return new A(r,{addons:[]}).open().then(function(o){return o.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(r){try{return o=A.dependencies,u=o.indexedDB,o=o.IDBKeyRange,(ki(u)?Promise.resolve(u.databases()).then(function(f){return f.map(function(d){return d.name}).filter(function(d){return d!==re})}):Xt(u,o).toCollection().primaryKeys()).then(r)}catch{return Xe(new Ie.MissingAPI)}var o,u},defineClass:function(){return function(r){E(this,r)}},ignoreTransaction:function(r){return ge.trans?li(ge.transless,r):r()},vip:xo,async:function(r){return function(){try{var o=Ts(r.apply(this,arguments));return o&&typeof o.then=="function"?o:me.resolve(o)}catch(u){return Xe(u)}}},spawn:function(r,o,u){try{var f=Ts(r.apply(u,o||[]));return f&&typeof f.then=="function"?f:me.resolve(f)}catch(d){return Xe(d)}},currentTransaction:{get:function(){return ge.trans||null}},waitFor:function(r,o){return o=me.resolve(typeof r=="function"?A.ignoreTransaction(r):r).timeout(o||6e4),ge.trans?ge.trans.waitFor(o):o},Promise:me,debug:{get:function(){return xe},set:function(r){xs(r)}},derive:G,extend:E,props:B,override:P,Events:Ln,on:qr,liveQuery:Rs,extendObservabilitySet:mr,getByKeyPath:ne,setByKeyPath:W,delByKeyPath:function(r,o){typeof o=="string"?W(r,o,void 0):"length"in o&&[].map.call(o,function(u){W(r,u,void 0)})},shallowClone:ee,deepClone:Fe,getObjectDiff:yo,cmp:we,asap:oe,minKey:-1/0,addons:[],connections:Yr,errnames:ur,dependencies:Eo,cache:_e,semVer:"4.0.7",version:"4.0.7".split(".").map(function(r){return parseInt(r)}).reduce(function(r,o,u){return r+o/Math.pow(10,2*u)})})),A.maxKey=Jn(A.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(qr(jn,function(r){a||(r=new CustomEvent(Re,{detail:r}),a=!0,dispatchEvent(r),a=!1)}),addEventListener(Re,function(r){r=r.detail,a||n(r)}));var i,a=!1,l=function(){};return typeof BroadcastChannel<"u"&&((l=function(){(i=new BroadcastChannel(Re)).onmessage=function(r){return r.data&&n(r.data)}})(),typeof i.unref=="function"&&i.unref(),qr(jn,function(r){a||i.postMessage(r)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(r){if(!vr.disableBfCache&&r.persisted){xe&&console.debug("Dexie: handling persisted pagehide"),i!=null&&i.close();for(var o=0,u=Yr;o<u.length;o++)u[o].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(r){!vr.disableBfCache&&r.persisted&&(xe&&console.debug("Dexie: handling persisted pageshow"),l(),n({all:new ln(-1/0,[[]])}))})),me.rejectionMapper=function(r,o){return!r||r instanceof Zt||r instanceof TypeError||r instanceof SyntaxError||!r.name||!bi[r.name]?r:(o=new bi[r.name](o||r.message,r),"stack"in r&&K(o,"stack",{get:function(){return this.inner.stack}}),o)},xs(xe),c(vr,Object.freeze({__proto__:null,Dexie:vr,liveQuery:Rs,Entity:tt,cmp:we,PropModSymbol:R,PropModification:Se,replacePrefix:function(r,o){return new Se({replacePrefix:[r,o]})},add:function(r){return new Se({add:r})},remove:function(r){return new Se({remove:r})},default:vr,RangeSet:ln,mergeRanges:fi,rangesOverlap:Rt}),{default:vr}),vr})})(Zg);var ww=Zg.exports;const lh=od(ww),M0=Symbol.for("Dexie"),Ku=globalThis[M0]||(globalThis[M0]=lh);if(lh.semVer!==Ku.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${lh.semVer} and ${Ku.semVer}`);const{liveQuery:mv,mergeRanges:xv,rangesOverlap:yv,RangeSet:wv,cmp:vv,Entity:Ev,PropModSymbol:Cv,PropModification:Av,replacePrefix:Sv,add:Iv,remove:_v}=Ku;class vw extends Ku{constructor(){super("mealVoucherDB");Ec(this,"employees");Ec(this,"vouchers");this.version(1).stores({employees:"employee_id, name, department, is_active",vouchers:"id, employee_id, date, synced"})}}const cs=new vw;async function Ew(e){await cs.employees.clear(),await cs.employees.bulkPut(e)}async function Cw(e){return cs.employees.get(e)}async function Aw(e){await cs.vouchers.put(e)}async function Sw(){return cs.vouchers.filter(e=>e.synced===!1).toArray()}async function Iw(e){await cs.vouchers.update(e,{synced:!0})}async function _w(e){return cs.vouchers.where("employee_id").equals(e).filter(t=>!t.time_out).last()}async function bw(e,t){await cs.vouchers.update(e,t)}async function Tw(){const e=await Sw();if(!e.length)return;const t=await fetch(`${gs}/api/vouchers/sync`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to sync vouchers");const s=await t.json();await Promise.all(s.map(c=>Iw(c.id)))}async function uh(){var e;"serviceWorker"in navigator&&"SyncManager"in window&&await((e=(await navigator.serviceWorker.ready).sync)==null?void 0:e.register("voucher-sync"))}function B0(e){return e?new Date(e).toLocaleString():"--"}function Nw({entry:e}){return Q.jsxs("div",{className:"voucher-card",children:[Q.jsxs("div",{children:[Q.jsx("p",{className:"label",children:"Employee"}),Q.jsx("p",{className:"value",children:e.employee_name}),Q.jsx("p",{className:"sub",children:e.employee_id})]}),Q.jsxs("div",{className:"voucher-grid",children:[Q.jsxs("div",{children:[Q.jsx("p",{className:"label",children:"Time In"}),Q.jsx("p",{className:"value",children:B0(e.time_in)})]}),Q.jsxs("div",{children:[Q.jsx("p",{className:"label",children:"Time Out"}),Q.jsx("p",{className:"value",children:B0(e.time_out)})]})]}),Q.jsxs("div",{className:"voucher-meta",children:[Q.jsx("span",{className:`badge ${e.time_out?"complete":"open"}`,children:e.time_out?"Complete":"Open"}),Q.jsx("span",{className:`badge ${e.synced?"synced":"pending"}`,children:e.synced?"Synced":"Pending"})]})]})}function L0(e){return e?new Date(e).toLocaleString():"--"}function Ow({entry:e}){const t=()=>{const s=window.open("","PRINT","height=600,width=400");s&&(s.document.write(`
      <html>
        <head>
          <title>Voucher</title>
          <style>
            body { font-family: 'Space Grotesk', sans-serif; padding: 24px; }
            h2 { margin: 0 0 12px; }
            .row { margin-bottom: 12px; }
            .label { font-size: 12px; text-transform: uppercase; letter-spacing: 0.12em; color: #555; }
            .value { font-size: 16px; font-weight: 600; }
          </style>
        </head>
        <body>
          <h2>Meal Voucher</h2>
          <div class="row">
            <div class="label">Employee</div>
            <div class="value">${e.employee_name} (${e.employee_id})</div>
          </div>
          <div class="row">
            <div class="label">Time In</div>
            <div class="value">${L0(e.time_in)}</div>
          </div>
          <div class="row">
            <div class="label">Time Out</div>
            <div class="value">${L0(e.time_out)}</div>
          </div>
          <div class="row">
            <div class="label">Date</div>
            <div class="value">${e.date}</div>
          </div>
        </body>
      </html>
    `),s.document.close(),s.focus(),s.print(),s.close())};return Q.jsx("button",{className:"primary",type:"button",onClick:t,children:"Print Voucher"})}var Ee;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ee||(Ee={}));var F0=new Map([[Ee.QR_CODE,"QR_CODE"],[Ee.AZTEC,"AZTEC"],[Ee.CODABAR,"CODABAR"],[Ee.CODE_39,"CODE_39"],[Ee.CODE_93,"CODE_93"],[Ee.CODE_128,"CODE_128"],[Ee.DATA_MATRIX,"DATA_MATRIX"],[Ee.MAXICODE,"MAXICODE"],[Ee.ITF,"ITF"],[Ee.EAN_13,"EAN_13"],[Ee.EAN_8,"EAN_8"],[Ee.PDF_417,"PDF_417"],[Ee.RSS_14,"RSS_14"],[Ee.RSS_EXPANDED,"RSS_EXPANDED"],[Ee.UPC_A,"UPC_A"],[Ee.UPC_E,"UPC_E"],[Ee.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),U0;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(U0||(U0={}));function Rw(e){return Object.values(Ee).includes(e)}var Yu;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Yu||(Yu={}));var Dw=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Yu.SCAN_TYPE_CAMERA,Yu.SCAN_TYPE_FILE],e}(),Jg=function(){function e(t,s){this.format=t,this.formatName=s}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!F0.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,F0.get(t))},e}(),j0=function(){function e(){}return e.createFromText=function(t){var s={text:t};return{decodedText:t,result:s}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),ch;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(ch||(ch={}));var kw=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:ch.UNKWOWN_ERROR}},e}(),Pw=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,s){(this.verbose||s===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function pi(e){return typeof e>"u"||e===null}var Mo=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),$g=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,s){if(typeof t!="object"){var c=typeof t;return s.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(c,"."),!0),!1}for(var h=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],p=new Set(h),m=Object.keys(t),v=0,E=m;v<E.length;v++){var w=E[v];if(p.has(w))return s.logError("".concat(w," is not supported videoConstaints."),!0),!1}return!0},e}(),fh={exports:{}};(function(e,t){(function(s,c){c(t)})(Ms,function(s){function c(A){return A==null}var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)n.hasOwnProperty(i)&&(A[i]=n[i])};function p(A,n){h(A,n);function i(){this.constructor=A}A.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}function m(A,n){var i=Object.setPrototypeOf;i?i(A,n):A.__proto__=n}function v(A,n){n===void 0&&(n=A.constructor);var i=Error.captureStackTrace;i&&i(A,n)}var E=function(A){p(n,A);function n(i){var a=this.constructor,l=A.call(this,i)||this;return Object.defineProperty(l,"name",{value:a.name,enumerable:!1}),m(l,a.prototype),v(l),l}return n}(Error);class w extends E{constructor(n=void 0){super(n),this.message=n}getKind(){return this.constructor.kind}}w.kind="Exception";class O extends w{}O.kind="ArgumentException";class I extends w{}I.kind="IllegalArgumentException";class B{constructor(n){if(this.binarizer=n,n===null)throw new I("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,i){return this.binarizer.getBlackRow(n,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,i,a,l){const r=this.binarizer.getLuminanceSource().crop(n,i,a,l);return new B(this.binarizer.createBinarizer(r))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new B(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new B(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class V extends w{static getChecksumInstance(){return new V}}V.kind="ChecksumException";class K{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class G{static arraycopy(n,i,a,l,r){for(;r--;)a[l++]=n[i++]}static currentTimeMillis(){return Date.now()}}class se extends w{}se.kind="IndexOutOfBoundsException";class L extends se{constructor(n=void 0,i=void 0){super(i),this.index=n,this.message=i}}L.kind="ArrayIndexOutOfBoundsException";class T{static fill(n,i){for(let a=0,l=n.length;a<l;a++)n[a]=i}static fillWithin(n,i,a,l){T.rangeCheck(n.length,i,a);for(let r=i;r<a;r++)n[r]=l}static rangeCheck(n,i,a){if(i>a)throw new I("fromIndex("+i+") > toIndex("+a+")");if(i<0)throw new L(i);if(a>n)throw new L(a)}static asList(...n){return n}static create(n,i,a){return Array.from({length:n}).map(r=>Array.from({length:i}).fill(a))}static createInt32Array(n,i,a){return Array.from({length:n}).map(r=>Int32Array.from({length:i}).fill(a))}static equals(n,i){if(!n||!i||!n.length||!i.length||n.length!==i.length)return!1;for(let a=0,l=n.length;a<l;a++)if(n[a]!==i[a])return!1;return!0}static hashCode(n){if(n===null)return 0;let i=1;for(const a of n)i=31*i+a;return i}static fillUint8Array(n,i){for(let a=0;a!==n.length;a++)n[a]=i}static copyOf(n,i){return n.slice(0,i)}static copyOfUint8Array(n,i){if(n.length<=i){const a=new Uint8Array(i);return a.set(n),a}return n.slice(0,i)}static copyOfRange(n,i,a){const l=a-i,r=new Int32Array(l);return G.arraycopy(n,i,r,0,l),r}static binarySearch(n,i,a){a===void 0&&(a=T.numberComparator);let l=0,r=n.length-1;for(;l<=r;){const o=r+l>>1,u=a(i,n[o]);if(u>0)l=o+1;else if(u<0)r=o-1;else return o}return-l-1}static numberComparator(n,i){return n-i}}class P{static numberOfTrailingZeros(n){let i;if(n===0)return 32;let a=31;return i=n<<16,i!==0&&(a-=16,n=i),i=n<<8,i!==0&&(a-=8,n=i),i=n<<4,i!==0&&(a-=4,n=i),i=n<<2,i!==0&&(a-=2,n=i),a-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let i=1;return n>>>16||(i+=16,n<<=16),n>>>24||(i+=8,n<<=8),n>>>28||(i+=4,n<<=4),n>>>30||(i+=2,n<<=2),i-=n>>>31,i}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,i){return Math.trunc(n/i)}static parseInt(n,i=void 0){return parseInt(n,i)}}P.MIN_VALUE_32_BITS=-2147483648,P.MAX_VALUE=Number.MAX_SAFE_INTEGER;class z{constructor(n,i){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,i==null?this.bits=z.makeArray(n):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){const i=z.makeArray(n);G.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){const i=this.size;if(n>=i)return i;const a=this.bits;let l=Math.floor(n/32),r=a[l];r&=~((1<<(n&31))-1);const o=a.length;for(;r===0;){if(++l===o)return i;r=a[l]}const u=l*32+P.numberOfTrailingZeros(r);return u>i?i:u}getNextUnset(n){const i=this.size;if(n>=i)return i;const a=this.bits;let l=Math.floor(n/32),r=~a[l];r&=~((1<<(n&31))-1);const o=a.length;for(;r===0;){if(++l===o)return i;r=~a[l]}const u=l*32+P.numberOfTrailingZeros(r);return u>i?i:u}setBulk(n,i){this.bits[Math.floor(n/32)]=i}setRange(n,i){if(i<n||n<0||i>this.size)throw new I;if(i===n)return;i--;const a=Math.floor(n/32),l=Math.floor(i/32),r=this.bits;for(let o=a;o<=l;o++){const u=o>a?0:n&31,d=(2<<(o<l?31:i&31))-(1<<u);r[o]|=d}}clear(){const n=this.bits.length,i=this.bits;for(let a=0;a<n;a++)i[a]=0}isRange(n,i,a){if(i<n||n<0||i>this.size)throw new I;if(i===n)return!0;i--;const l=Math.floor(n/32),r=Math.floor(i/32),o=this.bits;for(let u=l;u<=r;u++){const f=u>l?0:n&31,g=(2<<(u<r?31:i&31))-(1<<f)&4294967295;if((o[u]&g)!==(a?g:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,i){if(i<0||i>32)throw new I("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let a=i;a>0;a--)this.appendBit((n>>a-1&1)===1)}appendBitArray(n){const i=n.size;this.ensureCapacity(this.size+i);for(let a=0;a<i;a++)this.appendBit(n.get(a))}xor(n){if(this.size!==n.size)throw new I("Sizes don't match");const i=this.bits;for(let a=0,l=i.length;a<l;a++)i[a]^=n.bits[a]}toBytes(n,i,a,l){for(let r=0;r<l;r++){let o=0;for(let u=0;u<8;u++)this.get(n)&&(o|=1<<7-u),n++;i[a+r]=o}}getBitArray(){return this.bits}reverse(){const n=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),a=i+1,l=this.bits;for(let r=0;r<a;r++){let o=l[r];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,n[i-r]=o}if(this.size!==a*32){const r=a*32-this.size;let o=n[0]>>>r;for(let u=1;u<a;u++){const f=n[u];o|=f<<32-r,n[u-1]=o,o=f>>>r}n[a-1]=o}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof z))return!1;const i=n;return this.size===i.size&&T.equals(this.bits,i.bits)}hashCode(){return 31*this.size+T.hashCode(this.bits)}toString(){let n="";for(let i=0,a=this.size;i<a;i++)i&7||(n+=" "),n+=this.get(i)?"X":".";return n}clone(){return new z(this.size,this.bits.slice())}}var oe;(function(A){A[A.OTHER=0]="OTHER",A[A.PURE_BARCODE=1]="PURE_BARCODE",A[A.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",A[A.TRY_HARDER=3]="TRY_HARDER",A[A.CHARACTER_SET=4]="CHARACTER_SET",A[A.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",A[A.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",A[A.ASSUME_GS1=7]="ASSUME_GS1",A[A.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",A[A.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",A[A.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(oe||(oe={}));var ne=oe;class W extends w{static getFormatInstance(){return new W}}W.kind="FormatException";var ee;(function(A){A[A.Cp437=0]="Cp437",A[A.ISO8859_1=1]="ISO8859_1",A[A.ISO8859_2=2]="ISO8859_2",A[A.ISO8859_3=3]="ISO8859_3",A[A.ISO8859_4=4]="ISO8859_4",A[A.ISO8859_5=5]="ISO8859_5",A[A.ISO8859_6=6]="ISO8859_6",A[A.ISO8859_7=7]="ISO8859_7",A[A.ISO8859_8=8]="ISO8859_8",A[A.ISO8859_9=9]="ISO8859_9",A[A.ISO8859_10=10]="ISO8859_10",A[A.ISO8859_11=11]="ISO8859_11",A[A.ISO8859_13=12]="ISO8859_13",A[A.ISO8859_14=13]="ISO8859_14",A[A.ISO8859_15=14]="ISO8859_15",A[A.ISO8859_16=15]="ISO8859_16",A[A.SJIS=16]="SJIS",A[A.Cp1250=17]="Cp1250",A[A.Cp1251=18]="Cp1251",A[A.Cp1252=19]="Cp1252",A[A.Cp1256=20]="Cp1256",A[A.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",A[A.UTF8=22]="UTF8",A[A.ASCII=23]="ASCII",A[A.Big5=24]="Big5",A[A.GB18030=25]="GB18030",A[A.EUC_KR=26]="EUC_KR"})(ee||(ee={}));class te{constructor(n,i,a,...l){this.valueIdentifier=n,this.name=a,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=l,te.VALUE_IDENTIFIER_TO_ECI.set(n,this),te.NAME_TO_ECI.set(a,this);const r=this.values;for(let o=0,u=r.length;o!==u;o++){const f=r[o];te.VALUES_TO_ECI.set(f,this)}for(const o of l)te.NAME_TO_ECI.set(o,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new W("incorect value");const i=te.VALUES_TO_ECI.get(n);if(i===void 0)throw new W("incorect value");return i}static getCharacterSetECIByName(n){const i=te.NAME_TO_ECI.get(n);if(i===void 0)throw new W("incorect value");return i}equals(n){if(!(n instanceof te))return!1;const i=n;return this.getName()===i.getName()}}te.VALUE_IDENTIFIER_TO_ECI=new Map,te.VALUES_TO_ECI=new Map,te.NAME_TO_ECI=new Map,te.Cp437=new te(ee.Cp437,Int32Array.from([0,2]),"Cp437"),te.ISO8859_1=new te(ee.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),te.ISO8859_2=new te(ee.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),te.ISO8859_3=new te(ee.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),te.ISO8859_4=new te(ee.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),te.ISO8859_5=new te(ee.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),te.ISO8859_6=new te(ee.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),te.ISO8859_7=new te(ee.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),te.ISO8859_8=new te(ee.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),te.ISO8859_9=new te(ee.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),te.ISO8859_10=new te(ee.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),te.ISO8859_11=new te(ee.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),te.ISO8859_13=new te(ee.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),te.ISO8859_14=new te(ee.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),te.ISO8859_15=new te(ee.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),te.ISO8859_16=new te(ee.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),te.SJIS=new te(ee.SJIS,20,"SJIS","Shift_JIS"),te.Cp1250=new te(ee.Cp1250,21,"Cp1250","windows-1250"),te.Cp1251=new te(ee.Cp1251,22,"Cp1251","windows-1251"),te.Cp1252=new te(ee.Cp1252,23,"Cp1252","windows-1252"),te.Cp1256=new te(ee.Cp1256,24,"Cp1256","windows-1256"),te.UnicodeBigUnmarked=new te(ee.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),te.UTF8=new te(ee.UTF8,26,"UTF8","UTF-8"),te.ASCII=new te(ee.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),te.Big5=new te(ee.Big5,28,"Big5"),te.GB18030=new te(ee.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),te.EUC_KR=new te(ee.EUC_KR,30,"EUC_KR","EUC-KR");class De extends w{}De.kind="UnsupportedOperationException";class lt{static decode(n,i){const a=this.encodingName(i);return this.customDecoder?this.customDecoder(n,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(n,a):new TextDecoder(a).decode(n)}static shouldDecodeOnFallback(n){return!lt.isBrowser()&&n==="ISO-8859-1"}static encode(n,i){const a=this.encodingName(i);return this.customEncoder?this.customEncoder(n,a):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof te?n:te.getCharacterSetECIByName(n)}static decodeFallback(n,i){const a=this.encodingCharacterSet(i);if(lt.isDecodeFallbackSupported(a)){let l="";for(let r=0,o=n.length;r<o;r++){let u=n[r].toString(16);u.length<2&&(u="0"+u),l+="%"+u}return decodeURIComponent(l)}if(a.equals(te.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new De(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals(te.UTF8)||n.equals(te.ISO8859_1)||n.equals(te.ASCII)}static encodeFallback(n){const a=btoa(unescape(encodeURIComponent(n))).split(""),l=[];for(let r=0;r<a.length;r++)l.push(a[r].charCodeAt(0));return new Uint8Array(l)}}class be{static castAsNonUtf8Char(n,i=null){const a=i?i.getName():this.ISO88591;return lt.decode(new Uint8Array([n]),a)}static guessEncoding(n,i){if(i!=null&&i.get(ne.CHARACTER_SET)!==void 0)return i.get(ne.CHARACTER_SET).toString();const a=n.length;let l=!0,r=!0,o=!0,u=0,f=0,d=0,g=0,x=0,y=0,C=0,S=0,_=0,b=0,N=0;const D=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let k=0;k<a&&(l||r||o);k++){const M=n[k]&255;o&&(u>0?M&128?u--:o=!1:M&128&&(M&64?(u++,M&32?(u++,M&16?(u++,M&8?o=!1:g++):d++):f++):o=!1)),l&&(M>127&&M<160?l=!1:M>159&&(M<192||M===215||M===247)&&N++),r&&(x>0?M<64||M===127||M>252?r=!1:x--:M===128||M===160||M>239?r=!1:M>160&&M<224?(y++,S=0,C++,C>_&&(_=C)):M>127?(x++,C=0,S++,S>b&&(b=S)):(C=0,S=0))}return o&&u>0&&(o=!1),r&&x>0&&(r=!1),o&&(D||f+d+g>0)?be.UTF8:r&&(be.ASSUME_SHIFT_JIS||_>=3||b>=3)?be.SHIFT_JIS:l&&r?_===2&&y===2||N*10>=a?be.SHIFT_JIS:be.ISO88591:l?be.ISO88591:r?be.SHIFT_JIS:o?be.UTF8:be.PLATFORM_DEFAULT_ENCODING}static format(n,...i){let a=-1;function l(o,u,f,d,g,x){if(o==="%%")return"%";if(i[++a]===void 0)return;o=d?parseInt(d.substr(1)):void 0;let y=g?parseInt(g.substr(1)):void 0,C;switch(x){case"s":C=i[a];break;case"c":C=i[a][0];break;case"f":C=parseFloat(i[a]).toFixed(o);break;case"p":C=parseFloat(i[a]).toPrecision(o);break;case"e":C=parseFloat(i[a]).toExponential(o);break;case"x":C=parseInt(i[a]).toString(y||16);break;case"d":C=parseFloat(parseInt(i[a],y||10).toPrecision(o)).toFixed(0);break}C=typeof C=="object"?JSON.stringify(C):(+C).toString(y);let S=parseInt(f),_=f&&f[0]+""=="0"?"0":" ";for(;C.length<S;)C=u!==void 0?C+_:_+C;return C}let r=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(r,l)}static getBytes(n,i){return lt.encode(n,i)}static getCharCode(n,i=0){return n.charCodeAt(i)}static getCharAt(n){return String.fromCharCode(n)}}be.SHIFT_JIS=te.SJIS.getName(),be.GB2312="GB2312",be.ISO88591=te.ISO8859_1.getName(),be.EUC_JP="EUC_JP",be.UTF8=te.UTF8.getName(),be.PLATFORM_DEFAULT_ENCODING=be.UTF8,be.ASSUME_SHIFT_JIS=!1;class Fe{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=be.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,i,a){for(let l=i;i<i+a;l++)this.append(n[l]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+1)}substring(n,i){return this.value.substring(n,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+i.length)}}class kt{constructor(n,i,a,l){if(this.width=n,this.height=i,this.rowSize=a,this.bits=l,i==null&&(i=n),this.height=i,n<1||i<1)throw new I("Both dimensions must be greater than 0");a==null&&(a=Math.floor((n+31)/32)),this.rowSize=a,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){const i=n.length,a=n[0].length,l=new kt(a,i);for(let r=0;r<i;r++){const o=n[r];for(let u=0;u<a;u++)o[u]&&l.set(u,r)}return l}static parseFromString(n,i,a){if(n===null)throw new I("stringRepresentation cannot be null");const l=new Array(n.length);let r=0,o=0,u=-1,f=0,d=0;for(;d<n.length;)if(n.charAt(d)===`
`||n.charAt(d)==="\r"){if(r>o){if(u===-1)u=r-o;else if(r-o!==u)throw new I("row lengths do not match");o=r,f++}d++}else if(n.substring(d,d+i.length)===i)d+=i.length,l[r]=!0,r++;else if(n.substring(d,d+a.length)===a)d+=a.length,l[r]=!1,r++;else throw new I("illegal character encountered: "+n.substring(d));if(r>o){if(u===-1)u=r-o;else if(r-o!==u)throw new I("row lengths do not match");f++}const g=new kt(u,f);for(let x=0;x<r;x++)l[x]&&g.set(Math.floor(x%u),Math.floor(x/u));return g}get(n,i){const a=i*this.rowSize+Math.floor(n/32);return(this.bits[a]>>>(n&31)&1)!==0}set(n,i){const a=i*this.rowSize+Math.floor(n/32);this.bits[a]|=1<<(n&31)&4294967295}unset(n,i){const a=i*this.rowSize+Math.floor(n/32);this.bits[a]&=~(1<<(n&31)&4294967295)}flip(n,i){const a=i*this.rowSize+Math.floor(n/32);this.bits[a]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new I("input matrix dimensions do not match");const i=new z(Math.floor(this.width/32)+1),a=this.rowSize,l=this.bits;for(let r=0,o=this.height;r<o;r++){const u=r*a,f=n.getRow(r,i).getBitArray();for(let d=0;d<a;d++)l[u+d]^=f[d]}}clear(){const n=this.bits,i=n.length;for(let a=0;a<i;a++)n[a]=0}setRegion(n,i,a,l){if(i<0||n<0)throw new I("Left and top must be nonnegative");if(l<1||a<1)throw new I("Height and width must be at least 1");const r=n+a,o=i+l;if(o>this.height||r>this.width)throw new I("The region must fit inside the matrix");const u=this.rowSize,f=this.bits;for(let d=i;d<o;d++){const g=d*u;for(let x=n;x<r;x++)f[g+Math.floor(x/32)]|=1<<(x&31)&4294967295}}getRow(n,i){i==null||i.getSize()<this.width?i=new z(this.width):i.clear();const a=this.rowSize,l=this.bits,r=n*a;for(let o=0;o<a;o++)i.setBulk(o*32,l[r+o]);return i}setRow(n,i){G.arraycopy(i.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){const n=this.getWidth(),i=this.getHeight();let a=new z(n),l=new z(n);for(let r=0,o=Math.floor((i+1)/2);r<o;r++)a=this.getRow(r,a),l=this.getRow(i-1-r,l),a.reverse(),l.reverse(),this.setRow(r,l),this.setRow(i-1-r,a)}getEnclosingRectangle(){const n=this.width,i=this.height,a=this.rowSize,l=this.bits;let r=n,o=i,u=-1,f=-1;for(let d=0;d<i;d++)for(let g=0;g<a;g++){const x=l[d*a+g];if(x!==0){if(d<o&&(o=d),d>f&&(f=d),g*32<r){let y=0;for(;!(x<<31-y&4294967295);)y++;g*32+y<r&&(r=g*32+y)}if(g*32+31>u){let y=31;for(;!(x>>>y);)y--;g*32+y>u&&(u=g*32+y)}}}return u<r||f<o?null:Int32Array.from([r,o,u-r+1,f-o+1])}getTopLeftOnBit(){const n=this.rowSize,i=this.bits;let a=0;for(;a<i.length&&i[a]===0;)a++;if(a===i.length)return null;const l=a/n;let r=a%n*32;const o=i[a];let u=0;for(;!(o<<31-u&4294967295);)u++;return r+=u,Int32Array.from([r,l])}getBottomRightOnBit(){const n=this.rowSize,i=this.bits;let a=i.length-1;for(;a>=0&&i[a]===0;)a--;if(a<0)return null;const l=Math.floor(a/n);let r=Math.floor(a%n)*32;const o=i[a];let u=31;for(;!(o>>>u);)u--;return r+=u,Int32Array.from([r,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof kt))return!1;const i=n;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&T.equals(this.bits,i.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+T.hashCode(this.bits),n}toString(n="X ",i="  ",a=`
`){return this.buildToString(n,i,a)}buildToString(n,i,a){let l=new Fe;for(let r=0,o=this.height;r<o;r++){for(let u=0,f=this.width;u<f;u++)l.append(this.get(u,r)?n:i);l.append(a)}return l.toString()}clone(){return new kt(this.width,this.height,this.rowSize,this.bits.slice())}}class $ extends w{static getNotFoundInstance(){return new $}}$.kind="NotFoundException";class Et extends K{constructor(n){super(n),this.luminances=Et.EMPTY,this.buckets=new Int32Array(Et.LUMINANCE_BUCKETS)}getBlackRow(n,i){const a=this.getLuminanceSource(),l=a.getWidth();i==null||i.getSize()<l?i=new z(l):i.clear(),this.initArrays(l);const r=a.getRow(n,this.luminances),o=this.buckets;for(let f=0;f<l;f++)o[(r[f]&255)>>Et.LUMINANCE_SHIFT]++;const u=Et.estimateBlackPoint(o);if(l<3)for(let f=0;f<l;f++)(r[f]&255)<u&&i.set(f);else{let f=r[0]&255,d=r[1]&255;for(let g=1;g<l-1;g++){const x=r[g+1]&255;(d*4-f-x)/2<u&&i.set(g),f=d,d=x}}return i}getBlackMatrix(){const n=this.getLuminanceSource(),i=n.getWidth(),a=n.getHeight(),l=new kt(i,a);this.initArrays(i);const r=this.buckets;for(let f=1;f<5;f++){const d=Math.floor(a*f/5),g=n.getRow(d,this.luminances),x=Math.floor(i*4/5);for(let y=Math.floor(i/5);y<x;y++){const C=g[y]&255;r[C>>Et.LUMINANCE_SHIFT]++}}const o=Et.estimateBlackPoint(r),u=n.getMatrix();for(let f=0;f<a;f++){const d=f*i;for(let g=0;g<i;g++)(u[d+g]&255)<o&&l.set(g,f)}return l}createBinarizer(n){return new Et(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));const i=this.buckets;for(let a=0;a<Et.LUMINANCE_BUCKETS;a++)i[a]=0}static estimateBlackPoint(n){const i=n.length;let a=0,l=0,r=0;for(let g=0;g<i;g++)n[g]>r&&(l=g,r=n[g]),n[g]>a&&(a=n[g]);let o=0,u=0;for(let g=0;g<i;g++){const x=g-l,y=n[g]*x*x;y>u&&(o=g,u=y)}if(l>o){const g=l;l=o,o=g}if(o-l<=i/16)throw new $;let f=o-1,d=-1;for(let g=o-1;g>l;g--){const x=g-l,y=x*x*(o-g)*(a-n[g]);y>d&&(f=g,d=y)}return f<<Et.LUMINANCE_SHIFT}}Et.LUMINANCE_BITS=5,Et.LUMINANCE_SHIFT=8-Et.LUMINANCE_BITS,Et.LUMINANCE_BUCKETS=1<<Et.LUMINANCE_BITS,Et.EMPTY=Uint8ClampedArray.from([0]);class Pe extends Et{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const n=this.getLuminanceSource(),i=n.getWidth(),a=n.getHeight();if(i>=Pe.MINIMUM_DIMENSION&&a>=Pe.MINIMUM_DIMENSION){const l=n.getMatrix();let r=i>>Pe.BLOCK_SIZE_POWER;i&Pe.BLOCK_SIZE_MASK&&r++;let o=a>>Pe.BLOCK_SIZE_POWER;a&Pe.BLOCK_SIZE_MASK&&o++;const u=Pe.calculateBlackPoints(l,r,o,i,a),f=new kt(i,a);Pe.calculateThresholdForBlock(l,r,o,i,a,u,f),this.matrix=f}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new Pe(n)}static calculateThresholdForBlock(n,i,a,l,r,o,u){const f=r-Pe.BLOCK_SIZE,d=l-Pe.BLOCK_SIZE;for(let g=0;g<a;g++){let x=g<<Pe.BLOCK_SIZE_POWER;x>f&&(x=f);const y=Pe.cap(g,2,a-3);for(let C=0;C<i;C++){let S=C<<Pe.BLOCK_SIZE_POWER;S>d&&(S=d);const _=Pe.cap(C,2,i-3);let b=0;for(let D=-2;D<=2;D++){const k=o[y+D];b+=k[_-2]+k[_-1]+k[_]+k[_+1]+k[_+2]}const N=b/25;Pe.thresholdBlock(n,S,x,N,l,u)}}}static cap(n,i,a){return n<i?i:n>a?a:n}static thresholdBlock(n,i,a,l,r,o){for(let u=0,f=a*r+i;u<Pe.BLOCK_SIZE;u++,f+=r)for(let d=0;d<Pe.BLOCK_SIZE;d++)(n[f+d]&255)<=l&&o.set(i+d,a+u)}static calculateBlackPoints(n,i,a,l,r){const o=r-Pe.BLOCK_SIZE,u=l-Pe.BLOCK_SIZE,f=new Array(a);for(let d=0;d<a;d++){f[d]=new Int32Array(i);let g=d<<Pe.BLOCK_SIZE_POWER;g>o&&(g=o);for(let x=0;x<i;x++){let y=x<<Pe.BLOCK_SIZE_POWER;y>u&&(y=u);let C=0,S=255,_=0;for(let N=0,D=g*l+y;N<Pe.BLOCK_SIZE;N++,D+=l){for(let k=0;k<Pe.BLOCK_SIZE;k++){const M=n[D+k]&255;C+=M,M<S&&(S=M),M>_&&(_=M)}if(_-S>Pe.MIN_DYNAMIC_RANGE)for(N++,D+=l;N<Pe.BLOCK_SIZE;N++,D+=l)for(let k=0;k<Pe.BLOCK_SIZE;k++)C+=n[D+k]&255}let b=C>>Pe.BLOCK_SIZE_POWER*2;if(_-S<=Pe.MIN_DYNAMIC_RANGE&&(b=S/2,d>0&&x>0)){const N=(f[d-1][x]+2*f[d][x-1]+f[d-1][x-1])/4;S<N&&(b=N)}f[d][x]=b}}return f}}Pe.BLOCK_SIZE_POWER=3,Pe.BLOCK_SIZE=1<<Pe.BLOCK_SIZE_POWER,Pe.BLOCK_SIZE_MASK=Pe.BLOCK_SIZE-1,Pe.MINIMUM_DIMENSION=Pe.BLOCK_SIZE*5,Pe.MIN_DYNAMIC_RANGE=24;class pe{constructor(n,i){this.width=n,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,i,a,l){throw new De("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new De("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new De("This luminance source does not support rotation by 45 degrees.")}toString(){const n=new Uint8ClampedArray(this.width);let i=new Fe;for(let a=0;a<this.height;a++){const l=this.getRow(a,n);for(let r=0;r<this.width;r++){const o=l[r]&255;let u;o<64?u="#":o<128?u="+":o<192?u=".":u=" ",i.append(u)}i.append(`
`)}return i.toString()}}class Te extends pe{constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,i){const a=this.delegate.getRow(n,i),l=this.getWidth();for(let r=0;r<l;r++)a[r]=255-(a[r]&255);return a}getMatrix(){const n=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(i);for(let l=0;l<i;l++)a[l]=255-(n[l]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(n,i,a,l){return new Te(this.delegate.crop(n,i,a,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Te(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Te(this.delegate.rotateCounterClockwise45())}}class Ne extends pe{constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=Ne.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){const i=n.getContext("2d").getImageData(0,0,n.width,n.height);return Ne.toGrayscaleBuffer(i.data,n.width,n.height)}static toGrayscaleBuffer(n,i,a){const l=new Uint8ClampedArray(i*a);for(let r=0,o=0,u=n.length;r<u;r+=4,o++){let f;if(n[r+3]===0)f=255;else{const g=n[r],x=n[r+1],y=n[r+2];f=306*g+601*x+117*y+512>>10}l[o]=f}return l}getRow(n,i){if(n<0||n>=this.getHeight())throw new I("Requested row is outside the image: "+n);const a=this.getWidth(),l=n*a;return i===null?i=this.buffer.slice(l,l+a):(i.length<a&&(i=new Uint8ClampedArray(a)),i.set(this.buffer.slice(l,l+a))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,i,a,l){return super.crop(n,i,a,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){const i=this.getTempCanvasElement(),a=i.getContext("2d"),l=n*Ne.DEGREE_TO_RADIANS,r=this.canvas.width,o=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(l))*r+Math.abs(Math.sin(l))*o),f=Math.ceil(Math.abs(Math.sin(l))*r+Math.abs(Math.cos(l))*o);return i.width=u,i.height=f,a.translate(u/2,f/2),a.rotate(l),a.drawImage(this.canvas,r/-2,o/-2),this.buffer=Ne.makeBufferFromCanvasImageData(i),this}invert(){return new Te(this)}}Ne.DEGREE_TO_RADIANS=Math.PI/180;class xt{constructor(n,i,a){this.deviceId=n,this.label=i,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Qe=(globalThis||Ms||self||window||void 0)&&(globalThis||Ms||self||window||void 0).__awaiter||function(A,n,i,a){function l(r){return r instanceof i?r:new i(function(o){o(r)})}return new(i||(i=Promise))(function(r,o){function u(g){try{d(a.next(g))}catch(x){o(x)}}function f(g){try{d(a.throw(g))}catch(x){o(x)}}function d(g){g.done?r(g.value):l(g.value).then(u,f)}d((a=a.apply(A,n||[])).next())})};class Zt{constructor(n,i=500,a){this.reader=n,this.timeBetweenScansMillis=i,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return Qe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const n=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const a of n){const l=a.kind==="video"?"videoinput":a.kind;if(l!=="videoinput")continue;const r=a.deviceId||a.id,o=a.label||`Video device ${i.length+1}`,u=a.groupId,f={deviceId:r,label:o,kind:l,groupId:u};i.push(f)}return i})}getVideoInputDevices(){return Qe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new xt(i.deviceId,i.label))})}findDeviceById(n){return Qe(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(a=>a.deviceId===n):null})}decodeFromInputVideoDevice(n,i){return Qe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,i)})}decodeOnceFromVideoDevice(n,i){return Qe(this,void 0,void 0,function*(){this.reset();let a;n?a={deviceId:{exact:n}}:a={facingMode:"environment"};const l={video:a};return yield this.decodeOnceFromConstraints(l,i)})}decodeOnceFromConstraints(n,i){return Qe(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(a,i)})}decodeOnceFromStream(n,i){return Qe(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(n,i);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(n,i,a){return Qe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,i,a)})}decodeFromVideoDevice(n,i,a){return Qe(this,void 0,void 0,function*(){let l;n?l={deviceId:{exact:n}}:l={facingMode:"environment"};const r={video:l};return yield this.decodeFromConstraints(r,i,a)})}decodeFromConstraints(n,i,a){return Qe(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(l,i,a)})}decodeFromStream(n,i,a){return Qe(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(n,i);return yield this.decodeContinuously(l,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,i){return Qe(this,void 0,void 0,function*(){const a=this.prepareVideoElement(i);return this.addVideoSource(a,n),this.videoElement=a,this.stream=n,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(n){return new Promise((i,a)=>this.playVideoOnLoad(n,()=>i()))}playVideoOnLoad(n,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",i),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return Qe(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(n,i){const a=document.getElementById(n);if(!a)throw new O(`element with id '${n}' not found`);if(a.nodeName.toLowerCase()!==i.toLowerCase())throw new O(`element with id '${n}' must be an ${i} element`);return a}decodeFromImage(n,i){if(!n&&!i)throw new O("either imageElement with a src set or an url must be provided");return i&&!n?this.decodeFromImageUrl(i):this.decodeFromImageElement(n)}decodeFromVideo(n,i){if(!n&&!i)throw new O("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,i,a){if(n===void 0&&i===void 0)throw new O("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrlContinuously(i,a):this.decodeFromVideoElementContinuously(n,a)}decodeFromImageElement(n){if(!n)throw new O("An image element must be provided.");this.reset();const i=this.prepareImageElement(n);this.imageElement=i;let a;return this.isImageLoaded(i)?a=this.decodeOnce(i,!1,!0):a=this._decodeOnLoadImage(i),a}decodeFromVideoElement(n){const i=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(n,i){const a=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(a,i)}_decodeFromVideoElementSetup(n){if(!n)throw new O("A video element must be provided.");this.reset();const i=this.prepareVideoElement(n);return this.videoElement=i,i}decodeFromImageUrl(n){if(!n)throw new O("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const a=this._decodeOnLoadImage(i);return i.src=n,a}decodeFromVideoUrl(n){if(!n)throw new O("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),a=this.decodeFromVideoElement(i);return i.src=n,a}decodeFromVideoUrlContinuously(n,i){if(!n)throw new O("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(a,i);return a.src=n,l}_decodeOnLoadImage(n){return new Promise((i,a)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(i,a),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return Qe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,i){return Qe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,i)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let i;return typeof n>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(i=n),i}prepareVideoElement(n){let i;return!n&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(i=n),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(n,i=!0,a=!0){this._stopAsyncDecode=!1;const l=(r,o)=>{if(this._stopAsyncDecode){o(new $("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const u=this.decode(n);r(u)}catch(u){const f=i&&u instanceof $,g=(u instanceof V||u instanceof W)&&a;if(f||g)return setTimeout(l,this._timeBetweenDecodingAttempts,r,o);o(u)}};return new Promise((r,o)=>l(r,o))}decodeContinuously(n,i){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(n);i(l,null),setTimeout(a,this.timeBetweenScansMillis)}catch(l){i(null,l);const r=l instanceof V||l instanceof W,o=l instanceof $;(r||o)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(n){const i=this.createBinaryBitmap(n);return this.decodeBitmap(i)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,i,a){i||(i={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(n,i,a=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(n){this.getCaptureCanvasContext(n),this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);const i=this.getCaptureCanvas(n),a=new Ne(i),l=new Pe(a);return new B(l)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){const i=this.createCaptureCanvas(n);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let a,l;return typeof n<"u"&&(n instanceof HTMLVideoElement?(a=n.videoWidth,l=n.videoHeight):n instanceof HTMLImageElement&&(a=n.naturalWidth||n.width,l=n.naturalHeight||n.height)),i.style.width=a+"px",i.style.height=l+"px",i.width=a,i.height=l,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,i){try{n.srcObject=i}catch{n.src=URL.createObjectURL(i)}}cleanVideoSource(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")}}class Ct{constructor(n,i,a=i==null?0:8*i.length,l,r,o=G.currentTimeMillis()){this.text=n,this.rawBytes=i,this.numBits=a,this.resultPoints=l,this.format=r,this.timestamp=o,this.text=n,this.rawBytes=i,a==null?this.numBits=i==null?0:8*i.length:this.numBits=a,this.resultPoints=l,this.format=r,this.resultMetadata=null,o==null?this.timestamp=G.currentTimeMillis():this.timestamp=o}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,i)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){const i=this.resultPoints;if(i===null)this.resultPoints=n;else if(n!==null&&n.length>0){const a=new Array(i.length+n.length);G.arraycopy(i,0,a,0,i.length),G.arraycopy(n,0,a,i.length,n.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var lr;(function(A){A[A.AZTEC=0]="AZTEC",A[A.CODABAR=1]="CODABAR",A[A.CODE_39=2]="CODE_39",A[A.CODE_93=3]="CODE_93",A[A.CODE_128=4]="CODE_128",A[A.DATA_MATRIX=5]="DATA_MATRIX",A[A.EAN_8=6]="EAN_8",A[A.EAN_13=7]="EAN_13",A[A.ITF=8]="ITF",A[A.MAXICODE=9]="MAXICODE",A[A.PDF_417=10]="PDF_417",A[A.QR_CODE=11]="QR_CODE",A[A.RSS_14=12]="RSS_14",A[A.RSS_EXPANDED=13]="RSS_EXPANDED",A[A.UPC_A=14]="UPC_A",A[A.UPC_E=15]="UPC_E",A[A.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(lr||(lr={}));var Ce=lr,ur;(function(A){A[A.OTHER=0]="OTHER",A[A.ORIENTATION=1]="ORIENTATION",A[A.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",A[A.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",A[A.ISSUE_NUMBER=4]="ISSUE_NUMBER",A[A.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",A[A.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",A[A.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",A[A.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",A[A.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",A[A.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ur||(ur={}));var Yt=ur;class Ie{constructor(n,i,a,l,r=-1,o=-1){this.rawBytes=n,this.text=i,this.byteSegments=a,this.ecLevel=l,this.structuredAppendSequenceNumber=r,this.structuredAppendParity=o,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class bi{exp(n){return this.expTable[n]}log(n){if(n===0)throw new I;return this.logTable[n]}static addOrSubtract(n,i){return n^i}}class Jt{constructor(n,i){if(i.length===0)throw new I;this.field=n;const a=i.length;if(a>1&&i[0]===0){let l=1;for(;l<a&&i[l]===0;)l++;l===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-l),G.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);const i=this.coefficients;let a;if(n===1){a=0;for(let o=0,u=i.length;o!==u;o++){const f=i[o];a=bi.addOrSubtract(a,f)}return a}a=i[0];const l=i.length,r=this.field;for(let o=1;o<l;o++)a=bi.addOrSubtract(r.multiply(n,a),i[o]);return a}addOrSubtract(n){if(!this.field.equals(n.field))throw new I("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,a=n.coefficients;if(i.length>a.length){const o=i;i=a,a=o}let l=new Int32Array(a.length);const r=a.length-i.length;G.arraycopy(a,0,l,0,r);for(let o=r;o<a.length;o++)l[o]=bi.addOrSubtract(i[o-r],a[o]);return new Jt(this.field,l)}multiply(n){if(!this.field.equals(n.field))throw new I("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();const i=this.coefficients,a=i.length,l=n.coefficients,r=l.length,o=new Int32Array(a+r-1),u=this.field;for(let f=0;f<a;f++){const d=i[f];for(let g=0;g<r;g++)o[f+g]=bi.addOrSubtract(o[f+g],u.multiply(d,l[g]))}return new Jt(u,o)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;const i=this.coefficients.length,a=this.field,l=new Int32Array(i),r=this.coefficients;for(let o=0;o<i;o++)l[o]=a.multiply(r[o],n);return new Jt(a,l)}multiplyByMonomial(n,i){if(n<0)throw new I;if(i===0)return this.field.getZero();const a=this.coefficients,l=a.length,r=new Int32Array(l+n),o=this.field;for(let u=0;u<l;u++)r[u]=o.multiply(a[u],i);return new Jt(o,r)}divide(n){if(!this.field.equals(n.field))throw new I("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new I("Divide by 0");const i=this.field;let a=i.getZero(),l=this;const r=n.getCoefficient(n.getDegree()),o=i.inverse(r);for(;l.getDegree()>=n.getDegree()&&!l.isZero();){const u=l.getDegree()-n.getDegree(),f=i.multiply(l.getCoefficient(l.getDegree()),o),d=n.multiplyByMonomial(u,f),g=i.buildMonomial(u,f);a=a.addOrSubtract(g),l=l.addOrSubtract(d)}return[a,l]}toString(){let n="";for(let i=this.getDegree();i>=0;i--){let a=this.getCoefficient(i);if(a!==0){if(a<0?(n+=" - ",a=-a):n.length>0&&(n+=" + "),i===0||a!==1){const l=this.field.log(a);l===0?n+="1":l===1?n+="a":(n+="a^",n+=l)}i!==0&&(i===1?n+="x":(n+="x^",n+=i))}}return n}}class rt extends w{}rt.kind="ArithmeticException";class Ge extends bi{constructor(n,i,a){super(),this.primitive=n,this.size=i,this.generatorBase=a;const l=new Int32Array(i);let r=1;for(let u=0;u<i;u++)l[u]=r,r*=2,r>=i&&(r^=n,r&=i-1);this.expTable=l;const o=new Int32Array(i);for(let u=0;u<i-1;u++)o[l[u]]=u;this.logTable=o,this.zero=new Jt(this,Int32Array.from([0])),this.one=new Jt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new I;if(i===0)return this.zero;const a=new Int32Array(n+1);return a[0]=i,new Jt(this,a)}inverse(n){if(n===0)throw new rt;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+P.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}Ge.AZTEC_DATA_12=new Ge(4201,4096,1),Ge.AZTEC_DATA_10=new Ge(1033,1024,1),Ge.AZTEC_DATA_6=new Ge(67,64,1),Ge.AZTEC_PARAM=new Ge(19,16,1),Ge.QR_CODE_FIELD_256=new Ge(285,256,0),Ge.DATA_MATRIX_FIELD_256=new Ge(301,256,1),Ge.AZTEC_DATA_8=Ge.DATA_MATRIX_FIELD_256,Ge.MAXICODE_FIELD_64=Ge.AZTEC_DATA_6;class Ti extends w{}Ti.kind="ReedSolomonException";class an extends w{}an.kind="IllegalStateException";class ms{constructor(n){this.field=n}decode(n,i){const a=this.field,l=new Jt(a,n),r=new Int32Array(i);let o=!0;for(let C=0;C<i;C++){const S=l.evaluateAt(a.exp(C+a.getGeneratorBase()));r[r.length-1-C]=S,S!==0&&(o=!1)}if(o)return;const u=new Jt(a,r),f=this.runEuclideanAlgorithm(a.buildMonomial(i,1),u,i),d=f[0],g=f[1],x=this.findErrorLocations(d),y=this.findErrorMagnitudes(g,x);for(let C=0;C<x.length;C++){const S=n.length-1-a.log(x[C]);if(S<0)throw new Ti("Bad error location");n[S]=Ge.addOrSubtract(n[S],y[C])}}runEuclideanAlgorithm(n,i,a){if(n.getDegree()<i.getDegree()){const C=n;n=i,i=C}const l=this.field;let r=n,o=i,u=l.getZero(),f=l.getOne();for(;o.getDegree()>=(a/2|0);){let C=r,S=u;if(r=o,u=f,r.isZero())throw new Ti("r_{i-1} was zero");o=C;let _=l.getZero();const b=r.getCoefficient(r.getDegree()),N=l.inverse(b);for(;o.getDegree()>=r.getDegree()&&!o.isZero();){const D=o.getDegree()-r.getDegree(),k=l.multiply(o.getCoefficient(o.getDegree()),N);_=_.addOrSubtract(l.buildMonomial(D,k)),o=o.addOrSubtract(r.multiplyByMonomial(D,k))}if(f=_.multiply(u).addOrSubtract(S),o.getDegree()>=r.getDegree())throw new an("Division algorithm failed to reduce polynomial?")}const d=f.getCoefficient(0);if(d===0)throw new Ti("sigmaTilde(0) was zero");const g=l.inverse(d),x=f.multiplyScalar(g),y=o.multiplyScalar(g);return[x,y]}findErrorLocations(n){const i=n.getDegree();if(i===1)return Int32Array.from([n.getCoefficient(1)]);const a=new Int32Array(i);let l=0;const r=this.field;for(let o=1;o<r.getSize()&&l<i;o++)n.evaluateAt(o)===0&&(a[l]=r.inverse(o),l++);if(l!==i)throw new Ti("Error locator degree does not match number of roots");return a}findErrorMagnitudes(n,i){const a=i.length,l=new Int32Array(a),r=this.field;for(let o=0;o<a;o++){const u=r.inverse(i[o]);let f=1;for(let d=0;d<a;d++)if(o!==d){const g=r.multiply(i[d],u),x=g&1?g&-2:g|1;f=r.multiply(f,x)}l[o]=r.multiply(n.evaluateAt(u),r.inverse(f)),r.getGeneratorBase()!==0&&(l[o]=r.multiply(l[o],u))}return l}}var $t;(function(A){A[A.UPPER=0]="UPPER",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.DIGIT=3]="DIGIT",A[A.PUNCT=4]="PUNCT",A[A.BINARY=5]="BINARY"})($t||($t={}));class yt{decode(n){this.ddata=n;let i=n.getBits(),a=this.extractBits(i),l=this.correctBits(a),r=yt.convertBoolArrayToByteArray(l),o=yt.getEncodedData(l),u=new Ie(r,o,null,null);return u.setNumBits(l.length),u}static highLevelDecode(n){return this.getEncodedData(n)}static getEncodedData(n){let i=n.length,a=$t.UPPER,l=$t.UPPER,r="",o=0;for(;o<i;)if(l===$t.BINARY){if(i-o<5)break;let u=yt.readCode(n,o,5);if(o+=5,u===0){if(i-o<11)break;u=yt.readCode(n,o,11)+31,o+=11}for(let f=0;f<u;f++){if(i-o<8){o=i;break}const d=yt.readCode(n,o,8);r+=be.castAsNonUtf8Char(d),o+=8}l=a}else{let u=l===$t.DIGIT?4:5;if(i-o<u)break;let f=yt.readCode(n,o,u);o+=u;let d=yt.getCharacter(l,f);d.startsWith("CTRL_")?(a=l,l=yt.getTable(d.charAt(5)),d.charAt(6)==="L"&&(a=l)):(r+=d,l=a)}return r}static getTable(n){switch(n){case"L":return $t.LOWER;case"P":return $t.PUNCT;case"M":return $t.MIXED;case"D":return $t.DIGIT;case"B":return $t.BINARY;case"U":default:return $t.UPPER}}static getCharacter(n,i){switch(n){case $t.UPPER:return yt.UPPER_TABLE[i];case $t.LOWER:return yt.LOWER_TABLE[i];case $t.MIXED:return yt.MIXED_TABLE[i];case $t.PUNCT:return yt.PUNCT_TABLE[i];case $t.DIGIT:return yt.DIGIT_TABLE[i];default:throw new an("Bad table")}}correctBits(n){let i,a;this.ddata.getNbLayers()<=2?(a=6,i=Ge.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,i=Ge.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,i=Ge.AZTEC_DATA_10):(a=12,i=Ge.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),r=n.length/a;if(r<l)throw new W;let o=n.length%a,u=new Int32Array(r);for(let y=0;y<r;y++,o+=a)u[y]=yt.readCode(n,o,a);try{new ms(i).decode(u,r-l)}catch(y){throw new W(y)}let f=(1<<a)-1,d=0;for(let y=0;y<l;y++){let C=u[y];if(C===0||C===f)throw new W;(C===1||C===f-1)&&d++}let g=new Array(l*a-d),x=0;for(let y=0;y<l;y++){let C=u[y];if(C===1||C===f-1)g.fill(C>1,x,x+a-1),x+=a-1;else for(let S=a-1;S>=0;--S)g[x++]=(C&1<<S)!==0}return g}extractBits(n){let i=this.ddata.isCompact(),a=this.ddata.getNbLayers(),l=(i?11:14)+a*4,r=new Int32Array(l),o=new Array(this.totalBitsInLayer(a,i));if(i)for(let u=0;u<r.length;u++)r[u]=u;else{let u=l+1+2*P.truncDivision(P.truncDivision(l,2)-1,15),f=l/2,d=P.truncDivision(u,2);for(let g=0;g<f;g++){let x=g+P.truncDivision(g,15);r[f-g-1]=d-x-1,r[f+g]=d+x+1}}for(let u=0,f=0;u<a;u++){let d=(a-u)*4+(i?9:12),g=u*2,x=l-1-g;for(let y=0;y<d;y++){let C=y*2;for(let S=0;S<2;S++)o[f+C+S]=n.get(r[g+S],r[g+y]),o[f+2*d+C+S]=n.get(r[g+y],r[x-S]),o[f+4*d+C+S]=n.get(r[x-S],r[x-y]),o[f+6*d+C+S]=n.get(r[x-y],r[g+S])}f+=d*8}return o}static readCode(n,i,a){let l=0;for(let r=i;r<i+a;r++)l<<=1,n[r]&&(l|=1);return l}static readByte(n,i){let a=n.length-i;return a>=8?yt.readCode(n,i,8):yt.readCode(n,i,a)<<8-a}static convertBoolArrayToByteArray(n){let i=new Uint8Array((n.length+7)/8);for(let a=0;a<i.length;a++)i[a]=yt.readByte(n,8*a);return i}totalBitsInLayer(n,i){return((i?88:112)+16*n)*n}}yt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],yt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],yt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],yt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],yt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ze{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,i,a,l){const r=n-a,o=i-l;return Math.sqrt(r*r+o*o)}static sum(n){let i=0;for(let a=0,l=n.length;a!==l;a++){const r=n[a];i+=r}return i}}class Ni{static floatToIntBits(n){return n}}Ni.MAX_VALUE=Number.MAX_SAFE_INTEGER;class xe{constructor(n,i){this.x=n,this.y=i}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof xe){const i=n;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Ni.floatToIntBits(this.x)+Ni.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){const i=this.distance(n[0],n[1]),a=this.distance(n[1],n[2]),l=this.distance(n[0],n[2]);let r,o,u;if(a>=i&&a>=l?(o=n[0],r=n[1],u=n[2]):l>=a&&l>=i?(o=n[1],r=n[0],u=n[2]):(o=n[2],r=n[0],u=n[1]),this.crossProductZ(r,o,u)<0){const f=r;r=u,u=f}n[0]=r,n[1]=o,n[2]=u}static distance(n,i){return Ze.distance(n.x,n.y,i.x,i.y)}static crossProductZ(n,i,a){const l=i.x,r=i.y;return(a.x-l)*(n.y-r)-(a.y-r)*(n.x-l)}}class xs{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Oi extends xs{constructor(n,i,a,l,r){super(n,i),this.compact=a,this.nbDatablocks=l,this.nbLayers=r}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class cr{constructor(n,i,a,l){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),i==null&&(i=cr.INIT_SIZE),a==null&&(a=n.getWidth()/2|0),l==null&&(l=n.getHeight()/2|0);const r=i/2|0;if(this.leftInit=a-r,this.rightInit=a+r,this.upInit=l-r,this.downInit=l+r,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new $}detect(){let n=this.leftInit,i=this.rightInit,a=this.upInit,l=this.downInit,r=!1,o=!0,u=!1,f=!1,d=!1,g=!1,x=!1;const y=this.width,C=this.height;for(;o;){o=!1;let S=!0;for(;(S||!f)&&i<y;)S=this.containsBlackPoint(a,l,i,!1),S?(i++,o=!0,f=!0):f||i++;if(i>=y){r=!0;break}let _=!0;for(;(_||!d)&&l<C;)_=this.containsBlackPoint(n,i,l,!0),_?(l++,o=!0,d=!0):d||l++;if(l>=C){r=!0;break}let b=!0;for(;(b||!g)&&n>=0;)b=this.containsBlackPoint(a,l,n,!1),b?(n--,o=!0,g=!0):g||n--;if(n<0){r=!0;break}let N=!0;for(;(N||!x)&&a>=0;)N=this.containsBlackPoint(n,i,a,!0),N?(a--,o=!0,x=!0):x||a--;if(a<0){r=!0;break}o&&(u=!0)}if(!r&&u){const S=i-n;let _=null;for(let k=1;_===null&&k<S;k++)_=this.getBlackPointOnSegment(n,l-k,n+k,l);if(_==null)throw new $;let b=null;for(let k=1;b===null&&k<S;k++)b=this.getBlackPointOnSegment(n,a+k,n+k,a);if(b==null)throw new $;let N=null;for(let k=1;N===null&&k<S;k++)N=this.getBlackPointOnSegment(i,a+k,i-k,a);if(N==null)throw new $;let D=null;for(let k=1;D===null&&k<S;k++)D=this.getBlackPointOnSegment(i,l-k,i-k,l);if(D==null)throw new $;return this.centerEdges(D,_,N,b)}else throw new $}getBlackPointOnSegment(n,i,a,l){const r=Ze.round(Ze.distance(n,i,a,l)),o=(a-n)/r,u=(l-i)/r,f=this.image;for(let d=0;d<r;d++){const g=Ze.round(n+d*o),x=Ze.round(i+d*u);if(f.get(g,x))return new xe(g,x)}return null}centerEdges(n,i,a,l){const r=n.getX(),o=n.getY(),u=i.getX(),f=i.getY(),d=a.getX(),g=a.getY(),x=l.getX(),y=l.getY(),C=cr.CORR;return r<this.width/2?[new xe(x-C,y+C),new xe(u+C,f+C),new xe(d-C,g-C),new xe(r+C,o-C)]:[new xe(x+C,y+C),new xe(u+C,f-C),new xe(d-C,g+C),new xe(r-C,o-C)]}containsBlackPoint(n,i,a,l){const r=this.image;if(l){for(let o=n;o<=i;o++)if(r.get(o,a))return!0}else for(let o=n;o<=i;o++)if(r.get(a,o))return!0;return!1}}cr.INIT_SIZE=10,cr.CORR=1;class ai{static checkAndNudgePoints(n,i){const a=n.getWidth(),l=n.getHeight();let r=!0;for(let o=0;o<i.length&&r;o+=2){const u=Math.floor(i[o]),f=Math.floor(i[o+1]);if(u<-1||u>a||f<-1||f>l)throw new $;r=!1,u===-1?(i[o]=0,r=!0):u===a&&(i[o]=a-1,r=!0),f===-1?(i[o+1]=0,r=!0):f===l&&(i[o+1]=l-1,r=!0)}r=!0;for(let o=i.length-2;o>=0&&r;o-=2){const u=Math.floor(i[o]),f=Math.floor(i[o+1]);if(u<-1||u>a||f<-1||f>l)throw new $;r=!1,u===-1?(i[o]=0,r=!0):u===a&&(i[o]=a-1,r=!0),f===-1?(i[o+1]=0,r=!0):f===l&&(i[o+1]=l-1,r=!0)}}}class fn{constructor(n,i,a,l,r,o,u,f,d){this.a11=n,this.a21=i,this.a31=a,this.a12=l,this.a22=r,this.a32=o,this.a13=u,this.a23=f,this.a33=d}static quadrilateralToQuadrilateral(n,i,a,l,r,o,u,f,d,g,x,y,C,S,_,b){const N=fn.quadrilateralToSquare(n,i,a,l,r,o,u,f);return fn.squareToQuadrilateral(d,g,x,y,C,S,_,b).times(N)}transformPoints(n){const i=n.length,a=this.a11,l=this.a12,r=this.a13,o=this.a21,u=this.a22,f=this.a23,d=this.a31,g=this.a32,x=this.a33;for(let y=0;y<i;y+=2){const C=n[y],S=n[y+1],_=r*C+f*S+x;n[y]=(a*C+o*S+d)/_,n[y+1]=(l*C+u*S+g)/_}}transformPointsWithValues(n,i){const a=this.a11,l=this.a12,r=this.a13,o=this.a21,u=this.a22,f=this.a23,d=this.a31,g=this.a32,x=this.a33,y=n.length;for(let C=0;C<y;C++){const S=n[C],_=i[C],b=r*S+f*_+x;n[C]=(a*S+o*_+d)/b,i[C]=(l*S+u*_+g)/b}}static squareToQuadrilateral(n,i,a,l,r,o,u,f){const d=n-a+r-u,g=i-l+o-f;if(d===0&&g===0)return new fn(a-n,r-a,n,l-i,o-l,i,0,0,1);{const x=a-r,y=u-r,C=l-o,S=f-o,_=x*S-y*C,b=(d*S-y*g)/_,N=(x*g-d*C)/_;return new fn(a-n+b*a,u-n+N*u,n,l-i+b*l,f-i+N*f,i,b,N,1)}}static quadrilateralToSquare(n,i,a,l,r,o,u,f){return fn.squareToQuadrilateral(n,i,a,l,r,o,u,f).buildAdjoint()}buildAdjoint(){return new fn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new fn(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class ro extends ai{sampleGrid(n,i,a,l,r,o,u,f,d,g,x,y,C,S,_,b,N,D,k){const M=fn.quadrilateralToQuadrilateral(l,r,o,u,f,d,g,x,y,C,S,_,b,N,D,k);return this.sampleGridWithTransform(n,i,a,M)}sampleGridWithTransform(n,i,a,l){if(i<=0||a<=0)throw new $;const r=new kt(i,a),o=new Float32Array(2*i);for(let u=0;u<a;u++){const f=o.length,d=u+.5;for(let g=0;g<f;g+=2)o[g]=g/2+.5,o[g+1]=d;l.transformPoints(o),ai.checkAndNudgePoints(n,o);try{for(let g=0;g<f;g+=2)n.get(Math.floor(o[g]),Math.floor(o[g+1]))&&r.set(g/2,u)}catch{throw new $}}return r}}class Pn{static setGridSampler(n){Pn.gridSampler=n}static getInstance(){return Pn.gridSampler}}Pn.gridSampler=new ro;class en{constructor(n,i){this.x=n,this.y=i}toResultPoint(){return new xe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ys{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let i=this.getMatrixCenter(),a=this.getBullsEyeCorners(i);if(n){let o=a[0];a[0]=a[2],a[2]=o}this.extractParameters(a);let l=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),r=this.getMatrixCornerPoints(a);return new Oi(l,r,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new $;let i=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(n[0],n[1],i),this.sampleLine(n[1],n[2],i),this.sampleLine(n[2],n[3],i),this.sampleLine(n[3],n[0],i)]);this.shift=this.getRotation(a,i);let l=0;for(let o=0;o<4;o++){let u=a[(this.shift+o)%4];this.compact?(l<<=7,l+=u>>1&127):(l<<=10,l+=(u>>2&992)+(u>>1&31))}let r=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(r>>6)+1,this.nbDataBlocks=(r&63)+1):(this.nbLayers=(r>>11)+1,this.nbDataBlocks=(r&2047)+1)}getRotation(n,i){let a=0;n.forEach((l,r,o)=>{let u=(l>>i-2<<1)+(l&1);a=(a<<3)+u}),a=((a&1)<<11)+(a>>1);for(let l=0;l<4;l++)if(P.bitCount(a^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new $}getCorrectedParameterData(n,i){let a,l;i?(a=7,l=2):(a=10,l=4);let r=a-l,o=new Int32Array(a);for(let f=a-1;f>=0;--f)o[f]=n&15,n>>=4;try{new ms(Ge.AZTEC_PARAM).decode(o,r)}catch{throw new $}let u=0;for(let f=0;f<l;f++)u=(u<<4)+o[f];return u}getBullsEyeCorners(n){let i=n,a=n,l=n,r=n,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let x=this.getFirstDifferent(i,o,1,-1),y=this.getFirstDifferent(a,o,1,1),C=this.getFirstDifferent(l,o,-1,1),S=this.getFirstDifferent(r,o,-1,-1);if(this.nbCenterLayers>2){let _=this.distancePoint(S,x)*this.nbCenterLayers/(this.distancePoint(r,i)*(this.nbCenterLayers+2));if(_<.75||_>1.25||!this.isWhiteOrBlackRectangle(x,y,C,S))break}i=x,a=y,l=C,r=S,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new $;this.compact=this.nbCenterLayers===5;let u=new xe(i.getX()+.5,i.getY()-.5),f=new xe(a.getX()+.5,a.getY()+.5),d=new xe(l.getX()-.5,l.getY()+.5),g=new xe(r.getX()-.5,r.getY()-.5);return this.expandSquare([u,f,d,g],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,i,a,l;try{let u=new cr(this.image).detect();n=u[0],i=u[1],a=u[2],l=u[3]}catch{let f=this.image.getWidth()/2,d=this.image.getHeight()/2;n=this.getFirstDifferent(new en(f+7,d-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new en(f+7,d+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new en(f-7,d+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new en(f-7,d-7),!1,-1,-1).toResultPoint()}let r=Ze.round((n.getX()+l.getX()+i.getX()+a.getX())/4),o=Ze.round((n.getY()+l.getY()+i.getY()+a.getY())/4);try{let u=new cr(this.image,15,r,o).detect();n=u[0],i=u[1],a=u[2],l=u[3]}catch{n=this.getFirstDifferent(new en(r+7,o-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new en(r+7,o+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new en(r-7,o+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new en(r-7,o-7),!1,-1,-1).toResultPoint()}return r=Ze.round((n.getX()+l.getX()+i.getX()+a.getX())/4),o=Ze.round((n.getY()+l.getY()+i.getY()+a.getY())/4),new en(r,o)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,i,a,l,r){let o=Pn.getInstance(),u=this.getDimension(),f=u/2-this.nbCenterLayers,d=u/2+this.nbCenterLayers;return o.sampleGrid(n,u,u,f,f,d,f,d,d,f,d,i.getX(),i.getY(),a.getX(),a.getY(),l.getX(),l.getY(),r.getX(),r.getY())}sampleLine(n,i,a){let l=0,r=this.distanceResultPoint(n,i),o=r/a,u=n.getX(),f=n.getY(),d=o*(i.getX()-n.getX())/r,g=o*(i.getY()-n.getY())/r;for(let x=0;x<a;x++)this.image.get(Ze.round(u+x*d),Ze.round(f+x*g))&&(l|=1<<a-x-1);return l}isWhiteOrBlackRectangle(n,i,a,l){let r=3;n=new en(n.getX()-r,n.getY()+r),i=new en(i.getX()-r,i.getY()-r),a=new en(a.getX()+r,a.getY()-r),l=new en(l.getX()+r,l.getY()+r);let o=this.getColor(l,n);if(o===0)return!1;let u=this.getColor(n,i);return u!==o||(u=this.getColor(i,a),u!==o)?!1:(u=this.getColor(a,l),u===o)}getColor(n,i){let a=this.distancePoint(n,i),l=(i.getX()-n.getX())/a,r=(i.getY()-n.getY())/a,o=0,u=n.getX(),f=n.getY(),d=this.image.get(n.getX(),n.getY()),g=Math.ceil(a);for(let y=0;y<g;y++)u+=l,f+=r,this.image.get(Ze.round(u),Ze.round(f))!==d&&o++;let x=o/a;return x>.1&&x<.9?0:x<=.1===d?1:-1}getFirstDifferent(n,i,a,l){let r=n.getX()+a,o=n.getY()+l;for(;this.isValid(r,o)&&this.image.get(r,o)===i;)r+=a,o+=l;for(r-=a,o-=l;this.isValid(r,o)&&this.image.get(r,o)===i;)r+=a;for(r-=a;this.isValid(r,o)&&this.image.get(r,o)===i;)o+=l;return o-=l,new en(r,o)}expandSquare(n,i,a){let l=a/(2*i),r=n[0].getX()-n[2].getX(),o=n[0].getY()-n[2].getY(),u=(n[0].getX()+n[2].getX())/2,f=(n[0].getY()+n[2].getY())/2,d=new xe(u+l*r,f+l*o),g=new xe(u-l*r,f-l*o);r=n[1].getX()-n[3].getX(),o=n[1].getY()-n[3].getY(),u=(n[1].getX()+n[3].getX())/2,f=(n[1].getY()+n[3].getY())/2;let x=new xe(u+l*r,f+l*o),y=new xe(u-l*r,f-l*o);return[d,x,g,y]}isValid(n,i){return n>=0&&n<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(n){let i=Ze.round(n.getX()),a=Ze.round(n.getY());return this.isValid(i,a)}distancePoint(n,i){return Ze.distance(n.getX(),n.getY(),i.getX(),i.getY())}distanceResultPoint(n,i){return Ze.distance(n.getX(),n.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(P.truncDivision(this.nbLayers-4,8)+1)+15}}class fr{decode(n,i=null){let a=null,l=new ys(n.getBlackMatrix()),r=null,o=null;try{let g=l.detectMirror(!1);r=g.getPoints(),this.reportFoundResultPoints(i,r),o=new yt().decode(g)}catch(g){a=g}if(o==null)try{let g=l.detectMirror(!0);r=g.getPoints(),this.reportFoundResultPoints(i,r),o=new yt().decode(g)}catch(g){throw a??g}let u=new Ct(o.getText(),o.getRawBytes(),o.getNumBits(),r,Ce.AZTEC,G.currentTimeMillis()),f=o.getByteSegments();f!=null&&u.putMetadata(Yt.BYTE_SEGMENTS,f);let d=o.getECLevel();return d!=null&&u.putMetadata(Yt.ERROR_CORRECTION_LEVEL,d),u}reportFoundResultPoints(n,i){if(n!=null){let a=n.get(ne.NEED_RESULT_POINT_CALLBACK);a!=null&&i.forEach((l,r,o)=>{a.foundPossibleResultPoint(l)})}}reset(){}}class io extends Zt{constructor(n=500){super(new fr,n)}}class Ot{decode(n,i){try{return this.doDecode(n,i)}catch{if(i&&i.get(ne.TRY_HARDER)===!0&&n.isRotateSupported()){const r=n.rotateCounterClockwise(),o=this.doDecode(r,i),u=o.getResultMetadata();let f=270;u!==null&&u.get(Yt.ORIENTATION)===!0&&(f=f+u.get(Yt.ORIENTATION)%360),o.putMetadata(Yt.ORIENTATION,f);const d=o.getResultPoints();if(d!==null){const g=r.getHeight();for(let x=0;x<d.length;x++)d[x]=new xe(g-d[x].getY()-1,d[x].getX())}return o}else throw new $}}reset(){}doDecode(n,i){const a=n.getWidth(),l=n.getHeight();let r=new z(a);const o=i&&i.get(ne.TRY_HARDER)===!0,u=Math.max(1,l>>(o?8:5));let f;o?f=l:f=15;const d=Math.trunc(l/2);for(let g=0;g<f;g++){const x=Math.trunc((g+1)/2),y=(g&1)===0,C=d+u*(y?x:-x);if(C<0||C>=l)break;try{r=n.getBlackRow(C,r)}catch{continue}for(let S=0;S<2;S++){if(S===1&&(r.reverse(),i&&i.get(ne.NEED_RESULT_POINT_CALLBACK)===!0)){const _=new Map;i.forEach((b,N)=>_.set(N,b)),_.delete(ne.NEED_RESULT_POINT_CALLBACK),i=_}try{const _=this.decodeRow(C,r,i);if(S===1){_.putMetadata(Yt.ORIENTATION,180);const b=_.getResultPoints();b!==null&&(b[0]=new xe(a-b[0].getX()-1,b[0].getY()),b[1]=new xe(a-b[1].getX()-1,b[1].getY()))}return _}catch{}}}throw new $}static recordPattern(n,i,a){const l=a.length;for(let d=0;d<l;d++)a[d]=0;const r=n.getSize();if(i>=r)throw new $;let o=!n.get(i),u=0,f=i;for(;f<r;){if(n.get(f)!==o)a[u]++;else{if(++u===l)break;a[u]=1,o=!o}f++}if(!(u===l||u===l-1&&f===r))throw new $}static recordPatternInReverse(n,i,a){let l=a.length,r=n.get(i);for(;i>0&&l>=0;)n.get(--i)!==r&&(l--,r=!r);if(l>=0)throw new $;Ot.recordPattern(n,i+1,a)}static patternMatchVariance(n,i,a){const l=n.length;let r=0,o=0;for(let d=0;d<l;d++)r+=n[d],o+=i[d];if(r<o)return Number.POSITIVE_INFINITY;const u=r/o;a*=u;let f=0;for(let d=0;d<l;d++){const g=n[d],x=i[d]*u,y=g>x?g-x:x-g;if(y>a)return Number.POSITIVE_INFINITY;f+=y}return f/r}}class ce extends Ot{static findStartPattern(n){const i=n.getSize(),a=n.getNextSet(0);let l=0,r=Int32Array.from([0,0,0,0,0,0]),o=a,u=!1;const f=6;for(let d=a;d<i;d++)if(n.get(d)!==u)r[l]++;else{if(l===f-1){let g=ce.MAX_AVG_VARIANCE,x=-1;for(let y=ce.CODE_START_A;y<=ce.CODE_START_C;y++){const C=Ot.patternMatchVariance(r,ce.CODE_PATTERNS[y],ce.MAX_INDIVIDUAL_VARIANCE);C<g&&(g=C,x=y)}if(x>=0&&n.isRange(Math.max(0,o-(d-o)/2),o,!1))return Int32Array.from([o,d,x]);o+=r[0]+r[1],r=r.slice(2,r.length-1),r[l-1]=0,r[l]=0,l--}else l++;r[l]=1,u=!u}throw new $}static decodeCode(n,i,a){Ot.recordPattern(n,a,i);let l=ce.MAX_AVG_VARIANCE,r=-1;for(let o=0;o<ce.CODE_PATTERNS.length;o++){const u=ce.CODE_PATTERNS[o],f=this.patternMatchVariance(i,u,ce.MAX_INDIVIDUAL_VARIANCE);f<l&&(l=f,r=o)}if(r>=0)return r;throw new $}decodeRow(n,i,a){const l=a&&a.get(ne.ASSUME_GS1)===!0,r=ce.findStartPattern(i),o=r[2];let u=0;const f=new Uint8Array(20);f[u++]=o;let d;switch(o){case ce.CODE_START_A:d=ce.CODE_CODE_A;break;case ce.CODE_START_B:d=ce.CODE_CODE_B;break;case ce.CODE_START_C:d=ce.CODE_CODE_C;break;default:throw new W}let g=!1,x=!1,y="",C=r[0],S=r[1];const _=Int32Array.from([0,0,0,0,0,0]);let b=0,N=0,D=o,k=0,M=!0,F=!1,j=!1;for(;!g;){const he=x;switch(x=!1,b=N,N=ce.decodeCode(i,_,S),f[u++]=N,N!==ce.CODE_STOP&&(M=!0),N!==ce.CODE_STOP&&(k++,D+=k*N),C=S,S+=_.reduce((de,Be)=>de+Be,0),N){case ce.CODE_START_A:case ce.CODE_START_B:case ce.CODE_START_C:throw new W}switch(d){case ce.CODE_CODE_A:if(N<64)j===F?y+=String.fromCharCode(32+N):y+=String.fromCharCode(32+N+128),j=!1;else if(N<96)j===F?y+=String.fromCharCode(N-64):y+=String.fromCharCode(N+64),j=!1;else switch(N!==ce.CODE_STOP&&(M=!1),N){case ce.CODE_FNC_1:l&&(y.length===0?y+="]C1":y+="");break;case ce.CODE_FNC_2:case ce.CODE_FNC_3:break;case ce.CODE_FNC_4_A:!F&&j?(F=!0,j=!1):F&&j?(F=!1,j=!1):j=!0;break;case ce.CODE_SHIFT:x=!0,d=ce.CODE_CODE_B;break;case ce.CODE_CODE_B:d=ce.CODE_CODE_B;break;case ce.CODE_CODE_C:d=ce.CODE_CODE_C;break;case ce.CODE_STOP:g=!0;break}break;case ce.CODE_CODE_B:if(N<96)j===F?y+=String.fromCharCode(32+N):y+=String.fromCharCode(32+N+128),j=!1;else switch(N!==ce.CODE_STOP&&(M=!1),N){case ce.CODE_FNC_1:l&&(y.length===0?y+="]C1":y+="");break;case ce.CODE_FNC_2:case ce.CODE_FNC_3:break;case ce.CODE_FNC_4_B:!F&&j?(F=!0,j=!1):F&&j?(F=!1,j=!1):j=!0;break;case ce.CODE_SHIFT:x=!0,d=ce.CODE_CODE_A;break;case ce.CODE_CODE_A:d=ce.CODE_CODE_A;break;case ce.CODE_CODE_C:d=ce.CODE_CODE_C;break;case ce.CODE_STOP:g=!0;break}break;case ce.CODE_CODE_C:if(N<100)N<10&&(y+="0"),y+=N;else switch(N!==ce.CODE_STOP&&(M=!1),N){case ce.CODE_FNC_1:l&&(y.length===0?y+="]C1":y+="");break;case ce.CODE_CODE_A:d=ce.CODE_CODE_A;break;case ce.CODE_CODE_B:d=ce.CODE_CODE_B;break;case ce.CODE_STOP:g=!0;break}break}he&&(d=d===ce.CODE_CODE_A?ce.CODE_CODE_B:ce.CODE_CODE_A)}const X=S-C;if(S=i.getNextUnset(S),!i.isRange(S,Math.min(i.getSize(),S+(S-C)/2),!1))throw new $;if(D-=k*b,D%103!==b)throw new V;const Y=y.length;if(Y===0)throw new $;Y>0&&M&&(d===ce.CODE_CODE_C?y=y.substring(0,Y-2):y=y.substring(0,Y-1));const Z=(r[1]+r[0])/2,J=C+X/2,le=f.length,ae=new Uint8Array(le);for(let he=0;he<le;he++)ae[he]=f[he];const fe=[new xe(Z,n),new xe(J,n)];return new Ct(y,ae,0,fe,Ce.CODE_128,new Date().getTime())}}ce.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ce.MAX_AVG_VARIANCE=.25,ce.MAX_INDIVIDUAL_VARIANCE=.7,ce.CODE_SHIFT=98,ce.CODE_CODE_C=99,ce.CODE_CODE_B=100,ce.CODE_CODE_A=101,ce.CODE_FNC_1=102,ce.CODE_FNC_2=97,ce.CODE_FNC_3=96,ce.CODE_FNC_4_A=101,ce.CODE_FNC_4_B=100,ce.CODE_START_A=103,ce.CODE_START_B=104,ce.CODE_START_C=105,ce.CODE_STOP=106;class ge extends Ot{constructor(n=!1,i=!1){super(),this.usingCheckDigit=n,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(n,i,a){let l=this.counters;l.fill(0),this.decodeRowResult="";let r=ge.findAsteriskPattern(i,l),o=i.getNextSet(r[1]),u=i.getSize(),f,d;do{ge.recordPattern(i,o,l);let _=ge.toNarrowWidePattern(l);if(_<0)throw new $;f=ge.patternToChar(_),this.decodeRowResult+=f,d=o;for(let b of l)o+=b;o=i.getNextSet(o)}while(f!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let g=0;for(let _ of l)g+=_;let x=o-d-g;if(o!==u&&x*2<g)throw new $;if(this.usingCheckDigit){let _=this.decodeRowResult.length-1,b=0;for(let N=0;N<_;N++)b+=ge.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(N));if(this.decodeRowResult.charAt(_)!==ge.ALPHABET_STRING.charAt(b%43))throw new V;this.decodeRowResult=this.decodeRowResult.substring(0,_)}if(this.decodeRowResult.length===0)throw new $;let y;this.extendedMode?y=ge.decodeExtended(this.decodeRowResult):y=this.decodeRowResult;let C=(r[1]+r[0])/2,S=d+g/2;return new Ct(y,null,0,[new xe(C,n),new xe(S,n)],Ce.CODE_39,new Date().getTime())}static findAsteriskPattern(n,i){let a=n.getSize(),l=n.getNextSet(0),r=0,o=l,u=!1,f=i.length;for(let d=l;d<a;d++)if(n.get(d)!==u)i[r]++;else{if(r===f-1){if(this.toNarrowWidePattern(i)===ge.ASTERISK_ENCODING&&n.isRange(Math.max(0,o-Math.floor((d-o)/2)),o,!1))return[o,d];o+=i[0]+i[1],i.copyWithin(0,2,2+r-1),i[r-1]=0,i[r]=0,r--}else r++;i[r]=1,u=!u}throw new $}static toNarrowWidePattern(n){let i=n.length,a=0,l;do{let r=2147483647;for(let f of n)f<r&&f>a&&(r=f);a=r,l=0;let o=0,u=0;for(let f=0;f<i;f++){let d=n[f];d>a&&(u|=1<<i-1-f,l++,o+=d)}if(l===3){for(let f=0;f<i&&l>0;f++){let d=n[f];if(d>a&&(l--,d*2>=o))return-1}return u}}while(l>3);return-1}static patternToChar(n){for(let i=0;i<ge.CHARACTER_ENCODINGS.length;i++)if(ge.CHARACTER_ENCODINGS[i]===n)return ge.ALPHABET_STRING.charAt(i);if(n===ge.ASTERISK_ENCODING)return"*";throw new $}static decodeExtended(n){let i=n.length,a="";for(let l=0;l<i;l++){let r=n.charAt(l);if(r==="+"||r==="$"||r==="%"||r==="/"){let o=n.charAt(l+1),u="\0";switch(r){case"+":if(o>="A"&&o<="Z")u=String.fromCharCode(o.charCodeAt(0)+32);else throw new W;break;case"$":if(o>="A"&&o<="Z")u=String.fromCharCode(o.charCodeAt(0)-64);else throw new W;break;case"%":if(o>="A"&&o<="E")u=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")u=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")u=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")u=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")u="\0";else if(o==="V")u="@";else if(o==="W")u="`";else if(o==="X"||o==="Y"||o==="Z")u="";else throw new W;break;case"/":if(o>="A"&&o<="O")u=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")u=":";else throw new W;break}a+=u,l++}else a+=r}return a}}ge.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",ge.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],ge.ASTERISK_ENCODING=148;class it extends Ot{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,i,a){let l=this.decodeStart(i),r=this.decodeEnd(i),o=new Fe;it.decodeMiddle(i,l[1],r[0],o);let u=o.toString(),f=null;a!=null&&(f=a.get(ne.ALLOWED_LENGTHS)),f==null&&(f=it.DEFAULT_ALLOWED_LENGTHS);let d=u.length,g=!1,x=0;for(let S of f){if(d===S){g=!0;break}S>x&&(x=S)}if(!g&&d>x&&(g=!0),!g)throw new W;const y=[new xe(l[1],n),new xe(r[0],n)];return new Ct(u,null,0,y,Ce.ITF,new Date().getTime())}static decodeMiddle(n,i,a,l){let r=new Int32Array(10),o=new Int32Array(5),u=new Int32Array(5);for(r.fill(0),o.fill(0),u.fill(0);i<a;){Ot.recordPattern(n,i,r);for(let d=0;d<5;d++){let g=2*d;o[d]=r[g],u[d]=r[g+1]}let f=it.decodeDigit(o);l.append(f.toString()),f=this.decodeDigit(u),l.append(f.toString()),r.forEach(function(d){i+=d})}}decodeStart(n){let i=it.skipWhiteSpace(n),a=it.findGuardPattern(n,i,it.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(n,a[0]),a}validateQuietZone(n,i){let a=this.narrowLineWidth*10;a=a<i?a:i;for(let l=i-1;a>0&&l>=0&&!n.get(l);l--)a--;if(a!==0)throw new $}static skipWhiteSpace(n){const i=n.getSize(),a=n.getNextSet(0);if(a===i)throw new $;return a}decodeEnd(n){n.reverse();try{let i=it.skipWhiteSpace(n),a;try{a=it.findGuardPattern(n,i,it.END_PATTERN_REVERSED[0])}catch(r){r instanceof $&&(a=it.findGuardPattern(n,i,it.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,a[0]);let l=a[0];return a[0]=n.getSize()-a[1],a[1]=n.getSize()-l,a}finally{n.reverse()}}static findGuardPattern(n,i,a){let l=a.length,r=new Int32Array(l),o=n.getSize(),u=!1,f=0,d=i;r.fill(0);for(let g=i;g<o;g++)if(n.get(g)!==u)r[f]++;else{if(f===l-1){if(Ot.patternMatchVariance(r,a,it.MAX_INDIVIDUAL_VARIANCE)<it.MAX_AVG_VARIANCE)return[d,g];d+=r[0]+r[1],G.arraycopy(r,2,r,0,f-1),r[f-1]=0,r[f]=0,f--}else f++;r[f]=1,u=!u}throw new $}static decodeDigit(n){let i=it.MAX_AVG_VARIANCE,a=-1,l=it.PATTERNS.length;for(let r=0;r<l;r++){let o=it.PATTERNS[r],u=Ot.patternMatchVariance(n,o,it.MAX_INDIVIDUAL_VARIANCE);u<i?(i=u,a=r):u===i&&(a=-1)}if(a>=0)return a%10;throw new $}}it.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],it.MAX_AVG_VARIANCE=.38,it.MAX_INDIVIDUAL_VARIANCE=.5,it.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],it.START_PATTERN=Int32Array.from([1,1,1,1]),it.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class ft extends Ot{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let i=!1,a,l=0,r=Int32Array.from([0,0,0]);for(;!i;){r=Int32Array.from([0,0,0]),a=ft.findGuardPattern(n,l,!1,this.START_END_PATTERN,r);let o=a[0];l=a[1];let u=o-(l-o);u>=0&&(i=n.isRange(u,o,!1))}return a}static checkChecksum(n){return ft.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let a=parseInt(n.charAt(i-1),10);return ft.getStandardUPCEANChecksum(n.substring(0,i-1))===a}static getStandardUPCEANChecksum(n){let i=n.length,a=0;for(let l=i-1;l>=0;l-=2){let r=n.charAt(l).charCodeAt(0)-48;if(r<0||r>9)throw new W;a+=r}a*=3;for(let l=i-2;l>=0;l-=2){let r=n.charAt(l).charCodeAt(0)-48;if(r<0||r>9)throw new W;a+=r}return(1e3-a)%10}static decodeEnd(n,i){return ft.findGuardPattern(n,i,!1,ft.START_END_PATTERN,new Int32Array(ft.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,i,a,l){return this.findGuardPattern(n,i,a,l,new Int32Array(l.length))}static findGuardPattern(n,i,a,l,r){let o=n.getSize();i=a?n.getNextUnset(i):n.getNextSet(i);let u=0,f=i,d=l.length,g=a;for(let x=i;x<o;x++)if(n.get(x)!==g)r[u]++;else{if(u===d-1){if(Ot.patternMatchVariance(r,l,ft.MAX_INDIVIDUAL_VARIANCE)<ft.MAX_AVG_VARIANCE)return Int32Array.from([f,x]);f+=r[0]+r[1];let y=r.slice(2,r.length-1);for(let C=0;C<u-1;C++)r[C]=y[C];r[u-1]=0,r[u]=0,u--}else u++;r[u]=1,g=!g}throw new $}static decodeDigit(n,i,a,l){this.recordPattern(n,a,i);let r=this.MAX_AVG_VARIANCE,o=-1,u=l.length;for(let f=0;f<u;f++){let d=l[f],g=Ot.patternMatchVariance(i,d,ft.MAX_INDIVIDUAL_VARIANCE);g<r&&(r=g,o=f)}if(o>=0)return o;throw new $}}ft.MAX_AVG_VARIANCE=.48,ft.MAX_INDIVIDUAL_VARIANCE=.7,ft.START_END_PATTERN=Int32Array.from([1,1,1]),ft.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),ft.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ft.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Xr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,a){let l=this.decodeRowStringBuffer,r=this.decodeMiddle(i,a,l),o=l.toString(),u=Xr.parseExtensionString(o),f=[new xe((a[0]+a[1])/2,n),new xe(r,n)],d=new Ct(o,null,0,f,Ce.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&d.putAllMetadata(u),d}decodeMiddle(n,i,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let r=n.getSize(),o=i[1],u=0;for(let d=0;d<5&&o<r;d++){let g=ft.decodeDigit(n,l,o,ft.L_AND_G_PATTERNS);a+=String.fromCharCode(48+g%10);for(let x of l)o+=x;g>=10&&(u|=1<<4-d),d!==4&&(o=n.getNextSet(o),o=n.getNextUnset(o))}if(a.length!==5)throw new $;let f=this.determineCheckDigit(u);if(Xr.extensionChecksum(a.toString())!==f)throw new $;return o}static extensionChecksum(n){let i=n.length,a=0;for(let l=i-2;l>=0;l-=2)a+=n.charAt(l).charCodeAt(0)-48;a*=3;for(let l=i-1;l>=0;l-=2)a+=n.charAt(l).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(n){for(let i=0;i<10;i++)if(n===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new $}static parseExtensionString(n){if(n.length!==5)return null;let i=Xr.parseExtension5String(n);return i==null?null:new Map([[Yt.SUGGESTED_PRICE,i]])}static parseExtension5String(n){let i;switch(n.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let a=parseInt(n.substring(1)),l=(a/100).toString(),r=a%100,o=r<10?"0"+r:r.toString();return i+l+"."+o}}class me{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,a){let l=this.decodeRowStringBuffer,r=this.decodeMiddle(i,a,l),o=l.toString(),u=me.parseExtensionString(o),f=[new xe((a[0]+a[1])/2,n),new xe(r,n)],d=new Ct(o,null,0,f,Ce.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&d.putAllMetadata(u),d}decodeMiddle(n,i,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let r=n.getSize(),o=i[1],u=0;for(let f=0;f<2&&o<r;f++){let d=ft.decodeDigit(n,l,o,ft.L_AND_G_PATTERNS);a+=String.fromCharCode(48+d%10);for(let g of l)o+=g;d>=10&&(u|=1<<1-f),f!==1&&(o=n.getNextSet(o),o=n.getNextUnset(o))}if(a.length!==2)throw new $;if(parseInt(a.toString())%4!==u)throw new $;return o}static parseExtensionString(n){return n.length!==2?null:new Map([[Yt.ISSUE_NUMBER,parseInt(n)]])}}class so{static decodeRow(n,i,a){let l=ft.findGuardPattern(i,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Xr().decodeRow(n,i,l)}catch{return new me().decodeRow(n,i,l)}}}so.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class et extends ft{constructor(){super(),this.decodeRowStringBuffer="",et.L_AND_G_PATTERNS=et.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let i=et.L_PATTERNS[n-10],a=new Int32Array(i.length);for(let l=0;l<i.length;l++)a[l]=i[i.length-l-1];et.L_AND_G_PATTERNS[n]=a}}decodeRow(n,i,a){let l=et.findStartGuardPattern(i),r=a==null?null:a.get(ne.NEED_RESULT_POINT_CALLBACK);if(r!=null){const M=new xe((l[0]+l[1])/2,n);r.foundPossibleResultPoint(M)}let o=this.decodeMiddle(i,l,this.decodeRowStringBuffer),u=o.rowOffset,f=o.resultString;if(r!=null){const M=new xe(u,n);r.foundPossibleResultPoint(M)}let d=this.decodeEnd(i,u);if(r!=null){const M=new xe((d[0]+d[1])/2,n);r.foundPossibleResultPoint(M)}let g=d[1],x=g+(g-d[0]);if(x>=i.getSize()||!i.isRange(g,x,!1))throw new $;let y=f.toString();if(y.length<8)throw new W;if(!et.checkChecksum(y))throw new V;let C=(l[1]+l[0])/2,S=(d[1]+d[0])/2,_=this.getBarcodeFormat(),b=[new xe(C,n),new xe(S,n)],N=new Ct(y,null,0,b,_,new Date().getTime()),D=0;try{let M=so.decodeRow(n,i,d[1]);N.putMetadata(Yt.UPC_EAN_EXTENSION,M.getText()),N.putAllMetadata(M.getResultMetadata()),N.addResultPoints(M.getResultPoints()),D=M.getText().length}catch{}let k=a==null?null:a.get(ne.ALLOWED_EAN_EXTENSIONS);if(k!=null){let M=!1;for(let F in k)if(D.toString()===F){M=!0;break}if(!M)throw new $}return N}decodeEnd(n,i){return et.findGuardPattern(n,i,!1,et.START_END_PATTERN,new Int32Array(et.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return et.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let a=parseInt(n.charAt(i-1),10);return et.getStandardUPCEANChecksum(n.substring(0,i-1))===a}static getStandardUPCEANChecksum(n){let i=n.length,a=0;for(let l=i-1;l>=0;l-=2){let r=n.charAt(l).charCodeAt(0)-48;if(r<0||r>9)throw new W;a+=r}a*=3;for(let l=i-2;l>=0;l-=2){let r=n.charAt(l).charCodeAt(0)-48;if(r<0||r>9)throw new W;a+=r}return(1e3-a)%10}}class Nr extends et{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,i,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let r=n.getSize(),o=i[1],u=0;for(let d=0;d<6&&o<r;d++){let g=et.decodeDigit(n,l,o,et.L_AND_G_PATTERNS);a+=String.fromCharCode(48+g%10);for(let x of l)o+=x;g>=10&&(u|=1<<5-d)}a=Nr.determineFirstDigit(a,u),o=et.findGuardPattern(n,o,!0,et.MIDDLE_PATTERN,new Int32Array(et.MIDDLE_PATTERN.length).fill(0))[1];for(let d=0;d<6&&o<r;d++){let g=et.decodeDigit(n,l,o,et.L_PATTERNS);a+=String.fromCharCode(48+g);for(let x of l)o+=x}return{rowOffset:o,resultString:a}}getBarcodeFormat(){return Ce.EAN_13}static determineFirstDigit(n,i){for(let a=0;a<10;a++)if(i===this.FIRST_DIGIT_ENCODINGS[a])return n=String.fromCharCode(48+a)+n,n;throw new $}}Nr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ma extends et{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,i,a){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let r=n.getSize(),o=i[1];for(let f=0;f<4&&o<r;f++){let d=et.decodeDigit(n,l,o,et.L_PATTERNS);a+=String.fromCharCode(48+d);for(let g of l)o+=g}o=et.findGuardPattern(n,o,!0,et.MIDDLE_PATTERN,new Int32Array(et.MIDDLE_PATTERN.length).fill(0))[1];for(let f=0;f<4&&o<r;f++){let d=et.decodeDigit(n,l,o,et.L_PATTERNS);a+=String.fromCharCode(48+d);for(let g of l)o+=g}return{rowOffset:o,resultString:a}}getBarcodeFormat(){return Ce.EAN_8}}class oo extends et{constructor(){super(...arguments),this.ean13Reader=new Nr}getBarcodeFormat(){return Ce.UPC_A}decode(n,i){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,i,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,i,a))}decodeMiddle(n,i,a){return this.ean13Reader.decodeMiddle(n,i,a)}maybeReturnResult(n){let i=n.getText();if(i.charAt(0)==="0"){let a=new Ct(i.substring(1),null,null,n.getResultPoints(),Ce.UPC_A);return n.getResultMetadata()!=null&&a.putAllMetadata(n.getResultMetadata()),a}else throw new $}reset(){this.ean13Reader.reset()}}class Yn extends et{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,i,a){const l=this.decodeMiddleCounters.map(d=>d);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const r=n.getSize();let o=i[1],u=0;for(let d=0;d<6&&o<r;d++){const g=Yn.decodeDigit(n,l,o,Yn.L_AND_G_PATTERNS);a+=String.fromCharCode(48+g%10);for(let x of l)o+=x;g>=10&&(u|=1<<5-d)}let f=Yn.determineNumSysAndCheckDigit(a,u);return{rowOffset:o,resultString:f}}decodeEnd(n,i){return Yn.findGuardPatternWithoutCounters(n,i,!0,Yn.MIDDLE_END_PATTERN)}checkChecksum(n){return et.checkChecksum(Yn.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,i){for(let a=0;a<=1;a++)for(let l=0;l<10;l++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][l]){let r=String.fromCharCode(48+a),o=String.fromCharCode(48+l);return r+n+o}throw $.getNotFoundInstance()}getBarcodeFormat(){return Ce.UPC_E}static convertUPCEtoUPCA(n){const i=n.slice(1,7).split("").map(r=>r.charCodeAt(0)),a=new Fe;a.append(n.charAt(0));let l=i[5];switch(l){case 0:case 1:case 2:a.appendChars(i,0,2),a.append(l),a.append("0000"),a.appendChars(i,2,3);break;case 3:a.appendChars(i,0,3),a.append("00000"),a.appendChars(i,3,2);break;case 4:a.appendChars(i,0,4),a.append("00000"),a.append(i[4]);break;default:a.appendChars(i,0,5),a.append("0000"),a.append(l);break}return n.length>=8&&a.append(n.charAt(7)),a.toString()}}Yn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Yn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class xa extends Ot{constructor(n){super();let i=n==null?null:n.get(ne.POSSIBLE_FORMATS),a=[];c(i)?(a.push(new Nr),a.push(new oo),a.push(new ma),a.push(new Yn)):(i.indexOf(Ce.EAN_13)>-1&&a.push(new Nr),i.indexOf(Ce.UPC_A)>-1&&a.push(new oo),i.indexOf(Ce.EAN_8)>-1&&a.push(new ma),i.indexOf(Ce.UPC_E)>-1&&a.push(new Yn)),this.readers=a}decodeRow(n,i,a){for(let l of this.readers)try{const r=l.decodeRow(n,i,a),o=r.getBarcodeFormat()===Ce.EAN_13&&r.getText().charAt(0)==="0",u=a==null?null:a.get(ne.POSSIBLE_FORMATS),f=u==null||u.includes(Ce.UPC_A);if(o&&f){const d=r.getRawBytes(),g=new Ct(r.getText().substring(1),d,d?d.length:null,r.getResultPoints(),Ce.UPC_A);return g.putAllMetadata(r.getResultMetadata()),g}return r}catch{}throw new $}reset(){for(let n of this.readers)n.reset()}}class Pt extends Ot{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(n,i){for(let a=0;a<i.length;a++)if(Ot.patternMatchVariance(n,i[a],Pt.MAX_INDIVIDUAL_VARIANCE)<Pt.MAX_AVG_VARIANCE)return a;throw new $}static count(n){return Ze.sum(new Int32Array(n))}static increment(n,i){let a=0,l=i[0];for(let r=1;r<n.length;r++)i[r]>l&&(l=i[r],a=r);n[a]++}static decrement(n,i){let a=0,l=i[0];for(let r=1;r<n.length;r++)i[r]<l&&(l=i[r],a=r);n[a]--}static isFinderPattern(n){let i=n[0]+n[1],a=i+n[2]+n[3],l=i/a;if(l>=Pt.MIN_FINDER_PATTERN_RATIO&&l<=Pt.MAX_FINDER_PATTERN_RATIO){let r=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER;for(let u of n)u>o&&(o=u),u<r&&(r=u);return o<10*r}return!1}}Pt.MAX_AVG_VARIANCE=.2,Pt.MAX_INDIVIDUAL_VARIANCE=.45,Pt.MIN_FINDER_PATTERN_RATIO=9.5/12,Pt.MAX_FINDER_PATTERN_RATIO=12.5/14;class qn{constructor(n,i){this.value=n,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof qn))return!1;const i=n;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ri{constructor(n,i,a,l,r){this.value=n,this.startEnd=i,this.value=n,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new xe(a,r)),this.resultPoints.push(new xe(l,r))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof Ri))return!1;const i=n;return this.value===i.value}hashCode(){return this.value}}class Sn{constructor(){}static getRSSvalue(n,i,a){let l=0;for(let f of n)l+=f;let r=0,o=0,u=n.length;for(let f=0;f<u-1;f++){let d;for(d=1,o|=1<<f;d<n[f];d++,o&=~(1<<f)){let g=Sn.combins(l-d-1,u-f-2);if(a&&o===0&&l-d-(u-f-1)>=u-f-1&&(g-=Sn.combins(l-d-(u-f),u-f-2)),u-f-1>1){let x=0;for(let y=l-d-(u-f-2);y>i;y--)x+=Sn.combins(l-d-y-1,u-f-3);g-=x*(u-1-f)}else l-d>i&&g--;r+=g}l-=d}return r}static combins(n,i){let a,l;n-i>i?(l=i,a=n-i):(l=n-i,a=i);let r=1,o=1;for(let u=n;u>a;u--)r*=u,o<=l&&(r/=o,o++);for(;o<=l;)r/=o,o++;return r}}class At{static buildBitArray(n){let i=n.length*2-1;n[n.length-1].getRightChar()==null&&(i-=1);let a=12*i,l=new z(a),r=0,u=n[0].getRightChar().getValue();for(let f=11;f>=0;--f)u&1<<f&&l.set(r),r++;for(let f=1;f<n.length;++f){let d=n[f],g=d.getLeftChar().getValue();for(let x=11;x>=0;--x)g&1<<x&&l.set(r),r++;if(d.getRightChar()!=null){let x=d.getRightChar().getValue();for(let y=11;y>=0;--y)x&1<<y&&l.set(r),r++}}return l}}class St{constructor(n,i){i?this.decodedInformation=null:(this.finished=n,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ya{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}class tn extends ya{constructor(n,i){super(n),this.value=i}getValue(){return this.value}isFNC1(){return this.value===tn.FNC1}}tn.FNC1="$";class hr extends ya{constructor(n,i,a){super(n),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class hn extends ya{constructor(n,i,a){if(super(n),i<0||i>10||a<0||a>10)throw new W;this.firstDigit=i,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===hn.FNC1}isSecondDigitFNC1(){return this.secondDigit===hn.FNC1}isAnyFNC1(){return this.firstDigit===hn.FNC1||this.secondDigit===hn.FNC1}}hn.FNC1=10;class ye{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new $;let i=n.substring(0,2);for(let r of ye.TWO_DIGIT_DATA_LENGTH)if(r[0]===i)return r[1]===ye.VARIABLE_LENGTH?ye.processVariableAI(2,r[2],n):ye.processFixedAI(2,r[1],n);if(n.length<3)throw new $;let a=n.substring(0,3);for(let r of ye.THREE_DIGIT_DATA_LENGTH)if(r[0]===a)return r[1]===ye.VARIABLE_LENGTH?ye.processVariableAI(3,r[2],n):ye.processFixedAI(3,r[1],n);for(let r of ye.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(r[0]===a)return r[1]===ye.VARIABLE_LENGTH?ye.processVariableAI(4,r[2],n):ye.processFixedAI(4,r[1],n);if(n.length<4)throw new $;let l=n.substring(0,4);for(let r of ye.FOUR_DIGIT_DATA_LENGTH)if(r[0]===l)return r[1]===ye.VARIABLE_LENGTH?ye.processVariableAI(4,r[2],n):ye.processFixedAI(4,r[1],n);throw new $}static processFixedAI(n,i,a){if(a.length<n)throw new $;let l=a.substring(0,n);if(a.length<n+i)throw new $;let r=a.substring(n,n+i),o=a.substring(n+i),u="("+l+")"+r,f=ye.parseFieldsInGeneralPurpose(o);return f==null?u:u+f}static processVariableAI(n,i,a){let l=a.substring(0,n),r;a.length<n+i?r=a.length:r=n+i;let o=a.substring(n,r),u=a.substring(r),f="("+l+")"+o,d=ye.parseFieldsInGeneralPurpose(u);return d==null?f:f+d}}ye.VARIABLE_LENGTH=[],ye.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ye.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ye.VARIABLE_LENGTH,20],["22",ye.VARIABLE_LENGTH,29],["30",ye.VARIABLE_LENGTH,8],["37",ye.VARIABLE_LENGTH,8],["90",ye.VARIABLE_LENGTH,30],["91",ye.VARIABLE_LENGTH,30],["92",ye.VARIABLE_LENGTH,30],["93",ye.VARIABLE_LENGTH,30],["94",ye.VARIABLE_LENGTH,30],["95",ye.VARIABLE_LENGTH,30],["96",ye.VARIABLE_LENGTH,30],["97",ye.VARIABLE_LENGTH,3],["98",ye.VARIABLE_LENGTH,30],["99",ye.VARIABLE_LENGTH,30]],ye.THREE_DIGIT_DATA_LENGTH=[["240",ye.VARIABLE_LENGTH,30],["241",ye.VARIABLE_LENGTH,30],["242",ye.VARIABLE_LENGTH,6],["250",ye.VARIABLE_LENGTH,30],["251",ye.VARIABLE_LENGTH,30],["253",ye.VARIABLE_LENGTH,17],["254",ye.VARIABLE_LENGTH,20],["400",ye.VARIABLE_LENGTH,30],["401",ye.VARIABLE_LENGTH,30],["402",17],["403",ye.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ye.VARIABLE_LENGTH,20],["421",ye.VARIABLE_LENGTH,15],["422",3],["423",ye.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ye.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ye.VARIABLE_LENGTH,15],["391",ye.VARIABLE_LENGTH,18],["392",ye.VARIABLE_LENGTH,15],["393",ye.VARIABLE_LENGTH,18],["703",ye.VARIABLE_LENGTH,30]],ye.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ye.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ye.VARIABLE_LENGTH,20],["8003",ye.VARIABLE_LENGTH,30],["8004",ye.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ye.VARIABLE_LENGTH,30],["8008",ye.VARIABLE_LENGTH,12],["8018",18],["8020",ye.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ye.VARIABLE_LENGTH,70],["8200",ye.VARIABLE_LENGTH,70]];class In{constructor(n){this.buffer=new Fe,this.information=n}decodeAllCodes(n,i){let a=i,l=null;do{let r=this.decodeGeneralPurposeField(a,l),o=ye.parseFieldsInGeneralPurpose(r.getNewString());if(o!=null&&n.append(o),r.isRemaining()?l=""+r.getRemainingValue():l=null,a===r.getNewPosition())break;a=r.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let i=n;i<n+3;++i)if(this.information.get(i))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let r=this.extractNumericValueFromBitArray(n,4);return r===0?new hn(this.information.getSize(),hn.FNC1,hn.FNC1):new hn(this.information.getSize(),r-1,hn.FNC1)}let i=this.extractNumericValueFromBitArray(n,7),a=(i-8)/11,l=(i-8)%11;return new hn(n+7,a,l)}extractNumericValueFromBitArray(n,i){return In.extractNumericValueFromBitArray(this.information,n,i)}static extractNumericValueFromBitArray(n,i,a){let l=0;for(let r=0;r<a;++r)n.get(i+r)&&(l|=1<<a-r-1);return l}decodeGeneralPurposeField(n,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(n);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new hr(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new hr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,i;do{let a=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),n=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),n=i.isFinished()):(i=this.parseNumericBlock(),n=i.isFinished()),!(a!==this.current.getPosition())&&!n)break}while(!n);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let i;return n.isSecondDigitFNC1()?i=new hr(this.current.getPosition(),this.buffer.toString()):i=new hr(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new St(!0,i)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let i=new hr(this.current.getPosition(),this.buffer.toString());return new St(!0,i)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new St(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new hr(this.current.getPosition(),this.buffer.toString());return new St(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new St(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new hr(this.current.getPosition(),this.buffer.toString());return new St(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new St(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(n,7);if(a>=64&&a<116)return!0;if(n+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(n,8);return l>=232&&l<253}decodeIsoIec646(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new tn(n+5,tn.FNC1);if(i>=5&&i<15)return new tn(n+5,"0"+(i-5));let a=this.extractNumericValueFromBitArray(n,7);if(a>=64&&a<90)return new tn(n+7,""+(a+1));if(a>=90&&a<116)return new tn(n+7,""+(a+7));let l=this.extractNumericValueFromBitArray(n,8),r;switch(l){case 232:r="!";break;case 233:r='"';break;case 234:r="%";break;case 235:r="&";break;case 236:r="'";break;case 237:r="(";break;case 238:r=")";break;case 239:r="*";break;case 240:r="+";break;case 241:r=",";break;case 242:r="-";break;case 243:r=".";break;case 244:r="/";break;case 245:r=":";break;case 246:r=";";break;case 247:r="<";break;case 248:r="=";break;case 249:r=">";break;case 250:r="?";break;case 251:r="_";break;case 252:r=" ";break;default:throw new W}return new tn(n+8,r)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(n,6);return a>=16&&a<63}decodeAlphanumeric(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new tn(n+5,tn.FNC1);if(i>=5&&i<15)return new tn(n+5,"0"+(i-5));let a=this.extractNumericValueFromBitArray(n,6);if(a>=32&&a<58)return new tn(n+6,""+(a+33));let l;switch(a){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new an("Decoding invalid alphanumeric value: "+a)}return new tn(n+6,l)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<5&&i+n<this.information.getSize();++i)if(i===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+i))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let i=n;i<n+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<4&&i+n<this.information.getSize();++i)if(this.information.get(n+i))return!1;return!0}}class Kr{constructor(n){this.information=n,this.generalDecoder=new In(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Mt extends Kr{constructor(n){super(n)}encodeCompressedGtin(n,i){n.append("(01)");let a=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,i,a)}encodeCompressedGtinWithoutAI(n,i,a){for(let l=0;l<4;++l){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*l,10);r/100===0&&n.append("0"),r/10===0&&n.append("0"),n.append(r)}Mt.appendCheckDigit(n,a)}static appendCheckDigit(n,i){let a=0;for(let l=0;l<13;l++){let r=n.charAt(l+i).charCodeAt(0)-48;a+=l&1?r:3*r}a=10-a%10,a===10&&(a=0),n.append(a)}}Mt.GTIN_SIZE=40;class Or extends Mt{constructor(n){super(n)}parseInformation(){let n=new Fe;n.append("(01)");let i=n.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(Or.HEADER_SIZE,4);return n.append(a),this.encodeCompressedGtinWithoutAI(n,Or.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(n,Or.HEADER_SIZE+44)}}Or.HEADER_SIZE=4;class ao extends Kr{constructor(n){super(n)}parseInformation(){let n=new Fe;return this.getGeneralDecoder().decodeAllCodes(n,ao.HEADER_SIZE)}}ao.HEADER_SIZE=5;class Qn extends Mt{constructor(n){super(n)}encodeCompressedWeight(n,i,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i,a);this.addWeightCode(n,l);let r=this.checkWeight(l),o=1e5;for(let u=0;u<5;++u)r/o===0&&n.append("0"),o/=10;n.append(r)}}class Zn extends Qn{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()!=Zn.HEADER_SIZE+Qn.GTIN_SIZE+Zn.WEIGHT_SIZE)throw new $;let n=new Fe;return this.encodeCompressedGtin(n,Zn.HEADER_SIZE),this.encodeCompressedWeight(n,Zn.HEADER_SIZE+Qn.GTIN_SIZE,Zn.WEIGHT_SIZE),n.toString()}}Zn.HEADER_SIZE=5,Zn.WEIGHT_SIZE=15;class li extends Zn{constructor(n){super(n)}addWeightCode(n,i){n.append("(3103)")}checkWeight(n){return n}}class Ol extends Zn{constructor(n){super(n)}addWeightCode(n,i){i<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}class Mn extends Mt{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Mn.HEADER_SIZE+Mt.GTIN_SIZE)throw new $;let n=new Fe;this.encodeCompressedGtin(n,Mn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Mn.HEADER_SIZE+Mt.GTIN_SIZE,Mn.LAST_DIGIT_SIZE);n.append("(392"),n.append(i),n.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(Mn.HEADER_SIZE+Mt.GTIN_SIZE+Mn.LAST_DIGIT_SIZE,null);return n.append(a.getNewString()),n.toString()}}Mn.HEADER_SIZE=8,Mn.LAST_DIGIT_SIZE=2;class Xe extends Mt{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Xe.HEADER_SIZE+Mt.GTIN_SIZE)throw new $;let n=new Fe;this.encodeCompressedGtin(n,Xe.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Xe.HEADER_SIZE+Mt.GTIN_SIZE,Xe.LAST_DIGIT_SIZE);n.append("(393"),n.append(i),n.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(Xe.HEADER_SIZE+Mt.GTIN_SIZE+Xe.LAST_DIGIT_SIZE,Xe.FIRST_THREE_DIGITS_SIZE);a/100==0&&n.append("0"),a/10==0&&n.append("0"),n.append(a);let l=this.getGeneralDecoder().decodeGeneralPurposeField(Xe.HEADER_SIZE+Mt.GTIN_SIZE+Xe.LAST_DIGIT_SIZE+Xe.FIRST_THREE_DIGITS_SIZE,null);return n.append(l.getNewString()),n.toString()}}Xe.HEADER_SIZE=8,Xe.LAST_DIGIT_SIZE=2,Xe.FIRST_THREE_DIGITS_SIZE=10;class ot extends Qn{constructor(n,i,a){super(n),this.dateCode=a,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=ot.HEADER_SIZE+ot.GTIN_SIZE+ot.WEIGHT_SIZE+ot.DATE_SIZE)throw new $;let n=new Fe;return this.encodeCompressedGtin(n,ot.HEADER_SIZE),this.encodeCompressedWeight(n,ot.HEADER_SIZE+ot.GTIN_SIZE,ot.WEIGHT_SIZE),this.encodeCompressedDate(n,ot.HEADER_SIZE+ot.GTIN_SIZE+ot.WEIGHT_SIZE),n.toString()}encodeCompressedDate(n,i){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(i,ot.DATE_SIZE);if(a==38400)return;n.append("("),n.append(this.dateCode),n.append(")");let l=a%32;a/=32;let r=a%12+1;a/=12;let o=a;o/10==0&&n.append("0"),n.append(o),r/10==0&&n.append("0"),n.append(r),l/10==0&&n.append("0"),n.append(l)}addWeightCode(n,i){n.append("("),n.append(this.firstAIdigits),n.append(i/1e5),n.append(")")}checkWeight(n){return n%1e5}}ot.HEADER_SIZE=8,ot.WEIGHT_SIZE=20,ot.DATE_SIZE=16;function dr(A){try{if(A.get(1))return new Or(A);if(!A.get(2))return new ao(A);switch(In.extractNumericValueFromBitArray(A,1,4)){case 4:return new li(A);case 5:return new Ol(A)}switch(In.extractNumericValueFromBitArray(A,1,5)){case 12:return new Mn(A);case 13:return new Xe(A)}switch(In.extractNumericValueFromBitArray(A,1,7)){case 56:return new ot(A,"310","11");case 57:return new ot(A,"320","11");case 58:return new ot(A,"310","13");case 59:return new ot(A,"320","13");case 60:return new ot(A,"310","15");case 61:return new ot(A,"320","15");case 62:return new ot(A,"310","17");case 63:return new ot(A,"320","17")}}catch(n){throw console.log(n),new an("unknown decoder: "+A)}}class Rr{constructor(n,i,a,l){this.leftchar=n,this.rightchar=i,this.finderpattern=a,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,i){return n instanceof Rr?Rr.equalsOrNull(n.leftchar,i.leftchar)&&Rr.equalsOrNull(n.rightchar,i.rightchar)&&Rr.equalsOrNull(n.finderpattern,i.finderpattern):!1}static equalsOrNull(n,i){return n===null?i===null:Rr.equals(n,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Yr{constructor(n,i,a){this.pairs=n,this.rowNumber=i,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,i){return n instanceof Yr?this.checkEqualitity(n,i)&&n.wasReversed===i.wasReversed:!1}checkEqualitity(n,i){if(!n||!i)return;let a;return n.forEach((l,r)=>{i.forEach(o=>{l.getLeftChar().getValue()===o.getLeftChar().getValue()&&l.getRightChar().getValue()===o.getRightChar().getValue()&&l.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(a=!0)})}),a}}class re extends Pt{constructor(n){super(...arguments),this.pairs=new Array(re.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,i,a){this.pairs.length=0,this.startFromEven=!1;try{return re.constructResult(this.decodeRow2pairs(n,i))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,re.constructResult(this.decodeRow2pairs(n,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,i){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,n))}catch(r){if(r instanceof $){if(!this.pairs.length)throw new $;a=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(n,!1),l){let r=this.checkRowsBoolean(!1);if(r!=null||(r=this.checkRowsBoolean(!0),r!=null))return r}throw new $}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return n&&(this.rows=this.rows.reverse()),i}checkRows(n,i){for(let a=i;a<this.rows.length;a++){let l=this.rows[a];this.pairs.length=0;for(let o of n)this.pairs.push(o.getPairs());if(this.pairs.push(l.getPairs()),!re.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let r=new Array(n);r.push(l);try{return this.checkRows(r,a+1)}catch(o){this.verbose&&console.log(o)}}throw new $}static isValidSequence(n){for(let i of re.FINDER_PATTERN_SEQUENCES){if(n.length>i.length)continue;let a=!0;for(let l=0;l<n.length;l++)if(n[l].getFinderPattern().getValue()!=i[l]){a=!1;break}if(a)return!0}return!1}storeRow(n,i){let a=0,l=!1,r=!1;for(;a<this.rows.length;){let o=this.rows[a];if(o.getRowNumber()>n){r=o.isEquivalent(this.pairs);break}l=o.isEquivalent(this.pairs),a++}r||l||re.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new Yr(this.pairs,n,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,i){for(let a of i)if(a.getPairs().length!==n.length){for(let l of a.getPairs())for(let r of n)if(Rr.equals(l,r))break}}static isPartialRow(n,i){for(let a of i){let l=!0;for(let r of n){let o=!1;for(let u of a.getPairs())if(r.equals(u)){o=!0;break}if(!o){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(n){let i=At.buildBitArray(n),l=dr(i).parseInformation(),r=n[0].getFinderPattern().getResultPoints(),o=n[n.length-1].getFinderPattern().getResultPoints(),u=[r[0],r[1],o[0],o[1]];return new Ct(l,null,null,u,Ce.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),i=n.getLeftChar(),a=n.getRightChar();if(a==null)return!1;let l=a.getChecksumPortion(),r=2;for(let u=1;u<this.pairs.size();++u){let f=this.pairs.get(u);l+=f.getLeftChar().getChecksumPortion(),r++;let d=f.getRightChar();d!=null&&(l+=d.getChecksumPortion(),r++)}return l%=211,211*(r-4)+l==i.getValue()}static getNextSecondBar(n,i){let a;return n.get(i)?(a=n.getNextUnset(i),a=n.getNextSet(a)):(a=n.getNextSet(i),a=n.getNextUnset(a)),a}retrieveNextPair(n,i,a){let l=i.length%2==0;this.startFromEven&&(l=!l);let r,o=!0,u=-1;do this.findNextPair(n,i,u),r=this.parseFoundFinderPattern(n,a,l),r==null?u=re.getNextSecondBar(n,this.startEnd[0]):o=!1;while(o);let f=this.decodeDataCharacter(n,r,l,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new $;let d;try{d=this.decodeDataCharacter(n,r,l,!1)}catch(g){d=null,this.verbose&&console.log(g)}return new Rr(f,d,r,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,i,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let r=n.getSize(),o;a>=0?o=a:this.isEmptyPair(i)?o=0:o=i[i.length-1].getFinderPattern().getStartEnd()[1];let u=i.length%2!=0;this.startFromEven&&(u=!u);let f=!1;for(;o<r&&(f=!n.get(o),!!f);)o++;let d=0,g=o;for(let x=o;x<r;x++)if(n.get(x)!=f)l[d]++;else{if(d==3){if(u&&re.reverseCounters(l),re.isFinderPattern(l)){this.startEnd[0]=g,this.startEnd[1]=x;return}u&&re.reverseCounters(l),g+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,d--}else d++;l[d]=1,f=!f}throw new $}static reverseCounters(n){let i=n.length;for(let a=0;a<i/2;++a){let l=n[a];n[a]=n[i-a-1],n[i-a-1]=l}}parseFoundFinderPattern(n,i,a){let l,r,o;if(a){let d=this.startEnd[0]-1;for(;d>=0&&!n.get(d);)d--;d++,l=this.startEnd[0]-d,r=d,o=this.startEnd[1]}else r=this.startEnd[0],o=n.getNextUnset(this.startEnd[1]+1),l=o-this.startEnd[1];let u=this.getDecodeFinderCounters();G.arraycopy(u,0,u,1,u.length-1),u[0]=l;let f;try{f=this.parseFinderValue(u,re.FINDER_PATTERNS)}catch{return null}return new Ri(f,[r,o],r,o,i)}decodeDataCharacter(n,i,a,l){let r=this.getDataCharacterCounters();for(let J=0;J<r.length;J++)r[J]=0;if(l)re.recordPatternInReverse(n,i.getStartEnd()[0],r);else{re.recordPattern(n,i.getStartEnd()[1],r);for(let J=0,le=r.length-1;J<le;J++,le--){let ae=r[J];r[J]=r[le],r[le]=ae}}let o=17,u=Ze.sum(new Int32Array(r))/o,f=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(u-f)/f>.3)throw new $;let d=this.getOddCounts(),g=this.getEvenCounts(),x=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors();for(let J=0;J<r.length;J++){let le=1*r[J]/u,ae=le+.5;if(ae<1){if(le<.3)throw new $;ae=1}else if(ae>8){if(le>8.7)throw new $;ae=8}let fe=J/2;J&1?(g[fe]=ae,y[fe]=le-ae):(d[fe]=ae,x[fe]=le-ae)}this.adjustOddEvenCounts(o);let C=4*i.getValue()+(a?0:2)+(l?0:1)-1,S=0,_=0;for(let J=d.length-1;J>=0;J--){if(re.isNotA1left(i,a,l)){let le=re.WEIGHTS[C][2*J];_+=d[J]*le}S+=d[J]}let b=0;for(let J=g.length-1;J>=0;J--)if(re.isNotA1left(i,a,l)){let le=re.WEIGHTS[C][2*J+1];b+=g[J]*le}let N=_+b;if(S&1||S>13||S<4)throw new $;let D=(13-S)/2,k=re.SYMBOL_WIDEST[D],M=9-k,F=Sn.getRSSvalue(d,k,!0),j=Sn.getRSSvalue(g,M,!1),X=re.EVEN_TOTAL_SUBSET[D],Y=re.GSUM[D],Z=F*X+j+Y;return new qn(Z,N)}static isNotA1left(n,i,a){return!(n.getValue()==0&&i&&a)}adjustOddEvenCounts(n){let i=Ze.sum(new Int32Array(this.getOddCounts())),a=Ze.sum(new Int32Array(this.getEvenCounts())),l=!1,r=!1;i>13?r=!0:i<4&&(l=!0);let o=!1,u=!1;a>13?u=!0:a<4&&(o=!0);let f=i+a-n,d=(i&1)==1,g=(a&1)==0;if(f==1)if(d){if(g)throw new $;r=!0}else{if(!g)throw new $;u=!0}else if(f==-1)if(d){if(g)throw new $;l=!0}else{if(!g)throw new $;o=!0}else if(f==0){if(d){if(!g)throw new $;i<a?(l=!0,u=!0):(r=!0,o=!0)}else if(g)throw new $}else throw new $;if(l){if(r)throw new $;re.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(r&&re.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(u)throw new $;re.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&re.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}re.SYMBOL_WIDEST=[7,5,4,3,1],re.EVEN_TOTAL_SUBSET=[4,20,52,104,204],re.GSUM=[0,348,1388,2948,3988],re.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],re.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],re.FINDER_PAT_A=0,re.FINDER_PAT_B=1,re.FINDER_PAT_C=2,re.FINDER_PAT_D=3,re.FINDER_PAT_E=4,re.FINDER_PAT_F=5,re.FINDER_PATTERN_SEQUENCES=[[re.FINDER_PAT_A,re.FINDER_PAT_A],[re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B],[re.FINDER_PAT_A,re.FINDER_PAT_C,re.FINDER_PAT_B,re.FINDER_PAT_D],[re.FINDER_PAT_A,re.FINDER_PAT_E,re.FINDER_PAT_B,re.FINDER_PAT_D,re.FINDER_PAT_C],[re.FINDER_PAT_A,re.FINDER_PAT_E,re.FINDER_PAT_B,re.FINDER_PAT_D,re.FINDER_PAT_D,re.FINDER_PAT_F],[re.FINDER_PAT_A,re.FINDER_PAT_E,re.FINDER_PAT_B,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_F,re.FINDER_PAT_F],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_D],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_E],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_F,re.FINDER_PAT_F],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_E,re.FINDER_PAT_F,re.FINDER_PAT_F]],re.MAX_PAIRS=11;class wa extends qn{constructor(n,i,a){super(n,i),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class It extends Pt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,i,a){const l=this.decodePair(i,!1,n,a);It.addOrTally(this.possibleLeftPairs,l),i.reverse();let r=this.decodePair(i,!0,n,a);It.addOrTally(this.possibleRightPairs,r),i.reverse();for(let o of this.possibleLeftPairs)if(o.getCount()>1){for(let u of this.possibleRightPairs)if(u.getCount()>1&&It.checkChecksum(o,u))return It.constructResult(o,u)}throw new $}static addOrTally(n,i){if(i==null)return;let a=!1;for(let l of n)if(l.getValue()===i.getValue()){l.incrementCount(),a=!0;break}a||n.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,i){let a=4537077*n.getValue()+i.getValue(),l=new String(a).toString(),r=new Fe;for(let d=13-l.length;d>0;d--)r.append("0");r.append(l);let o=0;for(let d=0;d<13;d++){let g=r.charAt(d).charCodeAt(0)-48;o+=d&1?g:3*g}o=10-o%10,o===10&&(o=0),r.append(o.toString());let u=n.getFinderPattern().getResultPoints(),f=i.getFinderPattern().getResultPoints();return new Ct(r.toString(),null,0,[u[0],u[1],f[0],f[1]],Ce.RSS_14,new Date().getTime())}static checkChecksum(n,i){let a=(n.getChecksumPortion()+16*i.getChecksumPortion())%79,l=9*n.getFinderPattern().getValue()+i.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,a===l}decodePair(n,i,a,l){try{let r=this.findFinderPattern(n,i),o=this.parseFoundFinderPattern(n,a,i,r),u=l==null?null:l.get(ne.NEED_RESULT_POINT_CALLBACK);if(u!=null){let g=(r[0]+r[1])/2;i&&(g=n.getSize()-1-g),u.foundPossibleResultPoint(new xe(g,a))}let f=this.decodeDataCharacter(n,o,!0),d=this.decodeDataCharacter(n,o,!1);return new wa(1597*f.getValue()+d.getValue(),f.getChecksumPortion()+4*d.getChecksumPortion(),o)}catch{return null}}decodeDataCharacter(n,i,a){let l=this.getDataCharacterCounters();for(let b=0;b<l.length;b++)l[b]=0;if(a)Ot.recordPatternInReverse(n,i.getStartEnd()[0],l);else{Ot.recordPattern(n,i.getStartEnd()[1]+1,l);for(let b=0,N=l.length-1;b<N;b++,N--){let D=l[b];l[b]=l[N],l[N]=D}}let r=a?16:15,o=Ze.sum(new Int32Array(l))/r,u=this.getOddCounts(),f=this.getEvenCounts(),d=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors();for(let b=0;b<l.length;b++){let N=l[b]/o,D=Math.floor(N+.5);D<1?D=1:D>8&&(D=8);let k=Math.floor(b/2);b&1?(f[k]=D,g[k]=N-D):(u[k]=D,d[k]=N-D)}this.adjustOddEvenCounts(a,r);let x=0,y=0;for(let b=u.length-1;b>=0;b--)y*=9,y+=u[b],x+=u[b];let C=0,S=0;for(let b=f.length-1;b>=0;b--)C*=9,C+=f[b],S+=f[b];let _=y+3*C;if(a){if(x&1||x>12||x<4)throw new $;let b=(12-x)/2,N=It.OUTSIDE_ODD_WIDEST[b],D=9-N,k=Sn.getRSSvalue(u,N,!1),M=Sn.getRSSvalue(f,D,!0),F=It.OUTSIDE_EVEN_TOTAL_SUBSET[b],j=It.OUTSIDE_GSUM[b];return new qn(k*F+M+j,_)}else{if(S&1||S>10||S<4)throw new $;let b=(10-S)/2,N=It.INSIDE_ODD_WIDEST[b],D=9-N,k=Sn.getRSSvalue(u,N,!0),M=Sn.getRSSvalue(f,D,!1),F=It.INSIDE_ODD_TOTAL_SUBSET[b],j=It.INSIDE_GSUM[b];return new qn(M*F+k+j,_)}}findFinderPattern(n,i){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=n.getSize(),r=!1,o=0;for(;o<l&&(r=!n.get(o),i!==r);)o++;let u=0,f=o;for(let d=o;d<l;d++)if(n.get(d)!==r)a[u]++;else{if(u===3){if(Pt.isFinderPattern(a))return[f,d];f+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,u--}else u++;a[u]=1,r=!r}throw new $}parseFoundFinderPattern(n,i,a,l){let r=n.get(l[0]),o=l[0]-1;for(;o>=0&&r!==n.get(o);)o--;o++;const u=l[0]-o,f=this.getDecodeFinderCounters(),d=new Int32Array(f.length);G.arraycopy(f,0,d,1,f.length-1),d[0]=u;const g=this.parseFinderValue(d,It.FINDER_PATTERNS);let x=o,y=l[1];return a&&(x=n.getSize()-1-x,y=n.getSize()-1-y),new Ri(g,[o,l[1]],x,y,i)}adjustOddEvenCounts(n,i){let a=Ze.sum(new Int32Array(this.getOddCounts())),l=Ze.sum(new Int32Array(this.getEvenCounts())),r=!1,o=!1,u=!1,f=!1;n?(a>12?o=!0:a<4&&(r=!0),l>12?f=!0:l<4&&(u=!0)):(a>11?o=!0:a<5&&(r=!0),l>10?f=!0:l<4&&(u=!0));let d=a+l-i,g=(a&1)===(n?1:0),x=(l&1)===1;if(d===1)if(g){if(x)throw new $;o=!0}else{if(!x)throw new $;f=!0}else if(d===-1)if(g){if(x)throw new $;r=!0}else{if(!x)throw new $;u=!0}else if(d===0){if(g){if(!x)throw new $;a<l?(r=!0,f=!0):(o=!0,u=!0)}else if(x)throw new $}else throw new $;if(r){if(o)throw new $;Pt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&Pt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new $;Pt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&Pt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}It.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],It.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],It.OUTSIDE_GSUM=[0,161,961,2015,2715],It.INSIDE_GSUM=[0,336,1036,1516],It.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],It.INSIDE_ODD_WIDEST=[2,4,6,8],It.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Bn extends Ot{constructor(n,i){super(),this.readers=[],this.verbose=i===!0;const a=n?n.get(ne.POSSIBLE_FORMATS):null,l=n&&n.get(ne.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(Ce.EAN_13)||a.includes(Ce.UPC_A)||a.includes(Ce.EAN_8)||a.includes(Ce.UPC_E))&&this.readers.push(new xa(n)),a.includes(Ce.CODE_39)&&this.readers.push(new ge(l)),a.includes(Ce.CODE_128)&&this.readers.push(new ce),a.includes(Ce.ITF)&&this.readers.push(new it),a.includes(Ce.RSS_14)&&this.readers.push(new It),a.includes(Ce.RSS_EXPANDED)&&this.readers.push(new re(this.verbose))):(this.readers.push(new xa(n)),this.readers.push(new ge),this.readers.push(new xa(n)),this.readers.push(new ce),this.readers.push(new it),this.readers.push(new It),this.readers.push(new re(this.verbose)))}decodeRow(n,i,a){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(n,i,a)}catch{}throw new $}reset(){this.readers.forEach(n=>n.reset())}}class Rl extends Zt{constructor(n=500,i){super(new Bn(i),n,i)}}class Je{constructor(n,i,a){this.ecCodewords=n,this.ecBlocks=[i],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class tt{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class we{constructor(n,i,a,l,r,o){this.versionNumber=n,this.symbolSizeRows=i,this.symbolSizeColumns=a,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=r,this.ecBlocks=o;let u=0;const f=o.getECCodewords(),d=o.getECBlocks();for(let g of d)u+=g.getCount()*(g.getDataCodewords()+f);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,i){if(n&1||i&1)throw new W;for(let a of we.VERSIONS)if(a.symbolSizeRows===n&&a.symbolSizeColumns===i)return a;throw new W}toString(){return""+this.versionNumber}static buildVersions(){return[new we(1,10,10,8,8,new Je(5,new tt(1,3))),new we(2,12,12,10,10,new Je(7,new tt(1,5))),new we(3,14,14,12,12,new Je(10,new tt(1,8))),new we(4,16,16,14,14,new Je(12,new tt(1,12))),new we(5,18,18,16,16,new Je(14,new tt(1,18))),new we(6,20,20,18,18,new Je(18,new tt(1,22))),new we(7,22,22,20,20,new Je(20,new tt(1,30))),new we(8,24,24,22,22,new Je(24,new tt(1,36))),new we(9,26,26,24,24,new Je(28,new tt(1,44))),new we(10,32,32,14,14,new Je(36,new tt(1,62))),new we(11,36,36,16,16,new Je(42,new tt(1,86))),new we(12,40,40,18,18,new Je(48,new tt(1,114))),new we(13,44,44,20,20,new Je(56,new tt(1,144))),new we(14,48,48,22,22,new Je(68,new tt(1,174))),new we(15,52,52,24,24,new Je(42,new tt(2,102))),new we(16,64,64,14,14,new Je(56,new tt(2,140))),new we(17,72,72,16,16,new Je(36,new tt(4,92))),new we(18,80,80,18,18,new Je(48,new tt(4,114))),new we(19,88,88,20,20,new Je(56,new tt(4,144))),new we(20,96,96,22,22,new Je(68,new tt(4,174))),new we(21,104,104,24,24,new Je(56,new tt(6,136))),new we(22,120,120,18,18,new Je(68,new tt(6,175))),new we(23,132,132,20,20,new Je(62,new tt(8,163))),new we(24,144,144,22,22,new Je(62,new tt(8,156),new tt(2,155))),new we(25,8,18,6,16,new Je(7,new tt(1,5))),new we(26,8,32,6,14,new Je(11,new tt(1,10))),new we(27,12,26,10,24,new Je(14,new tt(1,16))),new we(28,12,36,10,16,new Je(18,new tt(1,22))),new we(29,16,36,14,16,new Je(24,new tt(1,32))),new we(30,16,48,14,22,new Je(28,new tt(1,49)))]}}we.VERSIONS=we.buildVersions();class lo{constructor(n){const i=n.getHeight();if(i<8||i>144||i&1)throw new W;this.version=lo.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new kt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){const i=n.getHeight(),a=n.getWidth();return we.getVersionForDimensions(i,a)}readCodewords(){const n=new Int8Array(this.version.getTotalCodewords());let i=0,a=4,l=0;const r=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth();let u=!1,f=!1,d=!1,g=!1;do if(a===r&&l===0&&!u)n[i++]=this.readCorner1(r,o)&255,a-=2,l+=2,u=!0;else if(a===r-2&&l===0&&o&3&&!f)n[i++]=this.readCorner2(r,o)&255,a-=2,l+=2,f=!0;else if(a===r+4&&l===2&&!(o&7)&&!d)n[i++]=this.readCorner3(r,o)&255,a-=2,l+=2,d=!0;else if(a===r-2&&l===0&&(o&7)===4&&!g)n[i++]=this.readCorner4(r,o)&255,a-=2,l+=2,g=!0;else{do a<r&&l>=0&&!this.readMappingMatrix.get(l,a)&&(n[i++]=this.readUtah(a,l,r,o)&255),a-=2,l+=2;while(a>=0&&l<o);a+=1,l+=3;do a>=0&&l<o&&!this.readMappingMatrix.get(l,a)&&(n[i++]=this.readUtah(a,l,r,o)&255),a+=2,l-=2;while(a<r&&l>=0);a+=3,l+=1}while(a<r||l<o);if(i!==this.version.getTotalCodewords())throw new W;return n}readModule(n,i,a,l){return n<0&&(n+=a,i+=4-(a+4&7)),i<0&&(i+=l,n+=4-(l+4&7)),this.readMappingMatrix.set(i,n),this.mappingBitMatrix.get(i,n)}readUtah(n,i,a,l){let r=0;return this.readModule(n-2,i-2,a,l)&&(r|=1),r<<=1,this.readModule(n-2,i-1,a,l)&&(r|=1),r<<=1,this.readModule(n-1,i-2,a,l)&&(r|=1),r<<=1,this.readModule(n-1,i-1,a,l)&&(r|=1),r<<=1,this.readModule(n-1,i,a,l)&&(r|=1),r<<=1,this.readModule(n,i-2,a,l)&&(r|=1),r<<=1,this.readModule(n,i-1,a,l)&&(r|=1),r<<=1,this.readModule(n,i,a,l)&&(r|=1),r}readCorner1(n,i){let a=0;return this.readModule(n-1,0,n,i)&&(a|=1),a<<=1,this.readModule(n-1,1,n,i)&&(a|=1),a<<=1,this.readModule(n-1,2,n,i)&&(a|=1),a<<=1,this.readModule(0,i-2,n,i)&&(a|=1),a<<=1,this.readModule(0,i-1,n,i)&&(a|=1),a<<=1,this.readModule(1,i-1,n,i)&&(a|=1),a<<=1,this.readModule(2,i-1,n,i)&&(a|=1),a<<=1,this.readModule(3,i-1,n,i)&&(a|=1),a}readCorner2(n,i){let a=0;return this.readModule(n-3,0,n,i)&&(a|=1),a<<=1,this.readModule(n-2,0,n,i)&&(a|=1),a<<=1,this.readModule(n-1,0,n,i)&&(a|=1),a<<=1,this.readModule(0,i-4,n,i)&&(a|=1),a<<=1,this.readModule(0,i-3,n,i)&&(a|=1),a<<=1,this.readModule(0,i-2,n,i)&&(a|=1),a<<=1,this.readModule(0,i-1,n,i)&&(a|=1),a<<=1,this.readModule(1,i-1,n,i)&&(a|=1),a}readCorner3(n,i){let a=0;return this.readModule(n-1,0,n,i)&&(a|=1),a<<=1,this.readModule(n-1,i-1,n,i)&&(a|=1),a<<=1,this.readModule(0,i-3,n,i)&&(a|=1),a<<=1,this.readModule(0,i-2,n,i)&&(a|=1),a<<=1,this.readModule(0,i-1,n,i)&&(a|=1),a<<=1,this.readModule(1,i-3,n,i)&&(a|=1),a<<=1,this.readModule(1,i-2,n,i)&&(a|=1),a<<=1,this.readModule(1,i-1,n,i)&&(a|=1),a}readCorner4(n,i){let a=0;return this.readModule(n-3,0,n,i)&&(a|=1),a<<=1,this.readModule(n-2,0,n,i)&&(a|=1),a<<=1,this.readModule(n-1,0,n,i)&&(a|=1),a<<=1,this.readModule(0,i-2,n,i)&&(a|=1),a<<=1,this.readModule(0,i-1,n,i)&&(a|=1),a<<=1,this.readModule(1,i-1,n,i)&&(a|=1),a<<=1,this.readModule(2,i-1,n,i)&&(a|=1),a<<=1,this.readModule(3,i-1,n,i)&&(a|=1),a}extractDataRegion(n){const i=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(n.getHeight()!==i)throw new I("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),r=this.version.getDataRegionSizeColumns(),o=i/l|0,u=a/r|0,f=o*l,d=u*r,g=new kt(d,f);for(let x=0;x<o;++x){const y=x*l;for(let C=0;C<u;++C){const S=C*r;for(let _=0;_<l;++_){const b=x*(l+2)+1+_,N=y+_;for(let D=0;D<r;++D){const k=C*(r+2)+1+D;if(n.get(k,b)){const M=S+D;g.set(M,N)}}}}}return g}}class uo{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i){const a=i.getECBlocks();let l=0;const r=a.getECBlocks();for(let _ of r)l+=_.getCount();const o=new Array(l);let u=0;for(let _ of r)for(let b=0;b<_.getCount();b++){const N=_.getDataCodewords(),D=a.getECCodewords()+N;o[u++]=new uo(N,new Uint8Array(D))}const d=o[0].codewords.length-a.getECCodewords(),g=d-1;let x=0;for(let _=0;_<g;_++)for(let b=0;b<u;b++)o[b].codewords[_]=n[x++];const y=i.getVersionNumber()===24,C=y?8:u;for(let _=0;_<C;_++)o[_].codewords[d-1]=n[x++];const S=o[0].codewords.length;for(let _=d;_<S;_++)for(let b=0;b<u;b++){const N=y?(b+8)%u:b,D=y&&N>7?_-1:_;o[N].codewords[D]=n[x++]}if(x!==n.length)throw new I;return o}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class co{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new I(""+n);let i=0,a=this.bitOffset,l=this.byteOffset;const r=this.bytes;if(a>0){const o=8-a,u=n<o?n:o,f=o-u,d=255>>8-u<<f;i=(r[l]&d)>>f,n-=u,a+=u,a===8&&(a=0,l++)}if(n>0){for(;n>=8;)i=i<<8|r[l]&255,l++,n-=8;if(n>0){const o=8-n,u=255>>o<<o;i=i<<n|(r[l]&u)>>o,a+=n}}return this.bitOffset=a,this.byteOffset=l,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Me;(function(A){A[A.PAD_ENCODE=0]="PAD_ENCODE",A[A.ASCII_ENCODE=1]="ASCII_ENCODE",A[A.C40_ENCODE=2]="C40_ENCODE",A[A.TEXT_ENCODE=3]="TEXT_ENCODE",A[A.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",A[A.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",A[A.BASE256_ENCODE=6]="BASE256_ENCODE"})(Me||(Me={}));class Ln{static decode(n){const i=new co(n),a=new Fe,l=new Fe,r=new Array;let o=Me.ASCII_ENCODE;do if(o===Me.ASCII_ENCODE)o=this.decodeAsciiSegment(i,a,l);else{switch(o){case Me.C40_ENCODE:this.decodeC40Segment(i,a);break;case Me.TEXT_ENCODE:this.decodeTextSegment(i,a);break;case Me.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,a);break;case Me.EDIFACT_ENCODE:this.decodeEdifactSegment(i,a);break;case Me.BASE256_ENCODE:this.decodeBase256Segment(i,a,r);break;default:throw new W}o=Me.ASCII_ENCODE}while(o!==Me.PAD_ENCODE&&i.available()>0);return l.length()>0&&a.append(l.toString()),new Ie(n,a.toString(),r.length===0?null:r,null)}static decodeAsciiSegment(n,i,a){let l=!1;do{let r=n.readBits(8);if(r===0)throw new W;if(r<=128)return l&&(r+=128),i.append(String.fromCharCode(r-1)),Me.ASCII_ENCODE;if(r===129)return Me.PAD_ENCODE;if(r<=229){const o=r-130;o<10&&i.append("0"),i.append(""+o)}else switch(r){case 230:return Me.C40_ENCODE;case 231:return Me.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:i.append("[)>05"),a.insert(0,"");break;case 237:i.append("[)>06"),a.insert(0,"");break;case 238:return Me.ANSIX12_ENCODE;case 239:return Me.TEXT_ENCODE;case 240:return Me.EDIFACT_ENCODE;case 241:break;default:if(r!==254||n.available()!==0)throw new W;break}}while(n.available()>0);return Me.ASCII_ENCODE}static decodeC40Segment(n,i){let a=!1;const l=[];let r=0;do{if(n.available()===8)return;const o=n.readBits(8);if(o===254)return;this.parseTwoBytes(o,n.readBits(8),l);for(let u=0;u<3;u++){const f=l[u];switch(r){case 0:if(f<3)r=f+1;else if(f<this.C40_BASIC_SET_CHARS.length){const d=this.C40_BASIC_SET_CHARS[f];a?(i.append(String.fromCharCode(d.charCodeAt(0)+128)),a=!1):i.append(d)}else throw new W;break;case 1:a?(i.append(String.fromCharCode(f+128)),a=!1):i.append(String.fromCharCode(f)),r=0;break;case 2:if(f<this.C40_SHIFT2_SET_CHARS.length){const d=this.C40_SHIFT2_SET_CHARS[f];a?(i.append(String.fromCharCode(d.charCodeAt(0)+128)),a=!1):i.append(d)}else switch(f){case 27:i.append("");break;case 30:a=!0;break;default:throw new W}r=0;break;case 3:a?(i.append(String.fromCharCode(f+224)),a=!1):i.append(String.fromCharCode(f+96)),r=0;break;default:throw new W}}}while(n.available()>0)}static decodeTextSegment(n,i){let a=!1,l=[],r=0;do{if(n.available()===8)return;const o=n.readBits(8);if(o===254)return;this.parseTwoBytes(o,n.readBits(8),l);for(let u=0;u<3;u++){const f=l[u];switch(r){case 0:if(f<3)r=f+1;else if(f<this.TEXT_BASIC_SET_CHARS.length){const d=this.TEXT_BASIC_SET_CHARS[f];a?(i.append(String.fromCharCode(d.charCodeAt(0)+128)),a=!1):i.append(d)}else throw new W;break;case 1:a?(i.append(String.fromCharCode(f+128)),a=!1):i.append(String.fromCharCode(f)),r=0;break;case 2:if(f<this.TEXT_SHIFT2_SET_CHARS.length){const d=this.TEXT_SHIFT2_SET_CHARS[f];a?(i.append(String.fromCharCode(d.charCodeAt(0)+128)),a=!1):i.append(d)}else switch(f){case 27:i.append("");break;case 30:a=!0;break;default:throw new W}r=0;break;case 3:if(f<this.TEXT_SHIFT3_SET_CHARS.length){const d=this.TEXT_SHIFT3_SET_CHARS[f];a?(i.append(String.fromCharCode(d.charCodeAt(0)+128)),a=!1):i.append(d),r=0}else throw new W;break;default:throw new W}}}while(n.available()>0)}static decodeAnsiX12Segment(n,i){const a=[];do{if(n.available()===8)return;const l=n.readBits(8);if(l===254)return;this.parseTwoBytes(l,n.readBits(8),a);for(let r=0;r<3;r++){const o=a[r];switch(o){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(o<14)i.append(String.fromCharCode(o+44));else if(o<40)i.append(String.fromCharCode(o+51));else throw new W;break}}}while(n.available()>0)}static parseTwoBytes(n,i,a){let l=(n<<8)+i-1,r=Math.floor(l/1600);a[0]=r,l-=r*1600,r=Math.floor(l/40),a[1]=r,a[2]=l-r*40}static decodeEdifactSegment(n,i){do{if(n.available()<=16)return;for(let a=0;a<4;a++){let l=n.readBits(6);if(l===31){const r=8-n.getBitOffset();r!==8&&n.readBits(r);return}l&32||(l|=64),i.append(String.fromCharCode(l))}}while(n.available()>0)}static decodeBase256Segment(n,i,a){let l=1+n.getByteOffset();const r=this.unrandomize255State(n.readBits(8),l++);let o;if(r===0?o=n.available()/8|0:r<250?o=r:o=250*(r-249)+this.unrandomize255State(n.readBits(8),l++),o<0)throw new W;const u=new Uint8Array(o);for(let f=0;f<o;f++){if(n.available()<8)throw new W;u[f]=this.unrandomize255State(n.readBits(8),l++)}a.push(u);try{i.append(lt.decode(u,be.ISO88591))}catch(f){throw new an("Platform does not support required encoding: "+f.message)}}static unrandomize255State(n,i){const a=149*i%255+1,l=n-a;return l>=0?l:l+256}}Ln.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ln.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ln.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ln.TEXT_SHIFT2_SET_CHARS=Ln.C40_SHIFT2_SET_CHARS,Ln.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ws{constructor(){this.rsDecoder=new ms(Ge.DATA_MATRIX_FIELD_256)}decode(n){const i=new lo(n),a=i.getVersion(),l=i.readCodewords(),r=uo.getDataBlocks(l,a);let o=0;for(let d of r)o+=d.getNumDataCodewords();const u=new Uint8Array(o),f=r.length;for(let d=0;d<f;d++){const g=r[d],x=g.getCodewords(),y=g.getNumDataCodewords();this.correctErrors(x,y);for(let C=0;C<y;C++)u[C*f+d]=x[C]}return Ln.decode(u)}correctErrors(n,i){const a=new Int32Array(n);try{this.rsDecoder.decode(a,n.length-i)}catch{throw new V}for(let l=0;l<i;l++)n[l]=a[l]}}class wt{constructor(n){this.image=n,this.rectangleDetector=new cr(this.image)}detect(){const n=this.rectangleDetector.detect();let i=this.detectSolid1(n);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new $;i=this.shiftToModuleCenter(i);const a=i[0],l=i[1],r=i[2],o=i[3];let u=this.transitionsBetween(a,o)+1,f=this.transitionsBetween(r,o)+1;(u&1)===1&&(u+=1),(f&1)===1&&(f+=1),4*u<7*f&&4*f<7*u&&(u=f=Math.max(u,f));let d=wt.sampleGrid(this.image,a,l,r,o,u,f);return new xs(d,[a,l,r,o])}static shiftPoint(n,i,a){let l=(i.getX()-n.getX())/(a+1),r=(i.getY()-n.getY())/(a+1);return new xe(n.getX()+l,n.getY()+r)}static moveAway(n,i,a){let l=n.getX(),r=n.getY();return l<i?l-=1:l+=1,r<a?r-=1:r+=1,new xe(l,r)}detectSolid1(n){let i=n[0],a=n[1],l=n[3],r=n[2],o=this.transitionsBetween(i,a),u=this.transitionsBetween(a,l),f=this.transitionsBetween(l,r),d=this.transitionsBetween(r,i),g=o,x=[r,i,a,l];return g>u&&(g=u,x[0]=i,x[1]=a,x[2]=l,x[3]=r),g>f&&(g=f,x[0]=a,x[1]=l,x[2]=r,x[3]=i),g>d&&(x[0]=l,x[1]=r,x[2]=i,x[3]=a),x}detectSolid2(n){let i=n[0],a=n[1],l=n[2],r=n[3],o=this.transitionsBetween(i,r),u=wt.shiftPoint(a,l,(o+1)*4),f=wt.shiftPoint(l,a,(o+1)*4),d=this.transitionsBetween(u,i),g=this.transitionsBetween(f,r);return d<g?(n[0]=i,n[1]=a,n[2]=l,n[3]=r):(n[0]=a,n[1]=l,n[2]=r,n[3]=i),n}correctTopRight(n){let i=n[0],a=n[1],l=n[2],r=n[3],o=this.transitionsBetween(i,r),u=this.transitionsBetween(a,r),f=wt.shiftPoint(i,a,(u+1)*4),d=wt.shiftPoint(l,a,(o+1)*4);o=this.transitionsBetween(f,r),u=this.transitionsBetween(d,r);let g=new xe(r.getX()+(l.getX()-a.getX())/(o+1),r.getY()+(l.getY()-a.getY())/(o+1)),x=new xe(r.getX()+(i.getX()-a.getX())/(u+1),r.getY()+(i.getY()-a.getY())/(u+1));if(!this.isValid(g))return this.isValid(x)?x:null;if(!this.isValid(x))return g;let y=this.transitionsBetween(f,g)+this.transitionsBetween(d,g),C=this.transitionsBetween(f,x)+this.transitionsBetween(d,x);return y>C?g:x}shiftToModuleCenter(n){let i=n[0],a=n[1],l=n[2],r=n[3],o=this.transitionsBetween(i,r)+1,u=this.transitionsBetween(l,r)+1,f=wt.shiftPoint(i,a,u*4),d=wt.shiftPoint(l,a,o*4);o=this.transitionsBetween(f,r)+1,u=this.transitionsBetween(d,r)+1,(o&1)===1&&(o+=1),(u&1)===1&&(u+=1);let g=(i.getX()+a.getX()+l.getX()+r.getX())/4,x=(i.getY()+a.getY()+l.getY()+r.getY())/4;i=wt.moveAway(i,g,x),a=wt.moveAway(a,g,x),l=wt.moveAway(l,g,x),r=wt.moveAway(r,g,x);let y,C;return f=wt.shiftPoint(i,a,u*4),f=wt.shiftPoint(f,r,o*4),y=wt.shiftPoint(a,i,u*4),y=wt.shiftPoint(y,l,o*4),d=wt.shiftPoint(l,r,u*4),d=wt.shiftPoint(d,a,o*4),C=wt.shiftPoint(r,l,u*4),C=wt.shiftPoint(C,i,o*4),[f,y,d,C]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,i,a,l,r,o,u){return Pn.getInstance().sampleGrid(n,o,u,.5,.5,o-.5,.5,o-.5,u-.5,.5,u-.5,i.getX(),i.getY(),r.getX(),r.getY(),l.getX(),l.getY(),a.getX(),a.getY())}transitionsBetween(n,i){let a=Math.trunc(n.getX()),l=Math.trunc(n.getY()),r=Math.trunc(i.getX()),o=Math.trunc(i.getY()),u=Math.abs(o-l)>Math.abs(r-a);if(u){let _=a;a=l,l=_,_=r,r=o,o=_}let f=Math.abs(r-a),d=Math.abs(o-l),g=-f/2,x=l<o?1:-1,y=a<r?1:-1,C=0,S=this.image.get(u?l:a,u?a:l);for(let _=a,b=l;_!==r;_+=y){let N=this.image.get(u?b:_,u?_:b);if(N!==S&&(C++,S=N),g+=d,g>0){if(b===o)break;b+=x,g-=f}}return C}}class pr{constructor(){this.decoder=new ws}decode(n,i=null){let a,l;if(i!=null&&i.has(ne.PURE_BARCODE)){const d=pr.extractPureBits(n.getBlackMatrix());a=this.decoder.decode(d),l=pr.NO_POINTS}else{const d=new wt(n.getBlackMatrix()).detect();a=this.decoder.decode(d.getBits()),l=d.getPoints()}const r=a.getRawBytes(),o=new Ct(a.getText(),r,8*r.length,l,Ce.DATA_MATRIX,G.currentTimeMillis()),u=a.getByteSegments();u!=null&&o.putMetadata(Yt.BYTE_SEGMENTS,u);const f=a.getECLevel();return f!=null&&o.putMetadata(Yt.ERROR_CORRECTION_LEVEL,f),o}reset(){}static extractPureBits(n){const i=n.getTopLeftOnBit(),a=n.getBottomRightOnBit();if(i==null||a==null)throw new $;const l=this.moduleSize(i,n);let r=i[1];const o=a[1];let u=i[0];const d=(a[0]-u+1)/l,g=(o-r+1)/l;if(d<=0||g<=0)throw new $;const x=l/2;r+=x,u+=x;const y=new kt(d,g);for(let C=0;C<g;C++){const S=r+C*l;for(let _=0;_<d;_++)n.get(u+_*l,S)&&y.set(_,C)}return y}static moduleSize(n,i){const a=i.getWidth();let l=n[0];const r=n[1];for(;l<a&&i.get(l,r);)l++;if(l===a)throw new $;const o=l-n[0];if(o===0)throw new $;return o}}pr.NO_POINTS=[];class va extends Zt{constructor(n=500){super(new pr,n)}}var Dr;(function(A){A[A.L=0]="L",A[A.M=1]="M",A[A.Q=2]="Q",A[A.H=3]="H"})(Dr||(Dr={}));class dt{constructor(n,i,a){this.value=n,this.stringValue=i,this.bits=a,dt.FOR_BITS.set(a,this),dt.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return dt.L;case"M":return dt.M;case"Q":return dt.Q;case"H":return dt.H;default:throw new O(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof dt))return!1;const i=n;return this.value===i.value}static forBits(n){if(n<0||n>=dt.FOR_BITS.size)throw new I;return dt.FOR_BITS.get(n)}}dt.FOR_BITS=new Map,dt.FOR_VALUE=new Map,dt.L=new dt(Dr.L,"L",1),dt.M=new dt(Dr.M,"M",0),dt.Q=new dt(Dr.Q,"Q",3),dt.H=new dt(Dr.H,"H",2);class Ht{constructor(n){this.errorCorrectionLevel=dt.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,i){return P.bitCount(n^i)}static decodeFormatInformation(n,i){const a=Ht.doDecodeFormatInformation(n,i);return a!==null?a:Ht.doDecodeFormatInformation(n^Ht.FORMAT_INFO_MASK_QR,i^Ht.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,i){let a=Number.MAX_SAFE_INTEGER,l=0;for(const r of Ht.FORMAT_INFO_DECODE_LOOKUP){const o=r[0];if(o===n||o===i)return new Ht(r[1]);let u=Ht.numBitsDiffering(n,o);u<a&&(l=r[1],a=u),n!==i&&(u=Ht.numBitsDiffering(i,o),u<a&&(l=r[1],a=u))}return a<=3?new Ht(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof Ht))return!1;const i=n;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}Ht.FORMAT_INFO_MASK_QR=21522,Ht.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class H{constructor(n,...i){this.ecCodewordsPerBlock=n,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0;const i=this.ecBlocks;for(const a of i)n+=a.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class R{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Se{constructor(n,i,...a){this.versionNumber=n,this.alignmentPatternCenters=i,this.ecBlocks=a;let l=0;const r=a[0].getECCodewordsPerBlock(),o=a[0].getECBlocks();for(const u of o)l+=u.getCount()*(u.getDataCodewords()+r);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new W;try{return this.getVersionForNumber((n-17)/4)}catch{throw new W}}static getVersionForNumber(n){if(n<1||n>40)throw new I;return Se.VERSIONS[n-1]}static decodeVersionInformation(n){let i=Number.MAX_SAFE_INTEGER,a=0;for(let l=0;l<Se.VERSION_DECODE_INFO.length;l++){const r=Se.VERSION_DECODE_INFO[l];if(r===n)return Se.getVersionForNumber(l+7);const o=Ht.numBitsDiffering(n,r);o<i&&(a=l+7,i=o)}return i<=3?Se.getVersionForNumber(a):null}buildFunctionPattern(){const n=this.getDimensionForVersion(),i=new kt(n);i.setRegion(0,0,9,9),i.setRegion(n-8,0,8,9),i.setRegion(0,n-8,9,8);const a=this.alignmentPatternCenters.length;for(let l=0;l<a;l++){const r=this.alignmentPatternCenters[l]-2;for(let o=0;o<a;o++)l===0&&(o===0||o===a-1)||l===a-1&&o===0||i.setRegion(this.alignmentPatternCenters[o]-2,r,5,5)}return i.setRegion(6,9,1,n-17),i.setRegion(9,6,n-17,1),this.versionNumber>6&&(i.setRegion(n-11,0,3,6),i.setRegion(0,n-11,6,3)),i}toString(){return""+this.versionNumber}}Se.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Se.VERSIONS=[new Se(1,new Int32Array(0),new H(7,new R(1,19)),new H(10,new R(1,16)),new H(13,new R(1,13)),new H(17,new R(1,9))),new Se(2,Int32Array.from([6,18]),new H(10,new R(1,34)),new H(16,new R(1,28)),new H(22,new R(1,22)),new H(28,new R(1,16))),new Se(3,Int32Array.from([6,22]),new H(15,new R(1,55)),new H(26,new R(1,44)),new H(18,new R(2,17)),new H(22,new R(2,13))),new Se(4,Int32Array.from([6,26]),new H(20,new R(1,80)),new H(18,new R(2,32)),new H(26,new R(2,24)),new H(16,new R(4,9))),new Se(5,Int32Array.from([6,30]),new H(26,new R(1,108)),new H(24,new R(2,43)),new H(18,new R(2,15),new R(2,16)),new H(22,new R(2,11),new R(2,12))),new Se(6,Int32Array.from([6,34]),new H(18,new R(2,68)),new H(16,new R(4,27)),new H(24,new R(4,19)),new H(28,new R(4,15))),new Se(7,Int32Array.from([6,22,38]),new H(20,new R(2,78)),new H(18,new R(4,31)),new H(18,new R(2,14),new R(4,15)),new H(26,new R(4,13),new R(1,14))),new Se(8,Int32Array.from([6,24,42]),new H(24,new R(2,97)),new H(22,new R(2,38),new R(2,39)),new H(22,new R(4,18),new R(2,19)),new H(26,new R(4,14),new R(2,15))),new Se(9,Int32Array.from([6,26,46]),new H(30,new R(2,116)),new H(22,new R(3,36),new R(2,37)),new H(20,new R(4,16),new R(4,17)),new H(24,new R(4,12),new R(4,13))),new Se(10,Int32Array.from([6,28,50]),new H(18,new R(2,68),new R(2,69)),new H(26,new R(4,43),new R(1,44)),new H(24,new R(6,19),new R(2,20)),new H(28,new R(6,15),new R(2,16))),new Se(11,Int32Array.from([6,30,54]),new H(20,new R(4,81)),new H(30,new R(1,50),new R(4,51)),new H(28,new R(4,22),new R(4,23)),new H(24,new R(3,12),new R(8,13))),new Se(12,Int32Array.from([6,32,58]),new H(24,new R(2,92),new R(2,93)),new H(22,new R(6,36),new R(2,37)),new H(26,new R(4,20),new R(6,21)),new H(28,new R(7,14),new R(4,15))),new Se(13,Int32Array.from([6,34,62]),new H(26,new R(4,107)),new H(22,new R(8,37),new R(1,38)),new H(24,new R(8,20),new R(4,21)),new H(22,new R(12,11),new R(4,12))),new Se(14,Int32Array.from([6,26,46,66]),new H(30,new R(3,115),new R(1,116)),new H(24,new R(4,40),new R(5,41)),new H(20,new R(11,16),new R(5,17)),new H(24,new R(11,12),new R(5,13))),new Se(15,Int32Array.from([6,26,48,70]),new H(22,new R(5,87),new R(1,88)),new H(24,new R(5,41),new R(5,42)),new H(30,new R(5,24),new R(7,25)),new H(24,new R(11,12),new R(7,13))),new Se(16,Int32Array.from([6,26,50,74]),new H(24,new R(5,98),new R(1,99)),new H(28,new R(7,45),new R(3,46)),new H(24,new R(15,19),new R(2,20)),new H(30,new R(3,15),new R(13,16))),new Se(17,Int32Array.from([6,30,54,78]),new H(28,new R(1,107),new R(5,108)),new H(28,new R(10,46),new R(1,47)),new H(28,new R(1,22),new R(15,23)),new H(28,new R(2,14),new R(17,15))),new Se(18,Int32Array.from([6,30,56,82]),new H(30,new R(5,120),new R(1,121)),new H(26,new R(9,43),new R(4,44)),new H(28,new R(17,22),new R(1,23)),new H(28,new R(2,14),new R(19,15))),new Se(19,Int32Array.from([6,30,58,86]),new H(28,new R(3,113),new R(4,114)),new H(26,new R(3,44),new R(11,45)),new H(26,new R(17,21),new R(4,22)),new H(26,new R(9,13),new R(16,14))),new Se(20,Int32Array.from([6,34,62,90]),new H(28,new R(3,107),new R(5,108)),new H(26,new R(3,41),new R(13,42)),new H(30,new R(15,24),new R(5,25)),new H(28,new R(15,15),new R(10,16))),new Se(21,Int32Array.from([6,28,50,72,94]),new H(28,new R(4,116),new R(4,117)),new H(26,new R(17,42)),new H(28,new R(17,22),new R(6,23)),new H(30,new R(19,16),new R(6,17))),new Se(22,Int32Array.from([6,26,50,74,98]),new H(28,new R(2,111),new R(7,112)),new H(28,new R(17,46)),new H(30,new R(7,24),new R(16,25)),new H(24,new R(34,13))),new Se(23,Int32Array.from([6,30,54,78,102]),new H(30,new R(4,121),new R(5,122)),new H(28,new R(4,47),new R(14,48)),new H(30,new R(11,24),new R(14,25)),new H(30,new R(16,15),new R(14,16))),new Se(24,Int32Array.from([6,28,54,80,106]),new H(30,new R(6,117),new R(4,118)),new H(28,new R(6,45),new R(14,46)),new H(30,new R(11,24),new R(16,25)),new H(30,new R(30,16),new R(2,17))),new Se(25,Int32Array.from([6,32,58,84,110]),new H(26,new R(8,106),new R(4,107)),new H(28,new R(8,47),new R(13,48)),new H(30,new R(7,24),new R(22,25)),new H(30,new R(22,15),new R(13,16))),new Se(26,Int32Array.from([6,30,58,86,114]),new H(28,new R(10,114),new R(2,115)),new H(28,new R(19,46),new R(4,47)),new H(28,new R(28,22),new R(6,23)),new H(30,new R(33,16),new R(4,17))),new Se(27,Int32Array.from([6,34,62,90,118]),new H(30,new R(8,122),new R(4,123)),new H(28,new R(22,45),new R(3,46)),new H(30,new R(8,23),new R(26,24)),new H(30,new R(12,15),new R(28,16))),new Se(28,Int32Array.from([6,26,50,74,98,122]),new H(30,new R(3,117),new R(10,118)),new H(28,new R(3,45),new R(23,46)),new H(30,new R(4,24),new R(31,25)),new H(30,new R(11,15),new R(31,16))),new Se(29,Int32Array.from([6,30,54,78,102,126]),new H(30,new R(7,116),new R(7,117)),new H(28,new R(21,45),new R(7,46)),new H(30,new R(1,23),new R(37,24)),new H(30,new R(19,15),new R(26,16))),new Se(30,Int32Array.from([6,26,52,78,104,130]),new H(30,new R(5,115),new R(10,116)),new H(28,new R(19,47),new R(10,48)),new H(30,new R(15,24),new R(25,25)),new H(30,new R(23,15),new R(25,16))),new Se(31,Int32Array.from([6,30,56,82,108,134]),new H(30,new R(13,115),new R(3,116)),new H(28,new R(2,46),new R(29,47)),new H(30,new R(42,24),new R(1,25)),new H(30,new R(23,15),new R(28,16))),new Se(32,Int32Array.from([6,34,60,86,112,138]),new H(30,new R(17,115)),new H(28,new R(10,46),new R(23,47)),new H(30,new R(10,24),new R(35,25)),new H(30,new R(19,15),new R(35,16))),new Se(33,Int32Array.from([6,30,58,86,114,142]),new H(30,new R(17,115),new R(1,116)),new H(28,new R(14,46),new R(21,47)),new H(30,new R(29,24),new R(19,25)),new H(30,new R(11,15),new R(46,16))),new Se(34,Int32Array.from([6,34,62,90,118,146]),new H(30,new R(13,115),new R(6,116)),new H(28,new R(14,46),new R(23,47)),new H(30,new R(44,24),new R(7,25)),new H(30,new R(59,16),new R(1,17))),new Se(35,Int32Array.from([6,30,54,78,102,126,150]),new H(30,new R(12,121),new R(7,122)),new H(28,new R(12,47),new R(26,48)),new H(30,new R(39,24),new R(14,25)),new H(30,new R(22,15),new R(41,16))),new Se(36,Int32Array.from([6,24,50,76,102,128,154]),new H(30,new R(6,121),new R(14,122)),new H(28,new R(6,47),new R(34,48)),new H(30,new R(46,24),new R(10,25)),new H(30,new R(2,15),new R(64,16))),new Se(37,Int32Array.from([6,28,54,80,106,132,158]),new H(30,new R(17,122),new R(4,123)),new H(28,new R(29,46),new R(14,47)),new H(30,new R(49,24),new R(10,25)),new H(30,new R(24,15),new R(46,16))),new Se(38,Int32Array.from([6,32,58,84,110,136,162]),new H(30,new R(4,122),new R(18,123)),new H(28,new R(13,46),new R(32,47)),new H(30,new R(48,24),new R(14,25)),new H(30,new R(42,15),new R(32,16))),new Se(39,Int32Array.from([6,26,54,82,110,138,166]),new H(30,new R(20,117),new R(4,118)),new H(28,new R(40,47),new R(7,48)),new H(30,new R(43,24),new R(22,25)),new H(30,new R(10,15),new R(67,16))),new Se(40,Int32Array.from([6,30,58,86,114,142,170]),new H(30,new R(19,118),new R(6,119)),new H(28,new R(18,47),new R(31,48)),new H(30,new R(34,24),new R(34,25)),new H(30,new R(20,15),new R(61,16)))];var Gt;(function(A){A[A.DATA_MASK_000=0]="DATA_MASK_000",A[A.DATA_MASK_001=1]="DATA_MASK_001",A[A.DATA_MASK_010=2]="DATA_MASK_010",A[A.DATA_MASK_011=3]="DATA_MASK_011",A[A.DATA_MASK_100=4]="DATA_MASK_100",A[A.DATA_MASK_101=5]="DATA_MASK_101",A[A.DATA_MASK_110=6]="DATA_MASK_110",A[A.DATA_MASK_111=7]="DATA_MASK_111"})(Gt||(Gt={}));class Fn{constructor(n,i){this.value=n,this.isMasked=i}unmaskBitMatrix(n,i){for(let a=0;a<i;a++)for(let l=0;l<i;l++)this.isMasked(a,l)&&n.flip(l,a)}}Fn.values=new Map([[Gt.DATA_MASK_000,new Fn(Gt.DATA_MASK_000,(A,n)=>(A+n&1)===0)],[Gt.DATA_MASK_001,new Fn(Gt.DATA_MASK_001,(A,n)=>(A&1)===0)],[Gt.DATA_MASK_010,new Fn(Gt.DATA_MASK_010,(A,n)=>n%3===0)],[Gt.DATA_MASK_011,new Fn(Gt.DATA_MASK_011,(A,n)=>(A+n)%3===0)],[Gt.DATA_MASK_100,new Fn(Gt.DATA_MASK_100,(A,n)=>(Math.floor(A/2)+Math.floor(n/3)&1)===0)],[Gt.DATA_MASK_101,new Fn(Gt.DATA_MASK_101,(A,n)=>A*n%6===0)],[Gt.DATA_MASK_110,new Fn(Gt.DATA_MASK_110,(A,n)=>A*n%6<3)],[Gt.DATA_MASK_111,new Fn(Gt.DATA_MASK_111,(A,n)=>(A+n+A*n%3&1)===0)]]);class nt{constructor(n){const i=n.getHeight();if(i<21||(i&3)!==1)throw new W;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let r=0;r<6;r++)n=this.copyBit(r,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let r=5;r>=0;r--)n=this.copyBit(8,r,n);const i=this.bitMatrix.getHeight();let a=0;const l=i-7;for(let r=i-1;r>=l;r--)a=this.copyBit(8,r,a);for(let r=i-8;r<i;r++)a=this.copyBit(r,8,a);if(this.parsedFormatInfo=Ht.decodeFormatInformation(n,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new W}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const n=this.bitMatrix.getHeight(),i=Math.floor((n-17)/4);if(i<=6)return Se.getVersionForNumber(i);let a=0;const l=n-11;for(let o=5;o>=0;o--)for(let u=n-9;u>=l;u--)a=this.copyBit(u,o,a);let r=Se.decodeVersionInformation(a);if(r!==null&&r.getDimensionForVersion()===n)return this.parsedVersion=r,r;a=0;for(let o=5;o>=0;o--)for(let u=n-9;u>=l;u--)a=this.copyBit(o,u,a);if(r=Se.decodeVersionInformation(a),r!==null&&r.getDimensionForVersion()===n)return this.parsedVersion=r,r;throw new W}copyBit(n,i,a){return(this.isMirror?this.bitMatrix.get(i,n):this.bitMatrix.get(n,i))?a<<1|1:a<<1}readCodewords(){const n=this.readFormatInformation(),i=this.readVersion(),a=Fn.values.get(n.getDataMask()),l=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,l);const r=i.buildFunctionPattern();let o=!0;const u=new Uint8Array(i.getTotalCodewords());let f=0,d=0,g=0;for(let x=l-1;x>0;x-=2){x===6&&x--;for(let y=0;y<l;y++){const C=o?l-1-y:y;for(let S=0;S<2;S++)r.get(x-S,C)||(g++,d<<=1,this.bitMatrix.get(x-S,C)&&(d|=1),g===8&&(u[f++]=d,g=0,d=0))}o=!o}if(f!==i.getTotalCodewords())throw new W;return u}remask(){if(this.parsedFormatInfo===null)return;const n=Fn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){const n=this.bitMatrix;for(let i=0,a=n.getWidth();i<a;i++)for(let l=i+1,r=n.getHeight();l<r;l++)n.get(i,l)!==n.get(l,i)&&(n.flip(l,i),n.flip(i,l))}}class vs{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i,a){if(n.length!==i.getTotalCodewords())throw new I;const l=i.getECBlocksForLevel(a);let r=0;const o=l.getECBlocks();for(const S of o)r+=S.getCount();const u=new Array(r);let f=0;for(const S of o)for(let _=0;_<S.getCount();_++){const b=S.getDataCodewords(),N=l.getECCodewordsPerBlock()+b;u[f++]=new vs(b,new Uint8Array(N))}const d=u[0].codewords.length;let g=u.length-1;for(;g>=0&&u[g].codewords.length!==d;)g--;g++;const x=d-l.getECCodewordsPerBlock();let y=0;for(let S=0;S<x;S++)for(let _=0;_<f;_++)u[_].codewords[S]=n[y++];for(let S=g;S<f;S++)u[S].codewords[x]=n[y++];const C=u[0].codewords.length;for(let S=x;S<C;S++)for(let _=0;_<f;_++){const b=_<g?S:S+1;u[_].codewords[b]=n[y++]}return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Un;(function(A){A[A.TERMINATOR=0]="TERMINATOR",A[A.NUMERIC=1]="NUMERIC",A[A.ALPHANUMERIC=2]="ALPHANUMERIC",A[A.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",A[A.BYTE=4]="BYTE",A[A.ECI=5]="ECI",A[A.KANJI=6]="KANJI",A[A.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",A[A.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",A[A.HANZI=9]="HANZI"})(Un||(Un={}));class Oe{constructor(n,i,a,l){this.value=n,this.stringValue=i,this.characterCountBitsForVersions=a,this.bits=l,Oe.FOR_BITS.set(l,this),Oe.FOR_VALUE.set(n,this)}static forBits(n){const i=Oe.FOR_BITS.get(n);if(i===void 0)throw new I;return i}getCharacterCountBits(n){const i=n.getVersionNumber();let a;return i<=9?a=0:i<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof Oe))return!1;const i=n;return this.value===i.value}toString(){return this.stringValue}}Oe.FOR_BITS=new Map,Oe.FOR_VALUE=new Map,Oe.TERMINATOR=new Oe(Un.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Oe.NUMERIC=new Oe(Un.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Oe.ALPHANUMERIC=new Oe(Un.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Oe.STRUCTURED_APPEND=new Oe(Un.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Oe.BYTE=new Oe(Un.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Oe.ECI=new Oe(Un.ECI,"ECI",Int32Array.from([0,0,0]),7),Oe.KANJI=new Oe(Un.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Oe.FNC1_FIRST_POSITION=new Oe(Un.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Oe.FNC1_SECOND_POSITION=new Oe(Un.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Oe.HANZI=new Oe(Un.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ke{static decode(n,i,a,l){const r=new co(n);let o=new Fe;const u=new Array;let f=-1,d=-1;try{let g=null,x=!1,y;do{if(r.available()<4)y=Oe.TERMINATOR;else{const C=r.readBits(4);y=Oe.forBits(C)}switch(y){case Oe.TERMINATOR:break;case Oe.FNC1_FIRST_POSITION:case Oe.FNC1_SECOND_POSITION:x=!0;break;case Oe.STRUCTURED_APPEND:if(r.available()<16)throw new W;f=r.readBits(8),d=r.readBits(8);break;case Oe.ECI:const C=Ke.parseECIValue(r);if(g=te.getCharacterSetECIByValue(C),g===null)throw new W;break;case Oe.HANZI:const S=r.readBits(4),_=r.readBits(y.getCharacterCountBits(i));S===Ke.GB2312_SUBSET&&Ke.decodeHanziSegment(r,o,_);break;default:const b=r.readBits(y.getCharacterCountBits(i));switch(y){case Oe.NUMERIC:Ke.decodeNumericSegment(r,o,b);break;case Oe.ALPHANUMERIC:Ke.decodeAlphanumericSegment(r,o,b,x);break;case Oe.BYTE:Ke.decodeByteSegment(r,o,b,g,u,l);break;case Oe.KANJI:Ke.decodeKanjiSegment(r,o,b);break;default:throw new W}break}}while(y!==Oe.TERMINATOR)}catch{throw new W}return new Ie(n,o.toString(),u.length===0?null:u,a===null?null:a.toString(),f,d)}static decodeHanziSegment(n,i,a){if(a*13>n.available())throw new W;const l=new Uint8Array(2*a);let r=0;for(;a>0;){const o=n.readBits(13);let u=o/96<<8&4294967295|o%96;u<959?u+=41377:u+=42657,l[r]=u>>8&255,l[r+1]=u&255,r+=2,a--}try{i.append(lt.decode(l,be.GB2312))}catch(o){throw new W(o)}}static decodeKanjiSegment(n,i,a){if(a*13>n.available())throw new W;const l=new Uint8Array(2*a);let r=0;for(;a>0;){const o=n.readBits(13);let u=o/192<<8&4294967295|o%192;u<7936?u+=33088:u+=49472,l[r]=u>>8,l[r+1]=u,r+=2,a--}try{i.append(lt.decode(l,be.SHIFT_JIS))}catch(o){throw new W(o)}}static decodeByteSegment(n,i,a,l,r,o){if(8*a>n.available())throw new W;const u=new Uint8Array(a);for(let d=0;d<a;d++)u[d]=n.readBits(8);let f;l===null?f=be.guessEncoding(u,o):f=l.getName();try{i.append(lt.decode(u,f))}catch(d){throw new W(d)}r.push(u)}static toAlphaNumericChar(n){if(n>=Ke.ALPHANUMERIC_CHARS.length)throw new W;return Ke.ALPHANUMERIC_CHARS[n]}static decodeAlphanumericSegment(n,i,a,l){const r=i.length();for(;a>1;){if(n.available()<11)throw new W;const o=n.readBits(11);i.append(Ke.toAlphaNumericChar(Math.floor(o/45))),i.append(Ke.toAlphaNumericChar(o%45)),a-=2}if(a===1){if(n.available()<6)throw new W;i.append(Ke.toAlphaNumericChar(n.readBits(6)))}if(l)for(let o=r;o<i.length();o++)i.charAt(o)==="%"&&(o<i.length()-1&&i.charAt(o+1)==="%"?i.deleteCharAt(o+1):i.setCharAt(o,""))}static decodeNumericSegment(n,i,a){for(;a>=3;){if(n.available()<10)throw new W;const l=n.readBits(10);if(l>=1e3)throw new W;i.append(Ke.toAlphaNumericChar(Math.floor(l/100))),i.append(Ke.toAlphaNumericChar(Math.floor(l/10)%10)),i.append(Ke.toAlphaNumericChar(l%10)),a-=3}if(a===2){if(n.available()<7)throw new W;const l=n.readBits(7);if(l>=100)throw new W;i.append(Ke.toAlphaNumericChar(Math.floor(l/10))),i.append(Ke.toAlphaNumericChar(l%10))}else if(a===1){if(n.available()<4)throw new W;const l=n.readBits(4);if(l>=10)throw new W;i.append(Ke.toAlphaNumericChar(l))}}static parseECIValue(n){const i=n.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const a=n.readBits(8);return(i&63)<<8&4294967295|a}if((i&224)===192){const a=n.readBits(16);return(i&31)<<16&4294967295|a}throw new W}}Ke.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ke.GB2312_SUBSET=1;class ui{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;const i=n[0];n[0]=n[2],n[2]=i}}class fo{constructor(){this.rsDecoder=new ms(Ge.QR_CODE_FIELD_256)}decodeBooleanArray(n,i){return this.decodeBitMatrix(kt.parseFromBooleanArray(n),i)}decodeBitMatrix(n,i){const a=new nt(n);let l=null;try{return this.decodeBitMatrixParser(a,i)}catch(r){l=r}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const r=this.decodeBitMatrixParser(a,i);return r.setOther(new ui(!0)),r}catch(r){throw l!==null?l:r}}decodeBitMatrixParser(n,i){const a=n.readVersion(),l=n.readFormatInformation().getErrorCorrectionLevel(),r=n.readCodewords(),o=vs.getDataBlocks(r,a,l);let u=0;for(const g of o)u+=g.getNumDataCodewords();const f=new Uint8Array(u);let d=0;for(const g of o){const x=g.getCodewords(),y=g.getNumDataCodewords();this.correctErrors(x,y);for(let C=0;C<y;C++)f[d++]=x[C]}return Ke.decode(f,a,l,i)}correctErrors(n,i){const a=new Int32Array(n);try{this.rsDecoder.decode(a,n.length-i)}catch{throw new V}for(let l=0;l<i;l++)n[l]=a[l]}}class gr extends xe{constructor(n,i,a){super(n,i),this.estimatedModuleSize=a}aboutEquals(n,i,a){if(Math.abs(i-this.getY())<=n&&Math.abs(a-this.getX())<=n){const l=Math.abs(n-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(n,i,a){const l=(this.getX()+i)/2,r=(this.getY()+n)/2,o=(this.estimatedModuleSize+a)/2;return new gr(l,r,o)}}class Es{constructor(n,i,a,l,r,o,u){this.image=n,this.startX=i,this.startY=a,this.width=l,this.height=r,this.moduleSize=o,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const n=this.startX,i=this.height,a=this.width,l=n+a,r=this.startY+i/2,o=new Int32Array(3),u=this.image;for(let f=0;f<i;f++){const d=r+(f&1?-Math.floor((f+1)/2):Math.floor((f+1)/2));o[0]=0,o[1]=0,o[2]=0;let g=n;for(;g<l&&!u.get(g,d);)g++;let x=0;for(;g<l;){if(u.get(g,d))if(x===1)o[1]++;else if(x===2){if(this.foundPatternCross(o)){const y=this.handlePossibleCenter(o,d,g);if(y!==null)return y}o[0]=o[2],o[1]=1,o[2]=0,x=1}else o[++x]++;else x===1&&x++,o[x]++;g++}if(this.foundPatternCross(o)){const y=this.handlePossibleCenter(o,d,l);if(y!==null)return y}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new $}static centerFromEnd(n,i){return i-n[2]-n[1]/2}foundPatternCross(n){const i=this.moduleSize,a=i/2;for(let l=0;l<3;l++)if(Math.abs(i-n[l])>=a)return!1;return!0}crossCheckVertical(n,i,a,l){const r=this.image,o=r.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;let f=n;for(;f>=0&&r.get(i,f)&&u[1]<=a;)u[1]++,f--;if(f<0||u[1]>a)return NaN;for(;f>=0&&!r.get(i,f)&&u[0]<=a;)u[0]++,f--;if(u[0]>a)return NaN;for(f=n+1;f<o&&r.get(i,f)&&u[1]<=a;)u[1]++,f++;if(f===o||u[1]>a)return NaN;for(;f<o&&!r.get(i,f)&&u[2]<=a;)u[2]++,f++;if(u[2]>a)return NaN;const d=u[0]+u[1]+u[2];return 5*Math.abs(d-l)>=2*l?NaN:this.foundPatternCross(u)?Es.centerFromEnd(u,f):NaN}handlePossibleCenter(n,i,a){const l=n[0]+n[1]+n[2],r=Es.centerFromEnd(n,a),o=this.crossCheckVertical(i,r,2*n[1],l);if(!isNaN(o)){const u=(n[0]+n[1]+n[2])/3;for(const d of this.possibleCenters)if(d.aboutEquals(u,o,r))return d.combineEstimate(o,r,u);const f=new gr(r,o,u);this.possibleCenters.push(f),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(f)}return null}}class ho extends xe{constructor(n,i,a,l){super(n,i),this.estimatedModuleSize=a,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,i,a){if(Math.abs(i-this.getY())<=n&&Math.abs(a-this.getX())<=n){const l=Math.abs(n-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(n,i,a){const l=this.count+1,r=(this.count*this.getX()+i)/l,o=(this.count*this.getY()+n)/l,u=(this.count*this.estimatedModuleSize+a)/l;return new ho(r,o,u,l)}}class qt{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class pt{constructor(n,i){this.image=n,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(n){const i=n!=null&&n.get(ne.TRY_HARDER)!==void 0,a=n!=null&&n.get(ne.PURE_BARCODE)!==void 0,l=this.image,r=l.getHeight(),o=l.getWidth();let u=Math.floor(3*r/(4*pt.MAX_MODULES));(u<pt.MIN_SKIP||i)&&(u=pt.MIN_SKIP);let f=!1;const d=new Int32Array(5);for(let x=u-1;x<r&&!f;x+=u){d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0;let y=0;for(let C=0;C<o;C++)if(l.get(C,x))(y&1)===1&&y++,d[y]++;else if(y&1)d[y]++;else if(y===4)if(pt.foundPatternCross(d)){if(this.handlePossibleCenter(d,x,C,a)===!0)if(u=2,this.hasSkipped===!0)f=this.haveMultiplyConfirmedCenters();else{const _=this.findRowSkip();_>d[2]&&(x+=_-d[2]-u,C=o-1)}else{d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,y=3;continue}y=0,d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0}else d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,y=3;else d[++y]++;pt.foundPatternCross(d)&&this.handlePossibleCenter(d,x,o,a)===!0&&(u=d[0],this.hasSkipped&&(f=this.haveMultiplyConfirmedCenters()))}const g=this.selectBestPatterns();return xe.orderBestPatterns(g),new qt(g)}static centerFromEnd(n,i){return i-n[4]-n[3]-n[2]/2}static foundPatternCross(n){let i=0;for(let r=0;r<5;r++){const o=n[r];if(o===0)return!1;i+=o}if(i<7)return!1;const a=i/7,l=a/2;return Math.abs(a-n[0])<l&&Math.abs(a-n[1])<l&&Math.abs(3*a-n[2])<3*l&&Math.abs(a-n[3])<l&&Math.abs(a-n[4])<l}getCrossCheckStateCount(){const n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n}crossCheckDiagonal(n,i,a,l){const r=this.getCrossCheckStateCount();let o=0;const u=this.image;for(;n>=o&&i>=o&&u.get(i-o,n-o);)r[2]++,o++;if(n<o||i<o)return!1;for(;n>=o&&i>=o&&!u.get(i-o,n-o)&&r[1]<=a;)r[1]++,o++;if(n<o||i<o||r[1]>a)return!1;for(;n>=o&&i>=o&&u.get(i-o,n-o)&&r[0]<=a;)r[0]++,o++;if(r[0]>a)return!1;const f=u.getHeight(),d=u.getWidth();for(o=1;n+o<f&&i+o<d&&u.get(i+o,n+o);)r[2]++,o++;if(n+o>=f||i+o>=d)return!1;for(;n+o<f&&i+o<d&&!u.get(i+o,n+o)&&r[3]<a;)r[3]++,o++;if(n+o>=f||i+o>=d||r[3]>=a)return!1;for(;n+o<f&&i+o<d&&u.get(i+o,n+o)&&r[4]<a;)r[4]++,o++;if(r[4]>=a)return!1;const g=r[0]+r[1]+r[2]+r[3]+r[4];return Math.abs(g-l)<2*l&&pt.foundPatternCross(r)}crossCheckVertical(n,i,a,l){const r=this.image,o=r.getHeight(),u=this.getCrossCheckStateCount();let f=n;for(;f>=0&&r.get(i,f);)u[2]++,f--;if(f<0)return NaN;for(;f>=0&&!r.get(i,f)&&u[1]<=a;)u[1]++,f--;if(f<0||u[1]>a)return NaN;for(;f>=0&&r.get(i,f)&&u[0]<=a;)u[0]++,f--;if(u[0]>a)return NaN;for(f=n+1;f<o&&r.get(i,f);)u[2]++,f++;if(f===o)return NaN;for(;f<o&&!r.get(i,f)&&u[3]<a;)u[3]++,f++;if(f===o||u[3]>=a)return NaN;for(;f<o&&r.get(i,f)&&u[4]<a;)u[4]++,f++;if(u[4]>=a)return NaN;const d=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(d-l)>=2*l?NaN:pt.foundPatternCross(u)?pt.centerFromEnd(u,f):NaN}crossCheckHorizontal(n,i,a,l){const r=this.image,o=r.getWidth(),u=this.getCrossCheckStateCount();let f=n;for(;f>=0&&r.get(f,i);)u[2]++,f--;if(f<0)return NaN;for(;f>=0&&!r.get(f,i)&&u[1]<=a;)u[1]++,f--;if(f<0||u[1]>a)return NaN;for(;f>=0&&r.get(f,i)&&u[0]<=a;)u[0]++,f--;if(u[0]>a)return NaN;for(f=n+1;f<o&&r.get(f,i);)u[2]++,f++;if(f===o)return NaN;for(;f<o&&!r.get(f,i)&&u[3]<a;)u[3]++,f++;if(f===o||u[3]>=a)return NaN;for(;f<o&&r.get(f,i)&&u[4]<a;)u[4]++,f++;if(u[4]>=a)return NaN;const d=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(d-l)>=l?NaN:pt.foundPatternCross(u)?pt.centerFromEnd(u,f):NaN}handlePossibleCenter(n,i,a,l){const r=n[0]+n[1]+n[2]+n[3]+n[4];let o=pt.centerFromEnd(n,a),u=this.crossCheckVertical(i,Math.floor(o),n[2],r);if(!isNaN(u)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(u),n[2],r),!isNaN(o)&&(!l||this.crossCheckDiagonal(Math.floor(u),Math.floor(o),n[2],r)))){const f=r/7;let d=!1;const g=this.possibleCenters;for(let x=0,y=g.length;x<y;x++){const C=g[x];if(C.aboutEquals(f,u,o)){g[x]=C.combineEstimate(u,o,f),d=!0;break}}if(!d){const x=new ho(o,u,f);g.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const a of this.possibleCenters)if(a.getCount()>=pt.CENTER_QUORUM)if(i==null)i=a;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-a.getX())-Math.abs(i.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let n=0,i=0;const a=this.possibleCenters.length;for(const o of this.possibleCenters)o.getCount()>=pt.CENTER_QUORUM&&(n++,i+=o.getEstimatedModuleSize());if(n<3)return!1;const l=i/a;let r=0;for(const o of this.possibleCenters)r+=Math.abs(o.getEstimatedModuleSize()-l);return r<=.05*i}selectBestPatterns(){const n=this.possibleCenters.length;if(n<3)throw new $;const i=this.possibleCenters;let a;if(n>3){let l=0,r=0;for(const f of this.possibleCenters){const d=f.getEstimatedModuleSize();l+=d,r+=d*d}a=l/n;let o=Math.sqrt(r/n-a*a);i.sort((f,d)=>{const g=Math.abs(d.getEstimatedModuleSize()-a),x=Math.abs(f.getEstimatedModuleSize()-a);return g<x?-1:g>x?1:0});const u=Math.max(.2*a,o);for(let f=0;f<i.length&&i.length>3;f++){const d=i[f];Math.abs(d.getEstimatedModuleSize()-a)>u&&(i.splice(f,1),f--)}}if(i.length>3){let l=0;for(const r of i)l+=r.getEstimatedModuleSize();a=l/i.length,i.sort((r,o)=>{if(o.getCount()===r.getCount()){const u=Math.abs(o.getEstimatedModuleSize()-a),f=Math.abs(r.getEstimatedModuleSize()-a);return u<f?1:u>f?-1:0}else return o.getCount()-r.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}pt.CENTER_QUORUM=2,pt.MIN_SKIP=3,pt.MAX_MODULES=57;class kr{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get(ne.NEED_RESULT_POINT_CALLBACK);const a=new pt(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(a)}processFinderPatternInfo(n){const i=n.getTopLeft(),a=n.getTopRight(),l=n.getBottomLeft(),r=this.calculateModuleSize(i,a,l);if(r<1)throw new $("No pattern found in proccess finder.");const o=kr.computeDimension(i,a,l,r),u=Se.getProvisionalVersionForDimension(o),f=u.getDimensionForVersion()-7;let d=null;if(u.getAlignmentPatternCenters().length>0){const C=a.getX()-i.getX()+l.getX(),S=a.getY()-i.getY()+l.getY(),_=1-3/f,b=Math.floor(i.getX()+_*(C-i.getX())),N=Math.floor(i.getY()+_*(S-i.getY()));for(let D=4;D<=16;D<<=1)try{d=this.findAlignmentInRegion(r,b,N,D);break}catch(k){if(!(k instanceof $))throw k}}const g=kr.createTransform(i,a,l,d,o),x=kr.sampleGrid(this.image,g,o);let y;return d===null?y=[l,i,a]:y=[l,i,a,d],new xs(x,y)}static createTransform(n,i,a,l,r){const o=r-3.5;let u,f,d,g;return l!==null?(u=l.getX(),f=l.getY(),d=o-3,g=d):(u=i.getX()-n.getX()+a.getX(),f=i.getY()-n.getY()+a.getY(),d=o,g=o),fn.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,d,g,3.5,o,n.getX(),n.getY(),i.getX(),i.getY(),u,f,a.getX(),a.getY())}static sampleGrid(n,i,a){return Pn.getInstance().sampleGridWithTransform(n,a,a,i)}static computeDimension(n,i,a,l){const r=Ze.round(xe.distance(n,i)/l),o=Ze.round(xe.distance(n,a)/l);let u=Math.floor((r+o)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new $("Dimensions could be not found.")}return u}calculateModuleSize(n,i,a){return(this.calculateModuleSizeOneWay(n,i)+this.calculateModuleSizeOneWay(n,a))/2}calculateModuleSizeOneWay(n,i){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(i.getX()),Math.floor(i.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(a)?l/7:isNaN(l)?a/7:(a+l)/14}sizeOfBlackWhiteBlackRunBothWays(n,i,a,l){let r=this.sizeOfBlackWhiteBlackRun(n,i,a,l),o=1,u=n-(a-n);u<0?(o=n/(n-u),u=0):u>=this.image.getWidth()&&(o=(this.image.getWidth()-1-n)/(u-n),u=this.image.getWidth()-1);let f=Math.floor(i-(l-i)*o);return o=1,f<0?(o=i/(i-f),f=0):f>=this.image.getHeight()&&(o=(this.image.getHeight()-1-i)/(f-i),f=this.image.getHeight()-1),u=Math.floor(n+(u-n)*o),r+=this.sizeOfBlackWhiteBlackRun(n,i,u,f),r-1}sizeOfBlackWhiteBlackRun(n,i,a,l){const r=Math.abs(l-i)>Math.abs(a-n);if(r){let C=n;n=i,i=C,C=a,a=l,l=C}const o=Math.abs(a-n),u=Math.abs(l-i);let f=-o/2;const d=n<a?1:-1,g=i<l?1:-1;let x=0;const y=a+d;for(let C=n,S=i;C!==y;C+=d){const _=r?S:C,b=r?C:S;if(x===1===this.image.get(_,b)){if(x===2)return Ze.distance(C,S,n,i);x++}if(f+=u,f>0){if(S===l)break;S+=g,f-=o}}return x===2?Ze.distance(a+d,l,n,i):NaN}findAlignmentInRegion(n,i,a,l){const r=Math.floor(l*n),o=Math.max(0,i-r),u=Math.min(this.image.getWidth()-1,i+r);if(u-o<n*3)throw new $("Alignment top exceeds estimated module size.");const f=Math.max(0,a-r),d=Math.min(this.image.getHeight()-1,a+r);if(d-f<n*3)throw new $("Alignment bottom exceeds estimated module size.");return new Es(this.image,o,f,u-o,d-f,n,this.resultPointCallback).find()}}class jn{constructor(){this.decoder=new fo}getDecoder(){return this.decoder}decode(n,i){let a,l;if(i!=null&&i.get(ne.PURE_BARCODE)!==void 0){const f=jn.extractPureBits(n.getBlackMatrix());a=this.decoder.decodeBitMatrix(f,i),l=jn.NO_POINTS}else{const f=new kr(n.getBlackMatrix()).detect(i);a=this.decoder.decodeBitMatrix(f.getBits(),i),l=f.getPoints()}a.getOther()instanceof ui&&a.getOther().applyMirroredCorrection(l);const r=new Ct(a.getText(),a.getRawBytes(),void 0,l,Ce.QR_CODE,void 0),o=a.getByteSegments();o!==null&&r.putMetadata(Yt.BYTE_SEGMENTS,o);const u=a.getECLevel();return u!==null&&r.putMetadata(Yt.ERROR_CORRECTION_LEVEL,u),a.hasStructuredAppend()&&(r.putMetadata(Yt.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),r.putMetadata(Yt.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),r}reset(){}static extractPureBits(n){const i=n.getTopLeftOnBit(),a=n.getBottomRightOnBit();if(i===null||a===null)throw new $;const l=this.moduleSize(i,n);let r=i[1],o=a[1],u=i[0],f=a[0];if(u>=f||r>=o)throw new $;if(o-r!==f-u&&(f=u+(o-r),f>=n.getWidth()))throw new $;const d=Math.round((f-u+1)/l),g=Math.round((o-r+1)/l);if(d<=0||g<=0)throw new $;if(g!==d)throw new $;const x=Math.floor(l/2);r+=x,u+=x;const y=u+Math.floor((d-1)*l)-f;if(y>0){if(y>x)throw new $;u-=y}const C=r+Math.floor((g-1)*l)-o;if(C>0){if(C>x)throw new $;r-=C}const S=new kt(d,g);for(let _=0;_<g;_++){const b=r+Math.floor(_*l);for(let N=0;N<d;N++)n.get(u+Math.floor(N*l),b)&&S.set(N,_)}return S}static moduleSize(n,i){const a=i.getHeight(),l=i.getWidth();let r=n[0],o=n[1],u=!0,f=0;for(;r<l&&o<a;){if(u!==i.get(r,o)){if(++f===5)break;u=!u}r++,o++}if(r===l||o===a)throw new $;return(r-n[0])/7}}jn.NO_POINTS=new Array;class Re{PDF417Common(){}static getBitCountSum(n){return Ze.sum(n)}static toIntArray(n){if(n==null||!n.length)return Re.EMPTY_INT_ARRAY;const i=new Int32Array(n.length);let a=0;for(const l of n)i[a++]=l;return i}static getCodeword(n){const i=T.binarySearch(Re.SYMBOL_TABLE,n&262143);return i<0?-1:(Re.CODEWORD_TABLE[i]-1)%Re.NUMBER_OF_CODEWORDS}}Re.NUMBER_OF_CODEWORDS=929,Re.MAX_CODEWORDS_IN_BARCODE=Re.NUMBER_OF_CODEWORDS-1,Re.MIN_ROWS_IN_BARCODE=3,Re.MAX_ROWS_IN_BARCODE=90,Re.MODULES_IN_CODEWORD=17,Re.MODULES_IN_STOP_PATTERN=18,Re.BARS_IN_MODULE=8,Re.EMPTY_INT_ARRAY=new Int32Array([]),Re.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Re.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class qr{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Ue{static detectMultiple(n,i,a){let l=n.getBlackMatrix(),r=Ue.detect(a,l);return r.length||(l=l.clone(),l.rotate180(),r=Ue.detect(a,l)),new qr(l,r)}static detect(n,i){const a=new Array;let l=0,r=0,o=!1;for(;l<i.getHeight();){const u=Ue.findVertices(i,l,r);if(u[0]==null&&u[3]==null){if(!o)break;o=!1,r=0;for(const f of a)f[1]!=null&&(l=Math.trunc(Math.max(l,f[1].getY()))),f[3]!=null&&(l=Math.max(l,Math.trunc(f[3].getY())));l+=Ue.ROW_STEP;continue}if(o=!0,a.push(u),!n)break;u[2]!=null?(r=Math.trunc(u[2].getX()),l=Math.trunc(u[2].getY())):(r=Math.trunc(u[4].getX()),l=Math.trunc(u[4].getY()))}return a}static findVertices(n,i,a){const l=n.getHeight(),r=n.getWidth(),o=new Array(8);return Ue.copyToResult(o,Ue.findRowsWithPattern(n,l,r,i,a,Ue.START_PATTERN),Ue.INDEXES_START_PATTERN),o[4]!=null&&(a=Math.trunc(o[4].getX()),i=Math.trunc(o[4].getY())),Ue.copyToResult(o,Ue.findRowsWithPattern(n,l,r,i,a,Ue.STOP_PATTERN),Ue.INDEXES_STOP_PATTERN),o}static copyToResult(n,i,a){for(let l=0;l<a.length;l++)n[a[l]]=i[l]}static findRowsWithPattern(n,i,a,l,r,o){const u=new Array(4);let f=!1;const d=new Int32Array(o.length);for(;l<i;l+=Ue.ROW_STEP){let x=Ue.findGuardPattern(n,r,l,a,!1,o,d);if(x!=null){for(;l>0;){const y=Ue.findGuardPattern(n,r,--l,a,!1,o,d);if(y!=null)x=y;else{l++;break}}u[0]=new xe(x[0],l),u[1]=new xe(x[1],l),f=!0;break}}let g=l+1;if(f){let x=0,y=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);for(;g<i;g++){const C=Ue.findGuardPattern(n,y[0],g,a,!1,o,d);if(C!=null&&Math.abs(y[0]-C[0])<Ue.MAX_PATTERN_DRIFT&&Math.abs(y[1]-C[1])<Ue.MAX_PATTERN_DRIFT)y=C,x=0;else{if(x>Ue.SKIPPED_ROW_COUNT_MAX)break;x++}}g-=x+1,u[2]=new xe(y[0],g),u[3]=new xe(y[1],g)}return g-l<Ue.BARCODE_MIN_HEIGHT&&T.fill(u,null),u}static findGuardPattern(n,i,a,l,r,o,u){T.fillWithin(u,0,u.length,0);let f=i,d=0;for(;n.get(f,a)&&f>0&&d++<Ue.MAX_PIXEL_DRIFT;)f--;let g=f,x=0,y=o.length;for(let C=r;g<l;g++)if(n.get(g,a)!==C)u[x]++;else{if(x===y-1){if(Ue.patternMatchVariance(u,o,Ue.MAX_INDIVIDUAL_VARIANCE)<Ue.MAX_AVG_VARIANCE)return new Int32Array([f,g]);f+=u[0]+u[1],G.arraycopy(u,2,u,0,x-1),u[x-1]=0,u[x]=0,x--}else x++;u[x]=1,C=!C}return x===y-1&&Ue.patternMatchVariance(u,o,Ue.MAX_INDIVIDUAL_VARIANCE)<Ue.MAX_AVG_VARIANCE?new Int32Array([f,g-1]):null}static patternMatchVariance(n,i,a){let l=n.length,r=0,o=0;for(let d=0;d<l;d++)r+=n[d],o+=i[d];if(r<o)return 1/0;let u=r/o;a*=u;let f=0;for(let d=0;d<l;d++){let g=n[d],x=i[d]*u,y=g>x?g-x:x-g;if(y>a)return 1/0;f+=y}return f/r}}Ue.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ue.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ue.MAX_AVG_VARIANCE=.42,Ue.MAX_INDIVIDUAL_VARIANCE=.8,Ue.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ue.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ue.MAX_PIXEL_DRIFT=3,Ue.MAX_PATTERN_DRIFT=5,Ue.SKIPPED_ROW_COUNT_MAX=25,Ue.ROW_STEP=5,Ue.BARCODE_MIN_HEIGHT=10;class vt{constructor(n,i){if(i.length===0)throw new I;this.field=n;let a=i.length;if(a>1&&i[0]===0){let l=1;for(;l<a&&i[l]===0;)l++;l===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-l),G.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let l=0;for(let r of this.coefficients)l=this.field.add(l,r);return l}let i=this.coefficients[0],a=this.coefficients.length;for(let l=1;l<a;l++)i=this.field.add(this.field.multiply(n,i),this.coefficients[l]);return i}add(n){if(!this.field.equals(n.field))throw new I("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,a=n.coefficients;if(i.length>a.length){let o=i;i=a,a=o}let l=new Int32Array(a.length),r=a.length-i.length;G.arraycopy(a,0,l,0,r);for(let o=r;o<a.length;o++)l[o]=this.field.add(i[o-r],a[o]);return new vt(this.field,l)}subtract(n){if(!this.field.equals(n.field))throw new I("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof vt?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new I("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new vt(this.field,new Int32Array([0]));let i=this.coefficients,a=i.length,l=n.coefficients,r=l.length,o=new Int32Array(a+r-1);for(let u=0;u<a;u++){let f=i[u];for(let d=0;d<r;d++)o[u+d]=this.field.add(o[u+d],this.field.multiply(f,l[d]))}return new vt(this.field,o)}negative(){let n=this.coefficients.length,i=new Int32Array(n);for(let a=0;a<n;a++)i[a]=this.field.subtract(0,this.coefficients[a]);return new vt(this.field,i)}multiplyScalar(n){if(n===0)return new vt(this.field,new Int32Array([0]));if(n===1)return this;let i=this.coefficients.length,a=new Int32Array(i);for(let l=0;l<i;l++)a[l]=this.field.multiply(this.coefficients[l],n);return new vt(this.field,a)}multiplyByMonomial(n,i){if(n<0)throw new I;if(i===0)return new vt(this.field,new Int32Array([0]));let a=this.coefficients.length,l=new Int32Array(a+n);for(let r=0;r<a;r++)l[r]=this.field.multiply(this.coefficients[r],i);return new vt(this.field,l)}toString(){let n=new Fe;for(let i=this.getDegree();i>=0;i--){let a=this.getCoefficient(i);a!==0&&(a<0?(n.append(" - "),a=-a):n.length()>0&&n.append(" + "),(i===0||a!==1)&&n.append(a),i!==0&&(i===1?n.append("x"):(n.append("x^"),n.append(i))))}return n.toString()}}class Ea{add(n,i){return(n+i)%this.modulus}subtract(n,i){return(this.modulus+n-i)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new I;return this.logTable[n]}inverse(n){if(n===0)throw new rt;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class po extends Ea{constructor(n,i){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let a=1;for(let l=0;l<n;l++)this.expTable[l]=a,a=a*i%n;for(let l=0;l<n-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new vt(this,new Int32Array([0])),this.one=new vt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new I;if(i===0)return this.zero;let a=new Int32Array(n+1);return a[0]=i,new vt(this,a)}}po.PDF417_GF=new po(Re.NUMBER_OF_CODEWORDS,3);class go{constructor(){this.field=po.PDF417_GF}decode(n,i,a){let l=new vt(this.field,n),r=new Int32Array(i),o=!1;for(let S=i;S>0;S--){let _=l.evaluateAt(this.field.exp(S));r[i-S]=_,_!==0&&(o=!0)}if(!o)return 0;let u=this.field.getOne();if(a!=null)for(const S of a){let _=this.field.exp(n.length-1-S),b=new vt(this.field,new Int32Array([this.field.subtract(0,_),1]));u=u.multiply(b)}let f=new vt(this.field,r),d=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),f,i),g=d[0],x=d[1],y=this.findErrorLocations(g),C=this.findErrorMagnitudes(x,g,y);for(let S=0;S<y.length;S++){let _=n.length-1-this.field.log(y[S]);if(_<0)throw V.getChecksumInstance();n[_]=this.field.subtract(n[_],C[S])}return y.length}runEuclideanAlgorithm(n,i,a){if(n.getDegree()<i.getDegree()){let y=n;n=i,i=y}let l=n,r=i,o=this.field.getZero(),u=this.field.getOne();for(;r.getDegree()>=Math.round(a/2);){let y=l,C=o;if(l=r,o=u,l.isZero())throw V.getChecksumInstance();r=y;let S=this.field.getZero(),_=l.getCoefficient(l.getDegree()),b=this.field.inverse(_);for(;r.getDegree()>=l.getDegree()&&!r.isZero();){let N=r.getDegree()-l.getDegree(),D=this.field.multiply(r.getCoefficient(r.getDegree()),b);S=S.add(this.field.buildMonomial(N,D)),r=r.subtract(l.multiplyByMonomial(N,D))}u=S.multiply(o).subtract(C).negative()}let f=u.getCoefficient(0);if(f===0)throw V.getChecksumInstance();let d=this.field.inverse(f),g=u.multiply(d),x=r.multiply(d);return[g,x]}findErrorLocations(n){let i=n.getDegree(),a=new Int32Array(i),l=0;for(let r=1;r<this.field.getSize()&&l<i;r++)n.evaluateAt(r)===0&&(a[l]=this.field.inverse(r),l++);if(l!==i)throw V.getChecksumInstance();return a}findErrorMagnitudes(n,i,a){let l=i.getDegree(),r=new Int32Array(l);for(let d=1;d<=l;d++)r[l-d]=this.field.multiply(d,i.getCoefficient(d));let o=new vt(this.field,r),u=a.length,f=new Int32Array(u);for(let d=0;d<u;d++){let g=this.field.inverse(a[d]),x=this.field.subtract(0,n.evaluateAt(g)),y=this.field.inverse(o.evaluateAt(g));f[d]=this.field.multiply(x,y)}return f}}class Jn{constructor(n,i,a,l,r){n instanceof Jn?this.constructor_2(n):this.constructor_1(n,i,a,l,r)}constructor_1(n,i,a,l,r){const o=i==null||a==null,u=l==null||r==null;if(o&&u)throw new $;o?(i=new xe(0,l.getY()),a=new xe(0,r.getY())):u&&(l=new xe(n.getWidth()-1,i.getY()),r=new xe(n.getWidth()-1,a.getY())),this.image=n,this.topLeft=i,this.bottomLeft=a,this.topRight=l,this.bottomRight=r,this.minX=Math.trunc(Math.min(i.getX(),a.getX())),this.maxX=Math.trunc(Math.max(l.getX(),r.getX())),this.minY=Math.trunc(Math.min(i.getY(),l.getY())),this.maxY=Math.trunc(Math.max(a.getY(),r.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,i){return n==null?i:i==null?n:new Jn(n.image,n.topLeft,n.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(n,i,a){let l=this.topLeft,r=this.bottomLeft,o=this.topRight,u=this.bottomRight;if(n>0){let f=a?this.topLeft:this.topRight,d=Math.trunc(f.getY()-n);d<0&&(d=0);let g=new xe(f.getX(),d);a?l=g:o=g}if(i>0){let f=a?this.bottomLeft:this.bottomRight,d=Math.trunc(f.getY()+i);d>=this.image.getHeight()&&(d=this.image.getHeight()-1);let g=new xe(f.getX(),d);a?r=g:u=g}return new Jn(this.image,l,r,o,u)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Ca{constructor(n,i,a,l){this.columnCount=n,this.errorCorrectionLevel=l,this.rowCountUpperPart=i,this.rowCountLowerPart=a,this.rowCount=i+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Di{constructor(){this.buffer=""}static form(n,i){let a=-1;function l(o,u,f,d,g,x){if(o==="%%")return"%";if(i[++a]===void 0)return;o=d?parseInt(d.substr(1)):void 0;let y=g?parseInt(g.substr(1)):void 0,C;switch(x){case"s":C=i[a];break;case"c":C=i[a][0];break;case"f":C=parseFloat(i[a]).toFixed(o);break;case"p":C=parseFloat(i[a]).toPrecision(o);break;case"e":C=parseFloat(i[a]).toExponential(o);break;case"x":C=parseInt(i[a]).toString(y||16);break;case"d":C=parseFloat(parseInt(i[a],y||10).toPrecision(o)).toFixed(0);break}C=typeof C=="object"?JSON.stringify(C):(+C).toString(y);let S=parseInt(f),_=f&&f[0]+""=="0"?"0":" ";for(;C.length<S;)C=u!==void 0?C+_:_+C;return C}let r=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(r,l)}format(n,...i){this.buffer+=Di.form(n,i)}toString(){return this.buffer}}class Cs{constructor(n){this.boundingBox=new Jn(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}getCodewordNearby(n){let i=this.getCodeword(n);if(i!=null)return i;for(let a=1;a<Cs.MAX_NEARBY_DISTANCE;a++){let l=this.imageRowToCodewordIndex(n)-a;if(l>=0&&(i=this.codewords[l],i!=null)||(l=this.imageRowToCodewordIndex(n)+a,l<this.codewords.length&&(i=this.codewords[l],i!=null)))return i}return null}imageRowToCodewordIndex(n){return n-this.boundingBox.getMinY()}setCodeword(n,i){this.codewords[this.imageRowToCodewordIndex(n)]=i}getCodeword(n){return this.codewords[this.imageRowToCodewordIndex(n)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const n=new Di;let i=0;for(const a of this.codewords){if(a==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,a.getRowNumber(),a.getValue())}return n.toString()}}Cs.MAX_NEARBY_DISTANCE=5;class Pr{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let i=this.values.get(n);i==null&&(i=0),i++,this.values.set(n,i)}getValue(){let n=-1,i=new Array;for(const[a,l]of this.values.entries()){const r={getKey:()=>a,getValue:()=>l};r.getValue()>n?(n=r.getValue(),i=[],i.push(r.getKey())):r.getValue()===n&&i.push(r.getKey())}return Re.toIntArray(i)}getConfidence(n){return this.values.get(n)}}class Dl extends Cs{constructor(n,i){super(n),this._isLeft=i}setRowNumbers(){for(let n of this.getCodewords())n!=null&&n.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,n);let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),r=this._isLeft?a.getBottomLeft():a.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(l.getY())),u=this.imageRowToCodewordIndex(Math.trunc(r.getY())),f=-1,d=1,g=0;for(let x=o;x<u;x++){if(i[x]==null)continue;let y=i[x],C=y.getRowNumber()-f;if(C===0)g++;else if(C===1)d=Math.max(d,g),g=1,f=y.getRowNumber();else if(C<0||y.getRowNumber()>=n.getRowCount()||C>x)i[x]=null;else{let S;d>2?S=(d-2)*C:S=C;let _=S>=x;for(let b=1;b<=S&&!_;b++)_=i[x-b]!=null;_?i[x]=null:(f=y.getRowNumber(),g=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let i=new Int32Array(n.getRowCount());for(let a of this.getCodewords())if(a!=null){let l=a.getRowNumber();if(l>=i.length)continue;i[l]++}return i}adjustIncompleteIndicatorColumnRowNumbers(n){let i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),r=this.imageRowToCodewordIndex(Math.trunc(a.getY())),o=this.imageRowToCodewordIndex(Math.trunc(l.getY())),u=this.getCodewords(),f=-1;for(let d=r;d<o;d++){if(u[d]==null)continue;let g=u[d];g.setRowNumberAsRowIndicatorColumn();let x=g.getRowNumber()-f;x===0||(x===1?f=g.getRowNumber():g.getRowNumber()>=n.getRowCount()?u[d]=null:f=g.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),i=new Pr,a=new Pr,l=new Pr,r=new Pr;for(let u of n){if(u==null)continue;u.setRowNumberAsRowIndicatorColumn();let f=u.getValue()%30,d=u.getRowNumber();switch(this._isLeft||(d+=2),d%3){case 0:a.setValue(f*3+1);break;case 1:r.setValue(f/3),l.setValue(f%3);break;case 2:i.setValue(f+1);break}}if(i.getValue().length===0||a.getValue().length===0||l.getValue().length===0||r.getValue().length===0||i.getValue()[0]<1||a.getValue()[0]+l.getValue()[0]<Re.MIN_ROWS_IN_BARCODE||a.getValue()[0]+l.getValue()[0]>Re.MAX_ROWS_IN_BARCODE)return null;let o=new Ca(i.getValue()[0],a.getValue()[0],l.getValue()[0],r.getValue()[0]);return this.removeIncorrectCodewords(n,o),o}removeIncorrectCodewords(n,i){for(let a=0;a<n.length;a++){let l=n[a];if(n[a]==null)continue;let r=l.getValue()%30,o=l.getRowNumber();if(o>i.getRowCount()){n[a]=null;continue}switch(this._isLeft||(o+=2),o%3){case 0:r*3+1!==i.getRowCountUpperPart()&&(n[a]=null);break;case 1:(Math.trunc(r/3)!==i.getErrorCorrectionLevel()||r%3!==i.getRowCountLowerPart())&&(n[a]=null);break;case 2:r+1!==i.getColumnCount()&&(n[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class As{constructor(n,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=Re.MAX_CODEWORDS_IN_BARCODE,i;do i=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n!=null&&n.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let a=this.detectionResultColumns[i].getCodewords();for(let l=0;l<a.length;l++)a[l]!=null&&(a[l].hasValidRowNumber()||this.adjustRowNumbers(i,l,a))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<n.length;a++)if(n[a]!=null&&i[a]!=null&&n[a].getRowNumber()===i[a].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let r=this.detectionResultColumns[l].getCodewords()[a];r!=null&&(r.setRowNumber(n[a].getRowNumber()),r.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<i.length;a++){if(i[a]==null)continue;let l=i[a].getRowNumber(),r=0;for(let o=this.barcodeColumnCount+1;o>0&&r<this.ADJUST_ROW_NUMBER_SKIP;o--){let u=this.detectionResultColumns[o].getCodewords()[a];u!=null&&(r=As.adjustRowNumberIfValid(l,r,u),u.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,i=this.detectionResultColumns[0].getCodewords();for(let a=0;a<i.length;a++){if(i[a]==null)continue;let l=i[a].getRowNumber(),r=0;for(let o=1;o<this.barcodeColumnCount+1&&r<this.ADJUST_ROW_NUMBER_SKIP;o++){let u=this.detectionResultColumns[o].getCodewords()[a];u!=null&&(r=As.adjustRowNumberIfValid(l,r,u),u.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,i,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(n)?(a.setRowNumber(n),i=0):++i),i}adjustRowNumbers(n,i,a){if(!this.detectionResultColumns[n-1])return;let l=a[i],r=this.detectionResultColumns[n-1].getCodewords(),o=r;this.detectionResultColumns[n+1]!=null&&(o=this.detectionResultColumns[n+1].getCodewords());let u=new Array(14);u[2]=r[i],u[3]=o[i],i>0&&(u[0]=a[i-1],u[4]=r[i-1],u[5]=o[i-1]),i>1&&(u[8]=a[i-2],u[10]=r[i-2],u[11]=o[i-2]),i<a.length-1&&(u[1]=a[i+1],u[6]=r[i+1],u[7]=o[i+1]),i<a.length-2&&(u[9]=a[i+2],u[12]=r[i+2],u[13]=o[i+2]);for(let f of u)if(As.adjustRowNumber(l,f))return}static adjustRowNumber(n,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===n.getBucket()?(n.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,i){this.detectionResultColumns[n]=i}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Di;for(let a=0;a<n.getCodewords().length;a++){i.format("CW %3d:",a);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){i.format("    |   ");continue}let r=this.detectionResultColumns[l].getCodewords()[a];if(r==null){i.format("    |   ");continue}i.format(" %3d|%3d",r.getRowNumber(),r.getValue())}i.format("%n")}return i.toString()}}class Qr{constructor(n,i,a,l){this.rowNumber=Qr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(i),this.bucket=Math.trunc(a),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(n){return n!==Qr.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(n){this.rowNumber=n}toString(){return this.rowNumber+"|"+this.value}}Qr.BARCODE_ROW_UNKNOWN=-1;class nn{static initialize(){for(let n=0;n<Re.SYMBOL_TABLE.length;n++){let i=Re.SYMBOL_TABLE[n],a=i&1;for(let l=0;l<Re.BARS_IN_MODULE;l++){let r=0;for(;(i&1)===a;)r+=1,i>>=1;a=i&1,nn.RATIOS_TABLE[n]||(nn.RATIOS_TABLE[n]=new Array(Re.BARS_IN_MODULE)),nn.RATIOS_TABLE[n][Re.BARS_IN_MODULE-l-1]=Math.fround(r/Re.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let i=nn.getDecodedCodewordValue(nn.sampleBitCounts(n));return i!==-1?i:nn.getClosestDecodedValue(n)}static sampleBitCounts(n){let i=Ze.sum(n),a=new Int32Array(Re.BARS_IN_MODULE),l=0,r=0;for(let o=0;o<Re.MODULES_IN_CODEWORD;o++){let u=i/(2*Re.MODULES_IN_CODEWORD)+o*i/Re.MODULES_IN_CODEWORD;r+n[l]<=u&&(r+=n[l],l++),a[l]++}return a}static getDecodedCodewordValue(n){let i=nn.getBitValue(n);return Re.getCodeword(i)===-1?-1:i}static getBitValue(n){let i=0;for(let a=0;a<n.length;a++)for(let l=0;l<n[a];l++)i=i<<1|(a%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(n){let i=Ze.sum(n),a=new Array(Re.BARS_IN_MODULE);if(i>1)for(let o=0;o<a.length;o++)a[o]=Math.fround(n[o]/i);let l=Ni.MAX_VALUE,r=-1;this.bSymbolTableReady||nn.initialize();for(let o=0;o<nn.RATIOS_TABLE.length;o++){let u=0,f=nn.RATIOS_TABLE[o];for(let d=0;d<Re.BARS_IN_MODULE;d++){let g=Math.fround(f[d]-a[d]);if(u+=Math.fround(g*g),u>=l)break}u<l&&(l=u,r=Re.SYMBOL_TABLE[o])}return r}}nn.bSymbolTableReady=!1,nn.RATIOS_TABLE=new Array(Re.SYMBOL_TABLE.length).map(A=>new Array(Re.BARS_IN_MODULE));class mo{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class kl{static parseLong(n,i=void 0){return parseInt(n,i)}}class Pl extends w{}Pl.kind="NullPointerException";class mc{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,i,a){if(n==null)throw new Pl;if(i<0||i>n.length||a<0||i+a>n.length||i+a<0)throw new se;if(a===0)return;for(let l=0;l<a;l++)this.write(n[i+l])}flush(){}close(){}}class Aa extends w{}class Sa extends mc{constructor(n=32){if(super(),this.count=0,n<0)throw new I("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let a=this.buf.length<<1;if(a-n<0&&(a=n),a<0){if(n<0)throw new Aa;a=P.MAX_VALUE}this.buf=T.copyOfUint8Array(this.buf,a)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,i,a){if(i<0||i>n.length||a<0||i+a-n.length>0)throw new se;this.ensureCapacity(this.count+a),G.arraycopy(n,i,this.buf,this.count,a),this.count+=a}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return T.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var ut;(function(A){A[A.ALPHA=0]="ALPHA",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.PUNCT=3]="PUNCT",A[A.ALPHA_SHIFT=4]="ALPHA_SHIFT",A[A.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ut||(ut={}));function Ss(){if(typeof window<"u")return window.BigInt||null;if(typeof Ms<"u")return Ms.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ci;function $n(A){if(typeof ci>"u"&&(ci=Ss()),ci===null)throw new Error("BigInt is not supported!");return ci(A)}function Ml(){let A=[];A[0]=$n(1);let n=$n(900);A[1]=n;for(let i=2;i<16;i++)A[i]=A[i-1]*n;return A}class q{static decode(n,i){let a=new Fe(""),l=te.ISO8859_1;a.enableDecoding(l);let r=1,o=n[r++],u=new mo;for(;r<n[0];){switch(o){case q.TEXT_COMPACTION_MODE_LATCH:r=q.textCompaction(n,r,a);break;case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:r=q.byteCompaction(o,n,l,r,a);break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(n[r++]);break;case q.NUMERIC_COMPACTION_MODE_LATCH:r=q.numericCompaction(n,r,a);break;case q.ECI_CHARSET:te.getCharacterSetECIByValue(n[r++]);break;case q.ECI_GENERAL_PURPOSE:r+=2;break;case q.ECI_USER_DEFINED:r++;break;case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:r=q.decodeMacroBlock(n,r,u);break;case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:throw new W;default:r--,r=q.textCompaction(n,r,a);break}if(r<n.length)o=n[r++];else throw W.getFormatInstance()}if(a.length()===0)throw W.getFormatInstance();let f=new Ie(null,a.toString(),null,i);return f.setOther(u),f}static decodeMacroBlock(n,i,a){if(i+q.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw W.getFormatInstance();let l=new Int32Array(q.NUMBER_OF_SEQUENCE_CODEWORDS);for(let u=0;u<q.NUMBER_OF_SEQUENCE_CODEWORDS;u++,i++)l[u]=n[i];a.setSegmentIndex(P.parseInt(q.decodeBase900toBase10(l,q.NUMBER_OF_SEQUENCE_CODEWORDS)));let r=new Fe;i=q.textCompaction(n,i,r),a.setFileId(r.toString());let o=-1;for(n[i]===q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(o=i+1);i<n[0];)switch(n[i]){case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,n[i]){case q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let u=new Fe;i=q.textCompaction(n,i+1,u),a.setFileName(u.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let f=new Fe;i=q.textCompaction(n,i+1,f),a.setSender(f.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let d=new Fe;i=q.textCompaction(n,i+1,d),a.setAddressee(d.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let g=new Fe;i=q.numericCompaction(n,i+1,g),a.setSegmentCount(P.parseInt(g.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let x=new Fe;i=q.numericCompaction(n,i+1,x),a.setTimestamp(kl.parseLong(x.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let y=new Fe;i=q.numericCompaction(n,i+1,y),a.setChecksum(P.parseInt(y.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let C=new Fe;i=q.numericCompaction(n,i+1,C),a.setFileSize(kl.parseLong(C.toString()));break;default:throw W.getFormatInstance()}break;case q.MACRO_PDF417_TERMINATOR:i++,a.setLastSegment(!0);break;default:throw W.getFormatInstance()}if(o!==-1){let u=i-o;a.isLastSegment()&&u--,a.setOptionalData(T.copyOfRange(n,o,o+u))}return i}static textCompaction(n,i,a){let l=new Int32Array((n[0]-i)*2),r=new Int32Array((n[0]-i)*2),o=0,u=!1;for(;i<n[0]&&!u;){let f=n[i++];if(f<q.TEXT_COMPACTION_MODE_LATCH)l[o]=f/30,l[o+1]=f%30,o+=2;else switch(f){case q.TEXT_COMPACTION_MODE_LATCH:l[o++]=q.TEXT_COMPACTION_MODE_LATCH;break;case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:i--,u=!0;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[o]=q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,f=n[i++],r[o]=f,o++;break}}return q.decodeTextCompaction(l,r,o,a),i}static decodeTextCompaction(n,i,a,l){let r=ut.ALPHA,o=ut.ALPHA,u=0;for(;u<a;){let f=n[u],d="";switch(r){case ut.ALPHA:if(f<26)d=String.fromCharCode(65+f);else switch(f){case 26:d=" ";break;case q.LL:r=ut.LOWER;break;case q.ML:r=ut.MIXED;break;case q.PS:o=r,r=ut.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[u]);break;case q.TEXT_COMPACTION_MODE_LATCH:r=ut.ALPHA;break}break;case ut.LOWER:if(f<26)d=String.fromCharCode(97+f);else switch(f){case 26:d=" ";break;case q.AS:o=r,r=ut.ALPHA_SHIFT;break;case q.ML:r=ut.MIXED;break;case q.PS:o=r,r=ut.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[u]);break;case q.TEXT_COMPACTION_MODE_LATCH:r=ut.ALPHA;break}break;case ut.MIXED:if(f<q.PL)d=q.MIXED_CHARS[f];else switch(f){case q.PL:r=ut.PUNCT;break;case 26:d=" ";break;case q.LL:r=ut.LOWER;break;case q.AL:r=ut.ALPHA;break;case q.PS:o=r,r=ut.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[u]);break;case q.TEXT_COMPACTION_MODE_LATCH:r=ut.ALPHA;break}break;case ut.PUNCT:if(f<q.PAL)d=q.PUNCT_CHARS[f];else switch(f){case q.PAL:r=ut.ALPHA;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[u]);break;case q.TEXT_COMPACTION_MODE_LATCH:r=ut.ALPHA;break}break;case ut.ALPHA_SHIFT:if(r=o,f<26)d=String.fromCharCode(65+f);else switch(f){case 26:d=" ";break;case q.TEXT_COMPACTION_MODE_LATCH:r=ut.ALPHA;break}break;case ut.PUNCT_SHIFT:if(r=o,f<q.PAL)d=q.PUNCT_CHARS[f];else switch(f){case q.PAL:r=ut.ALPHA;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[u]);break;case q.TEXT_COMPACTION_MODE_LATCH:r=ut.ALPHA;break}break}d!==""&&l.append(d),u++}}static byteCompaction(n,i,a,l,r){let o=new Sa,u=0,f=0,d=!1;switch(n){case q.BYTE_COMPACTION_MODE_LATCH:let g=new Int32Array(6),x=i[l++];for(;l<i[0]&&!d;)switch(g[u++]=x,f=900*f+x,x=i[l++],x){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:l--,d=!0;break;default:if(u%5===0&&u>0){for(let y=0;y<6;++y)o.write(Number($n(f)>>$n(8*(5-y))));f=0,u=0}break}l===i[0]&&x<q.TEXT_COMPACTION_MODE_LATCH&&(g[u++]=x);for(let y=0;y<u;y++)o.write(g[y]);break;case q.BYTE_COMPACTION_MODE_LATCH_6:for(;l<i[0]&&!d;){let y=i[l++];if(y<q.TEXT_COMPACTION_MODE_LATCH)u++,f=900*f+y;else switch(y){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:l--,d=!0;break}if(u%5===0&&u>0){for(let C=0;C<6;++C)o.write(Number($n(f)>>$n(8*(5-C))));f=0,u=0}}break}return r.append(lt.decode(o.toByteArray(),a)),l}static numericCompaction(n,i,a){let l=0,r=!1,o=new Int32Array(q.MAX_NUMERIC_CODEWORDS);for(;i<n[0]&&!r;){let u=n[i++];if(i===n[0]&&(r=!0),u<q.TEXT_COMPACTION_MODE_LATCH)o[l]=u,l++;else switch(u){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:i--,r=!0;break}(l%q.MAX_NUMERIC_CODEWORDS===0||u===q.NUMERIC_COMPACTION_MODE_LATCH||r)&&l>0&&(a.append(q.decodeBase900toBase10(o,l)),l=0)}return i}static decodeBase900toBase10(n,i){let a=$n(0);for(let r=0;r<i;r++)a+=q.EXP900[i-r-1]*$n(n[r]);let l=a.toString();if(l.charAt(0)!=="1")throw new W;return l.substring(1)}}q.TEXT_COMPACTION_MODE_LATCH=900,q.BYTE_COMPACTION_MODE_LATCH=901,q.NUMERIC_COMPACTION_MODE_LATCH=902,q.BYTE_COMPACTION_MODE_LATCH_6=924,q.ECI_USER_DEFINED=925,q.ECI_GENERAL_PURPOSE=926,q.ECI_CHARSET=927,q.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,q.MACRO_PDF417_TERMINATOR=922,q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,q.MAX_NUMERIC_CODEWORDS=15,q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,q.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,q.PL=25,q.LL=27,q.AS=27,q.ML=28,q.AL=28,q.PS=29,q.PAL=29,q.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,q.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",q.EXP900=Ss()?Ml():[],q.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Le{constructor(){}static decode(n,i,a,l,r,o,u){let f=new Jn(n,i,a,l,r),d=null,g=null,x;for(let S=!0;;S=!1){if(i!=null&&(d=Le.getRowIndicatorColumn(n,f,i,!0,o,u)),l!=null&&(g=Le.getRowIndicatorColumn(n,f,l,!1,o,u)),x=Le.merge(d,g),x==null)throw $.getNotFoundInstance();let _=x.getBoundingBox();if(S&&_!=null&&(_.getMinY()<f.getMinY()||_.getMaxY()>f.getMaxY()))f=_;else break}x.setBoundingBox(f);let y=x.getBarcodeColumnCount()+1;x.setDetectionResultColumn(0,d),x.setDetectionResultColumn(y,g);let C=d!=null;for(let S=1;S<=y;S++){let _=C?S:y-S;if(x.getDetectionResultColumn(_)!==void 0)continue;let b;_===0||_===y?b=new Dl(f,_===0):b=new Cs(f),x.setDetectionResultColumn(_,b);let N=-1,D=N;for(let k=f.getMinY();k<=f.getMaxY();k++){if(N=Le.getStartColumn(x,_,k,C),N<0||N>f.getMaxX()){if(D===-1)continue;N=D}let M=Le.detectCodeword(n,f.getMinX(),f.getMaxX(),C,N,k,o,u);M!=null&&(b.setCodeword(k,M),D=N,o=Math.min(o,M.getWidth()),u=Math.max(u,M.getWidth()))}}return Le.createDecoderResult(x)}static merge(n,i){if(n==null&&i==null)return null;let a=Le.getBarcodeMetadata(n,i);if(a==null)return null;let l=Jn.merge(Le.adjustBoundingBox(n),Le.adjustBoundingBox(i));return new As(a,l)}static adjustBoundingBox(n){if(n==null)return null;let i=n.getRowHeights();if(i==null)return null;let a=Le.getMax(i),l=0;for(let u of i)if(l+=a-u,u>0)break;let r=n.getCodewords();for(let u=0;l>0&&r[u]==null;u++)l--;let o=0;for(let u=i.length-1;u>=0&&(o+=a-i[u],!(i[u]>0));u--);for(let u=r.length-1;o>0&&r[u]==null;u--)o--;return n.getBoundingBox().addMissingRows(l,o,n.isLeft())}static getMax(n){let i=-1;for(let a of n)i=Math.max(i,a);return i}static getBarcodeMetadata(n,i){let a;if(n==null||(a=n.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let l;return i==null||(l=i.getBarcodeMetadata())==null?a:a.getColumnCount()!==l.getColumnCount()&&a.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&a.getRowCount()!==l.getRowCount()?null:a}static getRowIndicatorColumn(n,i,a,l,r,o){let u=new Dl(i,l);for(let f=0;f<2;f++){let d=f===0?1:-1,g=Math.trunc(Math.trunc(a.getX()));for(let x=Math.trunc(Math.trunc(a.getY()));x<=i.getMaxY()&&x>=i.getMinY();x+=d){let y=Le.detectCodeword(n,0,n.getWidth(),l,g,x,r,o);y!=null&&(u.setCodeword(x,y),l?g=y.getStartX():g=y.getEndX())}}return u}static adjustCodewordCount(n,i){let a=i[0][1],l=a.getValue(),r=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-Le.getNumberOfECCodeWords(n.getBarcodeECLevel());if(l.length===0){if(r<1||r>Re.MAX_CODEWORDS_IN_BARCODE)throw $.getNotFoundInstance();a.setValue(r)}else l[0]!==r&&a.setValue(r)}static createDecoderResult(n){let i=Le.createBarcodeMatrix(n);Le.adjustCodewordCount(n,i);let a=new Array,l=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),r=[],o=new Array;for(let f=0;f<n.getBarcodeRowCount();f++)for(let d=0;d<n.getBarcodeColumnCount();d++){let g=i[f][d+1].getValue(),x=f*n.getBarcodeColumnCount()+d;g.length===0?a.push(x):g.length===1?l[x]=g[0]:(o.push(x),r.push(g))}let u=new Array(r.length);for(let f=0;f<u.length;f++)u[f]=r[f];return Le.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),l,Re.toIntArray(a),Re.toIntArray(o),u)}static createDecoderResultFromAmbiguousValues(n,i,a,l,r){let o=new Int32Array(l.length),u=100;for(;u-- >0;){for(let f=0;f<o.length;f++)i[l[f]]=r[f][o[f]];try{return Le.decodeCodewords(i,n,a)}catch(f){if(!(f instanceof V))throw f}if(o.length===0)throw V.getChecksumInstance();for(let f=0;f<o.length;f++)if(o[f]<r[f].length-1){o[f]++;break}else if(o[f]=0,f===o.length-1)throw V.getChecksumInstance()}throw V.getChecksumInstance()}static createBarcodeMatrix(n){let i=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let l=0;l<i.length;l++)for(let r=0;r<i[l].length;r++)i[l][r]=new Pr;let a=0;for(let l of n.getDetectionResultColumns()){if(l!=null){for(let r of l.getCodewords())if(r!=null){let o=r.getRowNumber();if(o>=0){if(o>=i.length)continue;i[o][a].setValue(r.getValue())}}}a++}return i}static isValidBarcodeColumn(n,i){return i>=0&&i<=n.getBarcodeColumnCount()+1}static getStartColumn(n,i,a,l){let r=l?1:-1,o=null;if(Le.isValidBarcodeColumn(n,i-r)&&(o=n.getDetectionResultColumn(i-r).getCodeword(a)),o!=null)return l?o.getEndX():o.getStartX();if(o=n.getDetectionResultColumn(i).getCodewordNearby(a),o!=null)return l?o.getStartX():o.getEndX();if(Le.isValidBarcodeColumn(n,i-r)&&(o=n.getDetectionResultColumn(i-r).getCodewordNearby(a)),o!=null)return l?o.getEndX():o.getStartX();let u=0;for(;Le.isValidBarcodeColumn(n,i-r);){i-=r;for(let f of n.getDetectionResultColumn(i).getCodewords())if(f!=null)return(l?f.getEndX():f.getStartX())+r*u*(f.getEndX()-f.getStartX());u++}return l?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,i,a,l,r,o,u,f){r=Le.adjustCodewordStartColumn(n,i,a,l,r,o);let d=Le.getModuleBitCount(n,i,a,l,r,o);if(d==null)return null;let g,x=Ze.sum(d);if(l)g=r+x;else{for(let S=0;S<d.length/2;S++){let _=d[S];d[S]=d[d.length-1-S],d[d.length-1-S]=_}g=r,r=g-x}if(!Le.checkCodewordSkew(x,u,f))return null;let y=nn.getDecodedValue(d),C=Re.getCodeword(y);return C===-1?null:new Qr(r,g,Le.getCodewordBucketNumber(y),C)}static getModuleBitCount(n,i,a,l,r,o){let u=r,f=new Int32Array(8),d=0,g=l?1:-1,x=l;for(;(l?u<a:u>=i)&&d<f.length;)n.get(u,o)===x?(f[d]++,u+=g):(d++,x=!x);return d===f.length||u===(l?a:i)&&d===f.length-1?f:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,i,a,l,r,o){let u=r,f=l?-1:1;for(let d=0;d<2;d++){for(;(l?u>=i:u<a)&&l===n.get(u,o);){if(Math.abs(r-u)>Le.CODEWORD_SKEW_SIZE)return r;u+=f}f=-f,l=!l}return u}static checkCodewordSkew(n,i,a){return i-Le.CODEWORD_SKEW_SIZE<=n&&n<=a+Le.CODEWORD_SKEW_SIZE}static decodeCodewords(n,i,a){if(n.length===0)throw W.getFormatInstance();let l=1<<i+1,r=Le.correctErrors(n,a,l);Le.verifyCodewordCount(n,l);let o=q.decode(n,""+i);return o.setErrorsCorrected(r),o.setErasures(a.length),o}static correctErrors(n,i,a){if(i!=null&&i.length>a/2+Le.MAX_ERRORS||a<0||a>Le.MAX_EC_CODEWORDS)throw V.getChecksumInstance();return Le.errorCorrection.decode(n,a,i)}static verifyCodewordCount(n,i){if(n.length<4)throw W.getFormatInstance();let a=n[0];if(a>n.length)throw W.getFormatInstance();if(a===0)if(i<n.length)n[0]=n.length-i;else throw W.getFormatInstance()}static getBitCountForCodeword(n){let i=new Int32Array(8),a=0,l=i.length-1;for(;!((n&1)!==a&&(a=n&1,l--,l<0));)i[l]++,n>>=1;return i}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return Le.getCodewordBucketNumber(Le.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let i=new Di;for(let a=0;a<n.length;a++){i.format("Row %2d: ",a);for(let l=0;l<n[a].length;l++){let r=n[a][l];r.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",r.getValue()[0],r.getConfidence(r.getValue()[0]))}i.format("%n")}return i.toString()}}Le.CODEWORD_SKEW_SIZE=2,Le.MAX_ERRORS=3,Le.MAX_EC_CODEWORDS=512,Le.errorCorrection=new go;class Xt{decode(n,i=null){let a=Xt.decode(n,i,!1);if(a==null||a.length===0||a[0]==null)throw $.getNotFoundInstance();return a[0]}decodeMultiple(n,i=null){try{return Xt.decode(n,i,!0)}catch(a){throw a instanceof W||a instanceof V?$.getNotFoundInstance():a}}static decode(n,i,a){const l=new Array,r=Ue.detectMultiple(n,i,a);for(const o of r.getPoints()){const u=Le.decode(r.getBits(),o[4],o[5],o[6],o[7],Xt.getMinCodewordWidth(o),Xt.getMaxCodewordWidth(o)),f=new Ct(u.getText(),u.getRawBytes(),void 0,o,Ce.PDF_417);f.putMetadata(Yt.ERROR_CORRECTION_LEVEL,u.getECLevel());const d=u.getOther();d!=null&&f.putMetadata(Yt.PDF417_EXTRA_METADATA,d),l.push(f)}return l.map(o=>o)}static getMaxWidth(n,i){return n==null||i==null?0:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMinWidth(n,i){return n==null||i==null?P.MAX_VALUE:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(Xt.getMaxWidth(n[0],n[4]),Xt.getMaxWidth(n[6],n[2])*Re.MODULES_IN_CODEWORD/Re.MODULES_IN_STOP_PATTERN),Math.max(Xt.getMaxWidth(n[1],n[5]),Xt.getMaxWidth(n[7],n[3])*Re.MODULES_IN_CODEWORD/Re.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(Xt.getMinWidth(n[0],n[4]),Xt.getMinWidth(n[6],n[2])*Re.MODULES_IN_CODEWORD/Re.MODULES_IN_STOP_PATTERN),Math.min(Xt.getMinWidth(n[1],n[5]),Xt.getMinWidth(n[7],n[3])*Re.MODULES_IN_CODEWORD/Re.MODULES_IN_STOP_PATTERN)))}reset(){}}class ki extends w{}ki.kind="ReaderException";class xo{constructor(n,i){this.verbose=n===!0,i&&this.setHints(i)}decode(n,i){return i&&this.setHints(i),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;const i=!c(n)&&n.get(ne.TRY_HARDER)===!0,a=c(n)?null:n.get(ne.POSSIBLE_FORMATS),l=new Array;if(!c(a)){const r=a.some(o=>o===Ce.UPC_A||o===Ce.UPC_E||o===Ce.EAN_13||o===Ce.EAN_8||o===Ce.CODABAR||o===Ce.CODE_39||o===Ce.CODE_93||o===Ce.CODE_128||o===Ce.ITF||o===Ce.RSS_14||o===Ce.RSS_EXPANDED);r&&!i&&l.push(new Bn(n,this.verbose)),a.includes(Ce.QR_CODE)&&l.push(new jn),a.includes(Ce.DATA_MATRIX)&&l.push(new pr),a.includes(Ce.AZTEC)&&l.push(new fr),a.includes(Ce.PDF_417)&&l.push(new Xt),r&&i&&l.push(new Bn(n,this.verbose))}l.length===0&&(i||l.push(new Bn(n,this.verbose)),l.push(new jn),l.push(new pr),l.push(new fr),l.push(new Xt),i&&l.push(new Bn(n,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new ki("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(n,this.hints)}catch(a){if(a instanceof ki)continue}throw new $("No MultiFormat Readers were able to detect the code.")}}class Ia extends Zt{constructor(n=null,i=500){const a=new xo;a.setHints(n),super(a,i)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class ln extends Zt{constructor(n=500){super(new Xt,n)}}class Is extends Zt{constructor(n=500){super(new jn,n)}}var fi;(function(A){A[A.ERROR_CORRECTION=0]="ERROR_CORRECTION",A[A.CHARACTER_SET=1]="CHARACTER_SET",A[A.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",A[A.MIN_SIZE=3]="MIN_SIZE",A[A.MAX_SIZE=4]="MAX_SIZE",A[A.MARGIN=5]="MARGIN",A[A.PDF417_COMPACT=6]="PDF417_COMPACT",A[A.PDF417_COMPACTION=7]="PDF417_COMPACTION",A[A.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",A[A.AZTEC_LAYERS=9]="AZTEC_LAYERS",A[A.QR_VERSION=10]="QR_VERSION"})(fi||(fi={}));var Rt=fi;class _s{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new Jt(n,Int32Array.from([1])))}buildGenerator(n){const i=this.cachedGenerators;if(n>=i.length){let a=i[i.length-1];const l=this.field;for(let r=i.length;r<=n;r++){const o=a.multiply(new Jt(l,Int32Array.from([1,l.exp(r-1+l.getGeneratorBase())])));i.push(o),a=o}}return i[n]}encode(n,i){if(i===0)throw new I("No error correction bytes");const a=n.length-i;if(a<=0)throw new I("No data bytes provided");const l=this.buildGenerator(i),r=new Int32Array(a);G.arraycopy(n,0,r,0,a);let o=new Jt(this.field,r);o=o.multiplyByMonomial(i,1);const f=o.divide(l)[1].getCoefficients(),d=i-f.length;for(let g=0;g<d;g++)n[a+g]=0;G.arraycopy(f,0,n,a+d,f.length)}}class bt{constructor(){}static applyMaskPenaltyRule1(n){return bt.applyMaskPenaltyRule1Internal(n,!0)+bt.applyMaskPenaltyRule1Internal(n,!1)}static applyMaskPenaltyRule2(n){let i=0;const a=n.getArray(),l=n.getWidth(),r=n.getHeight();for(let o=0;o<r-1;o++){const u=a[o];for(let f=0;f<l-1;f++){const d=u[f];d===u[f+1]&&d===a[o+1][f]&&d===a[o+1][f+1]&&i++}}return bt.N2*i}static applyMaskPenaltyRule3(n){let i=0;const a=n.getArray(),l=n.getWidth(),r=n.getHeight();for(let o=0;o<r;o++)for(let u=0;u<l;u++){const f=a[o];u+6<l&&f[u]===1&&f[u+1]===0&&f[u+2]===1&&f[u+3]===1&&f[u+4]===1&&f[u+5]===0&&f[u+6]===1&&(bt.isWhiteHorizontal(f,u-4,u)||bt.isWhiteHorizontal(f,u+7,u+11))&&i++,o+6<r&&a[o][u]===1&&a[o+1][u]===0&&a[o+2][u]===1&&a[o+3][u]===1&&a[o+4][u]===1&&a[o+5][u]===0&&a[o+6][u]===1&&(bt.isWhiteVertical(a,u,o-4,o)||bt.isWhiteVertical(a,u,o+7,o+11))&&i++}return i*bt.N3}static isWhiteHorizontal(n,i,a){i=Math.max(i,0),a=Math.min(a,n.length);for(let l=i;l<a;l++)if(n[l]===1)return!1;return!0}static isWhiteVertical(n,i,a,l){a=Math.max(a,0),l=Math.min(l,n.length);for(let r=a;r<l;r++)if(n[r][i]===1)return!1;return!0}static applyMaskPenaltyRule4(n){let i=0;const a=n.getArray(),l=n.getWidth(),r=n.getHeight();for(let f=0;f<r;f++){const d=a[f];for(let g=0;g<l;g++)d[g]===1&&i++}const o=n.getHeight()*n.getWidth();return Math.floor(Math.abs(i*2-o)*10/o)*bt.N4}static getDataMaskBit(n,i,a){let l,r;switch(n){case 0:l=a+i&1;break;case 1:l=a&1;break;case 2:l=i%3;break;case 3:l=(a+i)%3;break;case 4:l=Math.floor(a/2)+Math.floor(i/3)&1;break;case 5:r=a*i,l=(r&1)+r%3;break;case 6:r=a*i,l=(r&1)+r%3&1;break;case 7:r=a*i,l=r%3+(a+i&1)&1;break;default:throw new I("Invalid mask pattern: "+n)}return l===0}static applyMaskPenaltyRule1Internal(n,i){let a=0;const l=i?n.getHeight():n.getWidth(),r=i?n.getWidth():n.getHeight(),o=n.getArray();for(let u=0;u<l;u++){let f=0,d=-1;for(let g=0;g<r;g++){const x=i?o[u][g]:o[g][u];x===d?f++:(f>=5&&(a+=bt.N1+(f-5)),f=1,d=x)}f>=5&&(a+=bt.N1+(f-5))}return a}}bt.N1=3,bt.N2=3,bt.N3=40,bt.N4=10;class bs{constructor(n,i){this.width=n,this.height=i;const a=new Array(i);for(let l=0;l!==i;l++)a[l]=new Uint8Array(n);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(n,i){return this.bytes[i][n]}getArray(){return this.bytes}setNumber(n,i,a){this.bytes[i][n]=a}setBoolean(n,i,a){this.bytes[i][n]=a?1:0}clear(n){for(const i of this.bytes)T.fill(i,n)}equals(n){if(!(n instanceof bs))return!1;const i=n;if(this.width!==i.width||this.height!==i.height)return!1;for(let a=0,l=this.height;a<l;++a){const r=this.bytes[a],o=i.bytes[a];for(let u=0,f=this.width;u<f;++u)if(r[u]!==o[u])return!1}return!0}toString(){const n=new Fe;for(let i=0,a=this.height;i<a;++i){const l=this.bytes[i];for(let r=0,o=this.width;r<o;++r)switch(l[r]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}class mr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const n=new Fe;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()}setMode(n){this.mode=n}setECLevel(n){this.ecLevel=n}setVersion(n){this.version=n}setMaskPattern(n){this.maskPattern=n}setMatrix(n){this.matrix=n}static isValidMaskPattern(n){return n>=0&&n<mr.NUM_MASK_PATTERNS}}mr.NUM_MASK_PATTERNS=8;class ct extends w{}ct.kind="WriterException";class _e{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,i,a,l,r){_e.clearMatrix(r),_e.embedBasicPatterns(a,r),_e.embedTypeInfo(i,l,r),_e.maybeEmbedVersionInfo(a,r),_e.embedDataBits(n,l,r)}static embedBasicPatterns(n,i){_e.embedPositionDetectionPatternsAndSeparators(i),_e.embedDarkDotAtLeftBottomCorner(i),_e.maybeEmbedPositionAdjustmentPatterns(n,i),_e.embedTimingPatterns(i)}static embedTypeInfo(n,i,a){const l=new z;_e.makeTypeInfoBits(n,i,l);for(let r=0,o=l.getSize();r<o;++r){const u=l.get(l.getSize()-1-r),f=_e.TYPE_INFO_COORDINATES[r],d=f[0],g=f[1];if(a.setBoolean(d,g,u),r<8){const x=a.getWidth()-r-1;a.setBoolean(x,8,u)}else{const y=a.getHeight()-7+(r-8);a.setBoolean(8,y,u)}}}static maybeEmbedVersionInfo(n,i){if(n.getVersionNumber()<7)return;const a=new z;_e.makeVersionInfoBits(n,a);let l=6*3-1;for(let r=0;r<6;++r)for(let o=0;o<3;++o){const u=a.get(l);l--,i.setBoolean(r,i.getHeight()-11+o,u),i.setBoolean(i.getHeight()-11+o,r,u)}}static embedDataBits(n,i,a){let l=0,r=-1,o=a.getWidth()-1,u=a.getHeight()-1;for(;o>0;){for(o===6&&(o-=1);u>=0&&u<a.getHeight();){for(let f=0;f<2;++f){const d=o-f;if(!_e.isEmpty(a.get(d,u)))continue;let g;l<n.getSize()?(g=n.get(l),++l):g=!1,i!==255&&bt.getDataMaskBit(i,d,u)&&(g=!g),a.setBoolean(d,u,g)}u+=r}r=-r,u+=r,o-=2}if(l!==n.getSize())throw new ct("Not all bits consumed: "+l+"/"+n.getSize())}static findMSBSet(n){return 32-P.numberOfLeadingZeros(n)}static calculateBCHCode(n,i){if(i===0)throw new I("0 polynomial");const a=_e.findMSBSet(i);for(n<<=a-1;_e.findMSBSet(n)>=a;)n^=i<<_e.findMSBSet(n)-a;return n}static makeTypeInfoBits(n,i,a){if(!mr.isValidMaskPattern(i))throw new ct("Invalid mask pattern");const l=n.getBits()<<3|i;a.appendBits(l,5);const r=_e.calculateBCHCode(l,_e.TYPE_INFO_POLY);a.appendBits(r,10);const o=new z;if(o.appendBits(_e.TYPE_INFO_MASK_PATTERN,15),a.xor(o),a.getSize()!==15)throw new ct("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(n,i){i.appendBits(n.getVersionNumber(),6);const a=_e.calculateBCHCode(n.getVersionNumber(),_e.VERSION_INFO_POLY);if(i.appendBits(a,12),i.getSize()!==18)throw new ct("should not happen but we got: "+i.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let i=8;i<n.getWidth()-8;++i){const a=(i+1)%2;_e.isEmpty(n.get(i,6))&&n.setNumber(i,6,a),_e.isEmpty(n.get(6,i))&&n.setNumber(6,i,a)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new ct;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,i,a){for(let l=0;l<8;++l){if(!_e.isEmpty(a.get(n+l,i)))throw new ct;a.setNumber(n+l,i,0)}}static embedVerticalSeparationPattern(n,i,a){for(let l=0;l<7;++l){if(!_e.isEmpty(a.get(n,i+l)))throw new ct;a.setNumber(n,i+l,0)}}static embedPositionAdjustmentPattern(n,i,a){for(let l=0;l<5;++l){const r=_e.POSITION_ADJUSTMENT_PATTERN[l];for(let o=0;o<5;++o)a.setNumber(n+o,i+l,r[o])}}static embedPositionDetectionPattern(n,i,a){for(let l=0;l<7;++l){const r=_e.POSITION_DETECTION_PATTERN[l];for(let o=0;o<7;++o)a.setNumber(n+o,i+l,r[o])}}static embedPositionDetectionPatternsAndSeparators(n){const i=_e.POSITION_DETECTION_PATTERN[0].length;_e.embedPositionDetectionPattern(0,0,n),_e.embedPositionDetectionPattern(n.getWidth()-i,0,n),_e.embedPositionDetectionPattern(0,n.getWidth()-i,n);const a=8;_e.embedHorizontalSeparationPattern(0,a-1,n),_e.embedHorizontalSeparationPattern(n.getWidth()-a,a-1,n),_e.embedHorizontalSeparationPattern(0,n.getWidth()-a,n);const l=7;_e.embedVerticalSeparationPattern(l,0,n),_e.embedVerticalSeparationPattern(n.getHeight()-l-1,0,n),_e.embedVerticalSeparationPattern(l,n.getHeight()-l,n)}static maybeEmbedPositionAdjustmentPatterns(n,i){if(n.getVersionNumber()<2)return;const a=n.getVersionNumber()-1,l=_e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let r=0,o=l.length;r!==o;r++){const u=l[r];if(u>=0)for(let f=0;f!==o;f++){const d=l[f];d>=0&&_e.isEmpty(i.get(d,u))&&_e.embedPositionAdjustmentPattern(d-2,u-2,i)}}}}_e.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),_e.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),_e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),_e.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),_e.VERSION_INFO_POLY=7973,_e.TYPE_INFO_POLY=1335,_e.TYPE_INFO_MASK_PATTERN=21522;class _a{constructor(n,i){this.dataBytes=n,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class gt{constructor(){}static calculateMaskPenalty(n){return bt.applyMaskPenaltyRule1(n)+bt.applyMaskPenaltyRule2(n)+bt.applyMaskPenaltyRule3(n)+bt.applyMaskPenaltyRule4(n)}static encode(n,i,a=null){let l=gt.DEFAULT_BYTE_MODE_ENCODING;const r=a!==null&&a.get(Rt.CHARACTER_SET)!==void 0;r&&(l=a.get(Rt.CHARACTER_SET).toString());const o=this.chooseMode(n,l),u=new z;if(o===Oe.BYTE&&(r||gt.DEFAULT_BYTE_MODE_ENCODING!==l)){const k=te.getCharacterSetECIByName(l);k!==void 0&&this.appendECI(k,u)}this.appendModeInfo(o,u);const f=new z;this.appendBytes(n,o,f,l);let d;if(a!==null&&a.get(Rt.QR_VERSION)!==void 0){const k=Number.parseInt(a.get(Rt.QR_VERSION).toString(),10);d=Se.getVersionForNumber(k);const M=this.calculateBitsNeeded(o,u,f,d);if(!this.willFit(M,d,i))throw new ct("Data too big for requested version")}else d=this.recommendVersion(i,o,u,f);const g=new z;g.appendBitArray(u);const x=o===Oe.BYTE?f.getSizeInBytes():n.length;this.appendLengthInfo(x,d,o,g),g.appendBitArray(f);const y=d.getECBlocksForLevel(i),C=d.getTotalCodewords()-y.getTotalECCodewords();this.terminateBits(C,g);const S=this.interleaveWithECBytes(g,d.getTotalCodewords(),C,y.getNumBlocks()),_=new mr;_.setECLevel(i),_.setMode(o),_.setVersion(d);const b=d.getDimensionForVersion(),N=new bs(b,b),D=this.chooseMaskPattern(S,i,d,N);return _.setMaskPattern(D),_e.buildMatrix(S,i,d,D,N),_.setMatrix(N),_}static recommendVersion(n,i,a,l){const r=this.calculateBitsNeeded(i,a,l,Se.getVersionForNumber(1)),o=this.chooseVersion(r,n),u=this.calculateBitsNeeded(i,a,l,o);return this.chooseVersion(u,n)}static calculateBitsNeeded(n,i,a,l){return i.getSize()+n.getCharacterCountBits(l)+a.getSize()}static getAlphanumericCode(n){return n<gt.ALPHANUMERIC_TABLE.length?gt.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,i=null){if(te.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(n))return Oe.KANJI;let a=!1,l=!1;for(let r=0,o=n.length;r<o;++r){const u=n.charAt(r);if(gt.isDigit(u))a=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)l=!0;else return Oe.BYTE}return l?Oe.ALPHANUMERIC:a?Oe.NUMERIC:Oe.BYTE}static isOnlyDoubleByteKanji(n){let i;try{i=lt.encode(n,te.SJIS)}catch{return!1}const a=i.length;if(a%2!==0)return!1;for(let l=0;l<a;l+=2){const r=i[l]&255;if((r<129||r>159)&&(r<224||r>235))return!1}return!0}static chooseMaskPattern(n,i,a,l){let r=Number.MAX_SAFE_INTEGER,o=-1;for(let u=0;u<mr.NUM_MASK_PATTERNS;u++){_e.buildMatrix(n,i,a,u,l);let f=this.calculateMaskPenalty(l);f<r&&(r=f,o=u)}return o}static chooseVersion(n,i){for(let a=1;a<=40;a++){const l=Se.getVersionForNumber(a);if(gt.willFit(n,l,i))return l}throw new ct("Data too big")}static willFit(n,i,a){const l=i.getTotalCodewords(),o=i.getECBlocksForLevel(a).getTotalECCodewords(),u=l-o,f=(n+7)/8;return u>=f}static terminateBits(n,i){const a=n*8;if(i.getSize()>a)throw new ct("data bits cannot fit in the QR Code"+i.getSize()+" > "+a);for(let o=0;o<4&&i.getSize()<a;++o)i.appendBit(!1);const l=i.getSize()&7;if(l>0)for(let o=l;o<8;o++)i.appendBit(!1);const r=n-i.getSizeInBytes();for(let o=0;o<r;++o)i.appendBits(o&1?17:236,8);if(i.getSize()!==a)throw new ct("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,i,a,l,r,o){if(l>=a)throw new ct("Block ID too large");const u=n%a,f=a-u,d=Math.floor(n/a),g=d+1,x=Math.floor(i/a),y=x+1,C=d-x,S=g-y;if(C!==S)throw new ct("EC bytes mismatch");if(a!==f+u)throw new ct("RS blocks mismatch");if(n!==(x+C)*f+(y+S)*u)throw new ct("Total bytes mismatch");l<f?(r[0]=x,o[0]=C):(r[0]=y,o[0]=S)}static interleaveWithECBytes(n,i,a,l){if(n.getSizeInBytes()!==a)throw new ct("Number of bits and data bytes does not match");let r=0,o=0,u=0;const f=new Array;for(let g=0;g<l;++g){const x=new Int32Array(1),y=new Int32Array(1);gt.getNumDataBytesAndNumECBytesForBlockID(i,a,l,g,x,y);const C=x[0],S=new Uint8Array(C);n.toBytes(8*r,S,0,C);const _=gt.generateECBytes(S,y[0]);f.push(new _a(S,_)),o=Math.max(o,C),u=Math.max(u,_.length),r+=x[0]}if(a!==r)throw new ct("Data bytes does not match offset");const d=new z;for(let g=0;g<o;++g)for(const x of f){const y=x.getDataBytes();g<y.length&&d.appendBits(y[g],8)}for(let g=0;g<u;++g)for(const x of f){const y=x.getErrorCorrectionBytes();g<y.length&&d.appendBits(y[g],8)}if(i!==d.getSizeInBytes())throw new ct("Interleaving error: "+i+" and "+d.getSizeInBytes()+" differ.");return d}static generateECBytes(n,i){const a=n.length,l=new Int32Array(a+i);for(let o=0;o<a;o++)l[o]=n[o]&255;new _s(Ge.QR_CODE_FIELD_256).encode(l,i);const r=new Uint8Array(i);for(let o=0;o<i;o++)r[o]=l[a+o];return r}static appendModeInfo(n,i){i.appendBits(n.getBits(),4)}static appendLengthInfo(n,i,a,l){const r=a.getCharacterCountBits(i);if(n>=1<<r)throw new ct(n+" is bigger than "+((1<<r)-1));l.appendBits(n,r)}static appendBytes(n,i,a,l){switch(i){case Oe.NUMERIC:gt.appendNumericBytes(n,a);break;case Oe.ALPHANUMERIC:gt.appendAlphanumericBytes(n,a);break;case Oe.BYTE:gt.append8BitBytes(n,a,l);break;case Oe.KANJI:gt.appendKanjiBytes(n,a);break;default:throw new ct("Invalid mode: "+i)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){const i=gt.getDigit(n);return i>=0&&i<=9}static appendNumericBytes(n,i){const a=n.length;let l=0;for(;l<a;){const r=gt.getDigit(n.charAt(l));if(l+2<a){const o=gt.getDigit(n.charAt(l+1)),u=gt.getDigit(n.charAt(l+2));i.appendBits(r*100+o*10+u,10),l+=3}else if(l+1<a){const o=gt.getDigit(n.charAt(l+1));i.appendBits(r*10+o,7),l+=2}else i.appendBits(r,4),l++}}static appendAlphanumericBytes(n,i){const a=n.length;let l=0;for(;l<a;){const r=gt.getAlphanumericCode(n.charCodeAt(l));if(r===-1)throw new ct;if(l+1<a){const o=gt.getAlphanumericCode(n.charCodeAt(l+1));if(o===-1)throw new ct;i.appendBits(r*45+o,11),l+=2}else i.appendBits(r,6),l++}}static append8BitBytes(n,i,a){let l;try{l=lt.encode(n,a)}catch(r){throw new ct(r)}for(let r=0,o=l.length;r!==o;r++){const u=l[r];i.appendBits(u,8)}}static appendKanjiBytes(n,i){let a;try{a=lt.encode(n,te.SJIS)}catch(r){throw new ct(r)}const l=a.length;for(let r=0;r<l;r+=2){const o=a[r]&255,u=a[r+1]&255,f=o<<8&4294967295|u;let d=-1;if(f>=33088&&f<=40956?d=f-33088:f>=57408&&f<=60351&&(d=f-49472),d===-1)throw new ct("Invalid byte sequence");const g=(d>>8)*192+(d&255);i.appendBits(g,13)}}static appendECI(n,i){i.appendBits(Oe.ECI.getBits(),4),i.appendBits(n.getValue(),8)}}gt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),gt.DEFAULT_BYTE_MODE_ENCODING=te.UTF8.getName();class xr{write(n,i,a,l=null){if(n.length===0)throw new I("Found empty contents");if(i<0||a<0)throw new I("Requested dimensions are too small: "+i+"x"+a);let r=dt.L,o=xr.QUIET_ZONE_SIZE;l!==null&&(l.get(Rt.ERROR_CORRECTION)!==void 0&&(r=dt.fromString(l.get(Rt.ERROR_CORRECTION).toString())),l.get(Rt.MARGIN)!==void 0&&(o=Number.parseInt(l.get(Rt.MARGIN).toString(),10)));const u=gt.encode(n,r,l);return this.renderResult(u,i,a,o)}writeToDom(n,i,a,l,r=null){typeof n=="string"&&(n=document.querySelector(n));const o=this.write(i,a,l,r);n&&n.appendChild(o)}renderResult(n,i,a,l){const r=n.getMatrix();if(r===null)throw new an;const o=r.getWidth(),u=r.getHeight(),f=o+l*2,d=u+l*2,g=Math.max(i,f),x=Math.max(a,d),y=Math.min(Math.floor(g/f),Math.floor(x/d)),C=Math.floor((g-o*y)/2),S=Math.floor((x-u*y)/2),_=this.createSVGElement(g,x);for(let b=0,N=S;b<u;b++,N+=y)for(let D=0,k=C;D<o;D++,k+=y)if(r.get(D,b)===1){const M=this.createSvgRectElement(k,N,y,y);_.appendChild(M)}return _}createSVGElement(n,i){const a=document.createElementNS(xr.SVG_NS,"svg");return a.setAttributeNS(null,"height",n.toString()),a.setAttributeNS(null,"width",i.toString()),a}createSvgRectElement(n,i,a,l){const r=document.createElementNS(xr.SVG_NS,"rect");return r.setAttributeNS(null,"x",n.toString()),r.setAttributeNS(null,"y",i.toString()),r.setAttributeNS(null,"height",a.toString()),r.setAttributeNS(null,"width",l.toString()),r.setAttributeNS(null,"fill","#000000"),r}}xr.QUIET_ZONE_SIZE=4,xr.SVG_NS="http://www.w3.org/2000/svg";class Zr{encode(n,i,a,l,r){if(n.length===0)throw new I("Found empty contents");if(i!==Ce.QR_CODE)throw new I("Can only encode QR_CODE, but got "+i);if(a<0||l<0)throw new I(`Requested dimensions are too small: ${a}x${l}`);let o=dt.L,u=Zr.QUIET_ZONE_SIZE;r!==null&&(r.get(Rt.ERROR_CORRECTION)!==void 0&&(o=dt.fromString(r.get(Rt.ERROR_CORRECTION).toString())),r.get(Rt.MARGIN)!==void 0&&(u=Number.parseInt(r.get(Rt.MARGIN).toString(),10)));const f=gt.encode(n,o,r);return Zr.renderResult(f,a,l,u)}static renderResult(n,i,a,l){const r=n.getMatrix();if(r===null)throw new an;const o=r.getWidth(),u=r.getHeight(),f=o+l*2,d=u+l*2,g=Math.max(i,f),x=Math.max(a,d),y=Math.min(Math.floor(g/f),Math.floor(x/d)),C=Math.floor((g-o*y)/2),S=Math.floor((x-u*y)/2),_=new kt(g,x);for(let b=0,N=S;b<u;b++,N+=y)for(let D=0,k=C;D<o;D++,k+=y)r.get(D,b)===1&&_.setRegion(k,N,y,y);return _}}Zr.QUIET_ZONE_SIZE=4;class Bl{encode(n,i,a,l,r){let o;switch(i){case Ce.QR_CODE:o=new Zr;break;default:throw new I("No encoder available for format "+i)}return o.encode(n,i,a,l,r)}}class yr extends pe{constructor(n,i,a,l,r,o,u,f){if(super(o,u),this.yuvData=n,this.dataWidth=i,this.dataHeight=a,this.left=l,this.top=r,l+o>i||r+u>a)throw new I("Crop rectangle does not fit within image data.");f&&this.reverseHorizontal(o,u)}getRow(n,i){if(n<0||n>=this.getHeight())throw new I("Requested row is outside the image: "+n);const a=this.getWidth();(i==null||i.length<a)&&(i=new Uint8ClampedArray(a));const l=(n+this.top)*this.dataWidth+this.left;return G.arraycopy(this.yuvData,l,i,0,a),i}getMatrix(){const n=this.getWidth(),i=this.getHeight();if(n===this.dataWidth&&i===this.dataHeight)return this.yuvData;const a=n*i,l=new Uint8ClampedArray(a);let r=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return G.arraycopy(this.yuvData,r,l,0,a),l;for(let o=0;o<i;o++){const u=o*n;G.arraycopy(this.yuvData,r,l,u,n),r+=this.dataWidth}return l}isCropSupported(){return!0}crop(n,i,a,l){return new yr(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+i,a,l,!1)}renderThumbnail(){const n=this.getWidth()/yr.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/yr.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(n*i),l=this.yuvData;let r=this.top*this.dataWidth+this.left;for(let o=0;o<i;o++){const u=o*n;for(let f=0;f<n;f++){const d=l[r+f*yr.THUMBNAIL_SCALE_FACTOR]&255;a[u+f]=4278190080|d*65793}r+=this.dataWidth*yr.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/yr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/yr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(n,i){const a=this.yuvData;for(let l=0,r=this.top*this.dataWidth+this.left;l<i;l++,r+=this.dataWidth){const o=r+n/2;for(let u=r,f=r+n-1;u<o;u++,f--){const d=a[u];a[u]=a[f],a[f]=d}}}invert(){return new Te(this)}}yr.THUMBNAIL_SCALE_FACTOR=2;class Ts extends pe{constructor(n,i,a,l,r,o,u){if(super(i,a),this.dataWidth=l,this.dataHeight=r,this.left=o,this.top=u,n.BYTES_PER_ELEMENT===4){const f=i*a,d=new Uint8ClampedArray(f);for(let g=0;g<f;g++){const x=n[g],y=x>>16&255,C=x>>7&510,S=x&255;d[g]=(y+C+S)/4&255}this.luminances=d}else this.luminances=n;if(l===void 0&&(this.dataWidth=i),r===void 0&&(this.dataHeight=a),o===void 0&&(this.left=0),u===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+a>this.dataHeight)throw new I("Crop rectangle does not fit within image data.")}getRow(n,i){if(n<0||n>=this.getHeight())throw new I("Requested row is outside the image: "+n);const a=this.getWidth();(i==null||i.length<a)&&(i=new Uint8ClampedArray(a));const l=(n+this.top)*this.dataWidth+this.left;return G.arraycopy(this.luminances,l,i,0,a),i}getMatrix(){const n=this.getWidth(),i=this.getHeight();if(n===this.dataWidth&&i===this.dataHeight)return this.luminances;const a=n*i,l=new Uint8ClampedArray(a);let r=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return G.arraycopy(this.luminances,r,l,0,a),l;for(let o=0;o<i;o++){const u=o*n;G.arraycopy(this.luminances,r,l,u,n),r+=this.dataWidth}return l}isCropSupported(){return!0}crop(n,i,a,l){return new Ts(this.luminances,a,l,this.dataWidth,this.dataHeight,this.left+n,this.top+i)}invert(){return new Te(this)}}class Ns extends te{static forName(n){return this.getCharacterSetECIByName(n)}}class ba{}ba.ISO_8859_1=te.ISO8859_1;class yo{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class wo{static singletonList(n){return[n]}static min(n,i){return n.sort(i)[0]}}class xc{constructor(n){this.previous=n}getPrevious(){return this.previous}}class hi extends xc{constructor(n,i,a){super(n),this.value=i,this.bitCount=a}appendTo(n,i){n.appendBits(this.value,this.bitCount)}add(n,i){return new hi(this,n,i)}addBinaryShift(n,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new hi(this,n,i)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+P.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class Ta extends hi{constructor(n,i,a){super(n,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=a}appendTo(n,i){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):a===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(i[this.binaryShiftStart+a],8)}addBinaryShift(n,i){return new Ta(this,n,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ll(A,n,i){return new Ta(A,n,i)}function Pi(A,n,i){return new hi(A,n,i)}const yc=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Mr=0,Mi=1,_n=2,Na=3,wr=4,wc=new hi(null,0,0),Oa=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function vo(A){for(let n of A)T.fill(n,-1);return A[Mr][wr]=0,A[Mi][wr]=0,A[Mi][Mr]=28,A[Na][wr]=0,A[_n][wr]=0,A[_n][Mr]=15,A}const vr=vo(T.createInt32Array(6,6));class at{constructor(n,i,a,l){this.token=n,this.mode=i,this.binaryShiftByteCount=a,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,i){let a=this.bitCount,l=this.token;if(n!==this.mode){let o=Oa[this.mode][n];l=Pi(l,o&65535,o>>16),a+=o>>16}let r=n===_n?4:5;return l=Pi(l,i,r),new at(l,n,0,a+r)}shiftAndAppend(n,i){let a=this.token,l=this.mode===_n?4:5;return a=Pi(a,vr[this.mode][n],l),a=Pi(a,i,5),new at(a,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(n){let i=this.token,a=this.mode,l=this.bitCount;if(this.mode===wr||this.mode===_n){let u=Oa[a][Mr];i=Pi(i,u&65535,u>>16),l+=u>>16,a=Mr}let r=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,o=new at(i,a,this.binaryShiftByteCount+1,l+r);return o.binaryShiftByteCount===2078&&(o=o.endBinaryShift(n+1)),o}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=Ll(i,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new at(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let i=this.bitCount+(Oa[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?i+=at.calculateBinaryShiftCost(n)-at.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(i+=10),i<=n.bitCount}toBitArray(n){let i=[];for(let l=this.endBinaryShift(n.length).token;l!==null;l=l.getPrevious())i.unshift(l);let a=new z;for(const l of i)l.appendTo(a,n);return a}toString(){return be.format("%s bits=%d bytes=%d",yc[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}at.INITIAL_STATE=new at(wc,Mr,0,0);function Eo(A){const n=be.getCharCode(" "),i=be.getCharCode("."),a=be.getCharCode(",");A[Mr][n]=1;const l=be.getCharCode("Z"),r=be.getCharCode("A");for(let y=r;y<=l;y++)A[Mr][y]=y-r+2;A[Mi][n]=1;const o=be.getCharCode("z"),u=be.getCharCode("a");for(let y=u;y<=o;y++)A[Mi][y]=y-u+2;A[_n][n]=1;const f=be.getCharCode("9"),d=be.getCharCode("0");for(let y=d;y<=f;y++)A[_n][y]=y-d+2;A[_n][a]=12,A[_n][i]=13;const g=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let y=0;y<g.length;y++)A[Na][be.getCharCode(g[y])]=y;const x=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let y=0;y<x.length;y++)be.getCharCode(x[y])>0&&(A[wr][be.getCharCode(x[y])]=y);return A}const mn=Eo(T.createInt32Array(5,256));class Os{constructor(n){this.text=n}encode(){const n=be.getCharCode(" "),i=be.getCharCode(`
`);let a=wo.singletonList(at.INITIAL_STATE);for(let r=0;r<this.text.length;r++){let o,u=r+1<this.text.length?this.text[r+1]:0;switch(this.text[r]){case be.getCharCode("\r"):o=u===i?2:0;break;case be.getCharCode("."):o=u===n?3:0;break;case be.getCharCode(","):o=u===n?4:0;break;case be.getCharCode(":"):o=u===n?5:0;break;default:o=0}o>0?(a=Os.updateStateListForPair(a,r,o),r++):a=this.updateStateListForChar(a,r)}return wo.min(a,(r,o)=>r.getBitCount()-o.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,i){const a=[];for(let l of n)this.updateStateForChar(l,i,a);return Os.simplifyStates(a)}updateStateForChar(n,i,a){let l=this.text[i]&255,r=mn[n.getMode()][l]>0,o=null;for(let u=0;u<=wr;u++){let f=mn[u][l];if(f>0){if(o==null&&(o=n.endBinaryShift(i)),!r||u===n.getMode()||u===_n){const d=o.latchAndAppend(u,f);a.push(d)}if(!r&&vr[n.getMode()][u]>=0){const d=o.shiftAndAppend(u,f);a.push(d)}}}if(n.getBinaryShiftByteCount()>0||mn[n.getMode()][l]===0){let u=n.addBinaryShiftChar(i);a.push(u)}}static updateStateListForPair(n,i,a){const l=[];for(let r of n)this.updateStateForPair(r,i,a,l);return this.simplifyStates(l)}static updateStateForPair(n,i,a,l){let r=n.endBinaryShift(i);if(l.push(r.latchAndAppend(wr,a)),n.getMode()!==wr&&l.push(r.shiftAndAppend(wr,a)),a===3||a===4){let o=r.latchAndAppend(_n,16-a).latchAndAppend(_n,1);l.push(o)}if(n.getBinaryShiftByteCount()>0){let o=n.addBinaryShiftChar(i).addBinaryShiftChar(i+1);l.push(o)}}static simplifyStates(n){let i=[];for(const a of n){let l=!0;for(const r of i){if(r.isBetterThanOrEqualTo(a)){l=!1;break}a.isBetterThanOrEqualTo(r)&&(i=i.filter(o=>o!==r))}l&&i.push(a)}return i}}class Ye{constructor(){}static encodeBytes(n){return Ye.encode(n,Ye.DEFAULT_EC_PERCENT,Ye.DEFAULT_AZTEC_LAYERS)}static encode(n,i,a){let l=new Os(n).encode(),r=P.truncDivision(l.getSize()*i,100)+11,o=l.getSize()+r,u,f,d,g,x;if(a!==Ye.DEFAULT_AZTEC_LAYERS){if(u=a<0,f=Math.abs(a),f>(u?Ye.MAX_NB_BITS_COMPACT:Ye.MAX_NB_BITS))throw new I(be.format("Illegal value %s for layers",a));d=Ye.totalBitsInLayer(f,u),g=Ye.WORD_SIZE[f];let M=d-d%g;if(x=Ye.stuffBits(l,g),x.getSize()+r>M)throw new I("Data to large for user specified layer");if(u&&x.getSize()>g*64)throw new I("Data to large for user specified layer")}else{g=0,x=null;for(let M=0;;M++){if(M>Ye.MAX_NB_BITS)throw new I("Data too large for an Aztec code");if(u=M<=3,f=u?M+1:M,d=Ye.totalBitsInLayer(f,u),o>d)continue;(x==null||g!==Ye.WORD_SIZE[f])&&(g=Ye.WORD_SIZE[f],x=Ye.stuffBits(l,g));let F=d-d%g;if(!(u&&x.getSize()>g*64)&&x.getSize()+r<=F)break}}let y=Ye.generateCheckWords(x,d,g),C=x.getSize()/g,S=Ye.generateModeMessage(u,f,C),_=(u?11:14)+f*4,b=new Int32Array(_),N;if(u){N=_;for(let M=0;M<b.length;M++)b[M]=M}else{N=_+1+2*P.truncDivision(P.truncDivision(_,2)-1,15);let M=P.truncDivision(_,2),F=P.truncDivision(N,2);for(let j=0;j<M;j++){let X=j+P.truncDivision(j,15);b[M-j-1]=F-X-1,b[M+j]=F+X+1}}let D=new kt(N);for(let M=0,F=0;M<f;M++){let j=(f-M)*4+(u?9:12);for(let X=0;X<j;X++){let Y=X*2;for(let Z=0;Z<2;Z++)y.get(F+Y+Z)&&D.set(b[M*2+Z],b[M*2+X]),y.get(F+j*2+Y+Z)&&D.set(b[M*2+X],b[_-1-M*2-Z]),y.get(F+j*4+Y+Z)&&D.set(b[_-1-M*2-Z],b[_-1-M*2-X]),y.get(F+j*6+Y+Z)&&D.set(b[_-1-M*2-X],b[M*2+Z])}F+=j*8}if(Ye.drawModeMessage(D,u,N,S),u)Ye.drawBullsEye(D,P.truncDivision(N,2),5);else{Ye.drawBullsEye(D,P.truncDivision(N,2),7);for(let M=0,F=0;M<P.truncDivision(_,2)-1;M+=15,F+=16)for(let j=P.truncDivision(N,2)&1;j<N;j+=2)D.set(P.truncDivision(N,2)-F,j),D.set(P.truncDivision(N,2)+F,j),D.set(j,P.truncDivision(N,2)-F),D.set(j,P.truncDivision(N,2)+F)}let k=new yo;return k.setCompact(u),k.setSize(N),k.setLayers(f),k.setCodeWords(C),k.setMatrix(D),k}static drawBullsEye(n,i,a){for(let l=0;l<a;l+=2)for(let r=i-l;r<=i+l;r++)n.set(r,i-l),n.set(r,i+l),n.set(i-l,r),n.set(i+l,r);n.set(i-a,i-a),n.set(i-a+1,i-a),n.set(i-a,i-a+1),n.set(i+a,i-a),n.set(i+a,i-a+1),n.set(i+a,i+a-1)}static generateModeMessage(n,i,a){let l=new z;return n?(l.appendBits(i-1,2),l.appendBits(a-1,6),l=Ye.generateCheckWords(l,28,4)):(l.appendBits(i-1,5),l.appendBits(a-1,11),l=Ye.generateCheckWords(l,40,4)),l}static drawModeMessage(n,i,a,l){let r=P.truncDivision(a,2);if(i)for(let o=0;o<7;o++){let u=r-3+o;l.get(o)&&n.set(u,r-5),l.get(o+7)&&n.set(r+5,u),l.get(20-o)&&n.set(u,r+5),l.get(27-o)&&n.set(r-5,u)}else for(let o=0;o<10;o++){let u=r-5+o+P.truncDivision(o,5);l.get(o)&&n.set(u,r-7),l.get(o+10)&&n.set(r+7,u),l.get(29-o)&&n.set(u,r+7),l.get(39-o)&&n.set(r-7,u)}}static generateCheckWords(n,i,a){let l=n.getSize()/a,r=new _s(Ye.getGF(a)),o=P.truncDivision(i,a),u=Ye.bitsToWords(n,a,o);r.encode(u,o-l);let f=i%a,d=new z;d.appendBits(0,f);for(const g of Array.from(u))d.appendBits(g,a);return d}static bitsToWords(n,i,a){let l=new Int32Array(a),r,o;for(r=0,o=n.getSize()/i;r<o;r++){let u=0;for(let f=0;f<i;f++)u|=n.get(r*i+f)?1<<i-f-1:0;l[r]=u}return l}static getGF(n){switch(n){case 4:return Ge.AZTEC_PARAM;case 6:return Ge.AZTEC_DATA_6;case 8:return Ge.AZTEC_DATA_8;case 10:return Ge.AZTEC_DATA_10;case 12:return Ge.AZTEC_DATA_12;default:throw new I("Unsupported word size "+n)}}static stuffBits(n,i){let a=new z,l=n.getSize(),r=(1<<i)-2;for(let o=0;o<l;o+=i){let u=0;for(let f=0;f<i;f++)(o+f>=l||n.get(o+f))&&(u|=1<<i-1-f);(u&r)===r?(a.appendBits(u&r,i),o--):u&r?a.appendBits(u,i):(a.appendBits(u|1,i),o--)}return a}static totalBitsInLayer(n,i){return((i?88:112)+16*n)*n}}Ye.DEFAULT_EC_PERCENT=33,Ye.DEFAULT_AZTEC_LAYERS=0,Ye.MAX_NB_BITS=32,Ye.MAX_NB_BITS_COMPACT=4,Ye.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Rs{encode(n,i,a,l){return this.encodeWithHints(n,i,a,l,null)}encodeWithHints(n,i,a,l,r){let o=ba.ISO_8859_1,u=Ye.DEFAULT_EC_PERCENT,f=Ye.DEFAULT_AZTEC_LAYERS;return r!=null&&(r.has(Rt.CHARACTER_SET)&&(o=Ns.forName(r.get(Rt.CHARACTER_SET).toString())),r.has(Rt.ERROR_CORRECTION)&&(u=P.parseInt(r.get(Rt.ERROR_CORRECTION).toString())),r.has(Rt.AZTEC_LAYERS)&&(f=P.parseInt(r.get(Rt.AZTEC_LAYERS).toString()))),Rs.encodeLayers(n,i,a,l,o,u,f)}static encodeLayers(n,i,a,l,r,o,u){if(i!==Ce.AZTEC)throw new I("Can only encode AZTEC, but got "+i);let f=Ye.encode(be.getBytes(n,r),o,u);return Rs.renderResult(f,a,l)}static renderResult(n,i,a){let l=n.getMatrix();if(l==null)throw new an;let r=l.getWidth(),o=l.getHeight(),u=Math.max(i,r),f=Math.max(a,o),d=Math.min(u/r,f/o),g=(u-r*d)/2,x=(f-o*d)/2,y=new kt(u,f);for(let C=0,S=x;C<o;C++,S+=d)for(let _=0,b=g;_<r;_++,b+=d)l.get(_,C)&&y.setRegion(b,S,d,d);return y}}s.AbstractExpandedDecoder=Kr,s.ArgumentException=O,s.ArithmeticException=rt,s.AztecCode=yo,s.AztecCodeReader=fr,s.AztecCodeWriter=Rs,s.AztecDecoder=yt,s.AztecDetector=ys,s.AztecDetectorResult=Oi,s.AztecEncoder=Ye,s.AztecHighLevelEncoder=Os,s.AztecPoint=en,s.BarcodeFormat=Ce,s.Binarizer=K,s.BinaryBitmap=B,s.BitArray=z,s.BitMatrix=kt,s.BitSource=co,s.BrowserAztecCodeReader=io,s.BrowserBarcodeReader=Rl,s.BrowserCodeReader=Zt,s.BrowserDatamatrixCodeReader=va,s.BrowserMultiFormatReader=Ia,s.BrowserPDF417Reader=ln,s.BrowserQRCodeReader=Is,s.BrowserQRCodeSvgWriter=xr,s.CharacterSetECI=te,s.ChecksumException=V,s.Code128Reader=ce,s.Code39Reader=ge,s.DataMatrixDecodedBitStreamParser=Ln,s.DataMatrixReader=pr,s.DecodeHintType=ne,s.DecoderResult=Ie,s.DefaultGridSampler=ro,s.DetectorResult=xs,s.EAN13Reader=Nr,s.EncodeHintType=Rt,s.Exception=w,s.FormatException=W,s.GenericGF=Ge,s.GenericGFPoly=Jt,s.GlobalHistogramBinarizer=Et,s.GridSampler=ai,s.GridSamplerInstance=Pn,s.HTMLCanvasElementLuminanceSource=Ne,s.HybridBinarizer=Pe,s.ITFReader=it,s.IllegalArgumentException=I,s.IllegalStateException=an,s.InvertedLuminanceSource=Te,s.LuminanceSource=pe,s.MathUtils=Ze,s.MultiFormatOneDReader=Bn,s.MultiFormatReader=xo,s.MultiFormatWriter=Bl,s.NotFoundException=$,s.OneDReader=Ot,s.PDF417DecodedBitStreamParser=q,s.PDF417DecoderErrorCorrection=go,s.PDF417Reader=Xt,s.PDF417ResultMetadata=mo,s.PerspectiveTransform=fn,s.PlanarYUVLuminanceSource=yr,s.QRCodeByteMatrix=bs,s.QRCodeDataMask=Fn,s.QRCodeDecodedBitStreamParser=Ke,s.QRCodeDecoderErrorCorrectionLevel=dt,s.QRCodeDecoderFormatInformation=Ht,s.QRCodeEncoder=gt,s.QRCodeEncoderQRCode=mr,s.QRCodeMaskUtil=bt,s.QRCodeMatrixUtil=_e,s.QRCodeMode=Oe,s.QRCodeReader=jn,s.QRCodeVersion=Se,s.QRCodeWriter=Zr,s.RGBLuminanceSource=Ts,s.RSS14Reader=It,s.RSSExpandedReader=re,s.ReaderException=ki,s.ReedSolomonDecoder=ms,s.ReedSolomonEncoder=_s,s.ReedSolomonException=Ti,s.Result=Ct,s.ResultMetadataType=Yt,s.ResultPoint=xe,s.StringUtils=be,s.UnsupportedOperationException=De,s.VideoInputDevice=xt,s.WhiteRectangleDetector=cr,s.WriterException=ct,s.ZXingArrays=T,s.ZXingCharset=Ns,s.ZXingInteger=P,s.ZXingStandardCharsets=ba,s.ZXingStringBuilder=Fe,s.ZXingStringEncoding=lt,s.ZXingSystem=G,s.createAbstractExpandedDecoder=dr,Object.defineProperty(s,"__esModule",{value:!0})})})(fh,fh.exports);var Bt=fh.exports;const Mw=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var V0=function(){function e(t,s,c){if(this.formatMap=new Map([[Ee.QR_CODE,Bt.BarcodeFormat.QR_CODE],[Ee.AZTEC,Bt.BarcodeFormat.AZTEC],[Ee.CODABAR,Bt.BarcodeFormat.CODABAR],[Ee.CODE_39,Bt.BarcodeFormat.CODE_39],[Ee.CODE_93,Bt.BarcodeFormat.CODE_93],[Ee.CODE_128,Bt.BarcodeFormat.CODE_128],[Ee.DATA_MATRIX,Bt.BarcodeFormat.DATA_MATRIX],[Ee.MAXICODE,Bt.BarcodeFormat.MAXICODE],[Ee.ITF,Bt.BarcodeFormat.ITF],[Ee.EAN_13,Bt.BarcodeFormat.EAN_13],[Ee.EAN_8,Bt.BarcodeFormat.EAN_8],[Ee.PDF_417,Bt.BarcodeFormat.PDF_417],[Ee.RSS_14,Bt.BarcodeFormat.RSS_14],[Ee.RSS_EXPANDED,Bt.BarcodeFormat.RSS_EXPANDED],[Ee.UPC_A,Bt.BarcodeFormat.UPC_A],[Ee.UPC_E,Bt.BarcodeFormat.UPC_E],[Ee.UPC_EAN_EXTENSION,Bt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Mw)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=s,this.logger=c;var h=this.createZXingFormats(t),p=new Map;p.set(Bt.DecodeHintType.POSSIBLE_FORMATS,h),p.set(Bt.DecodeHintType.TRY_HARDER,!1),this.hints=p}return e.prototype.decodeAsync=function(t){var s=this;return new Promise(function(c,h){try{c(s.decode(t))}catch(p){h(p)}})},e.prototype.decode=function(t){var s=new Bt.MultiFormatReader(this.verbose,this.hints),c=new Bt.HTMLCanvasElementLuminanceSource(t),h=new Bt.BinaryBitmap(new Bt.HybridBinarizer(c)),p=s.decode(h);return{text:p.text,format:Jg.create(this.toHtml5QrcodeSupportedFormats(p.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(s,c,h){t.set(s,c)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var s=[],c=0,h=t;c<h.length;c++){var p=h[c];this.formatMap.has(p)?s.push(this.formatMap.get(p)):this.logger.logError("".concat(p," is not supported by")+"ZXingHtml5QrcodeShim")}return s},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Bw=function(e,t,s,c){function h(p){return p instanceof s?p:new s(function(m){m(p)})}return new(s||(s=Promise))(function(p,m){function v(O){try{w(c.next(O))}catch(I){m(I)}}function E(O){try{w(c.throw(O))}catch(I){m(I)}}function w(O){O.done?p(O.value):h(O.value).then(v,E)}w((c=c.apply(e,t||[])).next())})},Lw=function(e,t){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,h,p,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(w){return function(O){return E([w,O])}}function E(w){if(c)throw new TypeError("Generator is already executing.");for(;m&&(m=0,w[0]&&(s=0)),s;)try{if(c=1,h&&(p=w[0]&2?h.return:w[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,w[1])).done)return p;switch(h=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return s.label++,{value:w[1],done:!1};case 5:s.label++,h=w[1],w=[0];continue;case 7:w=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){s=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){s.label=w[1];break}if(w[0]===6&&s.label<p[1]){s.label=p[1],p=w;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(w);break}p[2]&&s.ops.pop(),s.trys.pop();continue}w=t.call(e,s)}catch(O){w=[6,O],h=0}finally{c=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},z0=function(){function e(t,s,c){if(this.formatMap=new Map([[Ee.QR_CODE,"qr_code"],[Ee.AZTEC,"aztec"],[Ee.CODABAR,"codabar"],[Ee.CODE_39,"code_39"],[Ee.CODE_93,"code_93"],[Ee.CODE_128,"code_128"],[Ee.DATA_MATRIX,"data_matrix"],[Ee.ITF,"itf"],[Ee.EAN_13,"ean_13"],[Ee.EAN_8,"ean_8"],[Ee.PDF_417,"pdf417"],[Ee.UPC_A,"upc_a"],[Ee.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=s,this.logger=c;var h=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(h),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return Bw(this,void 0,void 0,function(){var s,c;return Lw(this,function(h){switch(h.label){case 0:return[4,this.detector.detect(t)];case 1:if(s=h.sent(),!s||s.length===0)throw"No barcode or QR code detected.";return c=this.selectLargestBarcode(s),[2,{text:c.rawValue,format:Jg.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var s=null,c=0,h=0,p=t;h<p.length;h++){var m=p[h],v=m.boundingBox.width*m.boundingBox.height;v>c&&(c=v,s=m)}if(!s)throw"No largest barcode found";return s},e.prototype.createBarcodeDetectorFormats=function(t){for(var s=[],c=0,h=t;c<h.length;c++){var p=h[c];this.formatMap.has(p)?s.push(this.formatMap.get(p)):this.logger.warn("".concat(p," is not supported by")+"BarcodeDetectorDelegate")}return{formats:s}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(s,c,h){t.set(s,c)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),W0=function(e,t,s,c){function h(p){return p instanceof s?p:new s(function(m){m(p)})}return new(s||(s=Promise))(function(p,m){function v(O){try{w(c.next(O))}catch(I){m(I)}}function E(O){try{w(c.throw(O))}catch(I){m(I)}}function w(O){O.done?p(O.value):h(O.value).then(v,E)}w((c=c.apply(e,t||[])).next())})},H0=function(e,t){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,h,p,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(w){return function(O){return E([w,O])}}function E(w){if(c)throw new TypeError("Generator is already executing.");for(;m&&(m=0,w[0]&&(s=0)),s;)try{if(c=1,h&&(p=w[0]&2?h.return:w[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,w[1])).done)return p;switch(h=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return s.label++,{value:w[1],done:!1};case 5:s.label++,h=w[1],w=[0];continue;case 7:w=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){s=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){s.label=w[1];break}if(w[0]===6&&s.label<p[1]){s.label=p[1],p=w;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(w);break}p[2]&&s.ops.pop(),s.trys.pop();continue}w=t.call(e,s)}catch(O){w=[6,O],h=0}finally{c=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Fw=function(){function e(t,s,c,h){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=c,s&&z0.isSupported()?(this.primaryDecoder=new z0(t,c,h),this.secondaryDecoder=new V0(t,c,h)):this.primaryDecoder=new V0(t,c,h)}return e.prototype.decodeAsync=function(t){return W0(this,void 0,void 0,function(){var s;return H0(this,function(c){switch(c.label){case 0:s=performance.now(),c.label=1;case 1:return c.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,c.sent()];case 3:return this.possiblyLogPerformance(s),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return W0(this,void 0,void 0,function(){var s,c;return H0(this,function(h){switch(h.label){case 0:s=performance.now(),h.label=1;case 1:return h.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,h.sent()];case 3:if(c=h.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw c;case 4:return this.possiblyLogPerformance(s),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var s=performance.now()-t;this.executionResults.push(s),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,s=0,c=this.executionResults;s<c.length;s++){var h=c[s];t+=h}var p=t/this.executionResults.length;console.log("".concat(p," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),c1=function(){var e=function(t,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(c[p]=h[p])},e(t,s)};return function(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(t,s);function c(){this.constructor=t}t.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}}(),qu=function(e,t,s,c){function h(p){return p instanceof s?p:new s(function(m){m(p)})}return new(s||(s=Promise))(function(p,m){function v(O){try{w(c.next(O))}catch(I){m(I)}}function E(O){try{w(c.throw(O))}catch(I){m(I)}}function w(O){O.done?p(O.value):h(O.value).then(v,E)}w((c=c.apply(e,t||[])).next())})},Qu=function(e,t){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,h,p,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(w){return function(O){return E([w,O])}}function E(w){if(c)throw new TypeError("Generator is already executing.");for(;m&&(m=0,w[0]&&(s=0)),s;)try{if(c=1,h&&(p=w[0]&2?h.return:w[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,w[1])).done)return p;switch(h=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return s.label++,{value:w[1],done:!1};case 5:s.label++,h=w[1],w=[0];continue;case 7:w=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){s=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){s.label=w[1];break}if(w[0]===6&&s.label<p[1]){s.label=p[1],p=w;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(w);break}p[2]&&s.ops.pop(),s.trys.pop();continue}w=t.call(e,s)}catch(O){w=[6,O],h=0}finally{c=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},e2=function(){function e(t,s){this.name=t,this.track=s}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var s={};s[this.name]=t;var c={advanced:[s]};return this.track.applyConstraints(c)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var s=t[this.name];return s}return null},e}(),Uw=function(e){c1(t,e);function t(s,c){return e.call(this,s,c)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(s){var c={};c[this.name]=s;var h={advanced:[c]};return this.track.applyConstraints(h)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities(),c=s[this.name];return{min:c.min,max:c.max,step:c.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(e2),jw=function(e){c1(t,e);function t(s){return e.call(this,"zoom",s)||this}return t}(Uw),Vw=function(e){c1(t,e);function t(s){return e.call(this,"torch",s)||this}return t}(e2),zw=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new jw(this.track)},e.prototype.torchFeature=function(){return new Vw(this.track)},e}(),Ww=function(){function e(t,s,c){this.isClosed=!1,this.parentElement=t,this.mediaStream=s,this.callbacks=c,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var s=document.createElement("video");return s.style.width="".concat(t,"px"),s.style.display="block",s.muted=!0,s.setAttribute("muted","true"),s.playsInline=!0,s},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var s=function(){var c=t.surface.clientWidth,h=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(c,h),t.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,s,c,h){return qu(this,void 0,void 0,function(){var p,m;return Qu(this,function(v){switch(v.label){case 0:return p=new e(t,s,h),c.aspectRatio?(m={aspectRatio:c.aspectRatio},[4,p.getFirstTrackOrFail().applyConstraints(m)]):[3,2];case 1:v.sent(),v.label=2;case 2:return p.setupSurface(),[2,p]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var s=this,c=function(){setTimeout(t,200),s.surface.removeEventListener("playing",c)};this.surface.addEventListener("playing",c),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return qu(this,void 0,void 0,function(){return Qu(this,function(s){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(s,c){var h=t.mediaStream.getVideoTracks(),p=h.length,m=0;t.mediaStream.getVideoTracks().forEach(function(v){t.mediaStream.removeTrack(v),v.stop(),++m,m>=p&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),s())})})},e.prototype.getCapabilities=function(){return new zw(this.getFirstTrackOrFail())},e}(),Hw=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,s,c){return qu(this,void 0,void 0,function(){return Qu(this,function(h){return[2,Ww.create(t,this.mediaStream,s,c)]})})},e.create=function(t){return qu(this,void 0,void 0,function(){var s,c;return Qu(this,function(h){switch(h.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return s={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(s)];case 1:return c=h.sent(),[2,new e(c)]}})})},e}(),G0=function(e,t,s,c){function h(p){return p instanceof s?p:new s(function(m){m(p)})}return new(s||(s=Promise))(function(p,m){function v(O){try{w(c.next(O))}catch(I){m(I)}}function E(O){try{w(c.throw(O))}catch(I){m(I)}}function w(O){O.done?p(O.value):h(O.value).then(v,E)}w((c=c.apply(e,t||[])).next())})},X0=function(e,t){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,h,p,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(w){return function(O){return E([w,O])}}function E(w){if(c)throw new TypeError("Generator is already executing.");for(;m&&(m=0,w[0]&&(s=0)),s;)try{if(c=1,h&&(p=w[0]&2?h.return:w[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,w[1])).done)return p;switch(h=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return s.label++,{value:w[1],done:!1};case 5:s.label++,h=w[1],w=[0];continue;case 7:w=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){s=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){s.label=w[1];break}if(w[0]===6&&s.label<p[1]){s.label=p[1],p=w;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(w);break}p[2]&&s.ops.pop(),s.trys.pop();continue}w=t.call(e,s)}catch(O){w=[6,O],h=0}finally{c=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Gw=function(){function e(){}return e.failIfNotSupported=function(){return G0(this,void 0,void 0,function(){return X0(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return G0(this,void 0,void 0,function(){return X0(this,function(s){return[2,Hw.create(t)]})})},e}(),Xw=function(e,t,s,c){function h(p){return p instanceof s?p:new s(function(m){m(p)})}return new(s||(s=Promise))(function(p,m){function v(O){try{w(c.next(O))}catch(I){m(I)}}function E(O){try{w(c.throw(O))}catch(I){m(I)}}function w(O){O.done?p(O.value):h(O.value).then(v,E)}w((c=c.apply(e,t||[])).next())})},Kw=function(e,t){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,h,p,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(w){return function(O){return E([w,O])}}function E(w){if(c)throw new TypeError("Generator is already executing.");for(;m&&(m=0,w[0]&&(s=0)),s;)try{if(c=1,h&&(p=w[0]&2?h.return:w[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,w[1])).done)return p;switch(h=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return s.label++,{value:w[1],done:!1};case 5:s.label++,h=w[1],w=[0];continue;case 7:w=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){s=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){s.label=w[1];break}if(w[0]===6&&s.label<p[1]){s.label=p[1],p=w;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(w);break}p[2]&&s.ops.pop(),s.trys.pop();continue}w=t.call(e,s)}catch(O){w=[6,O],h=0}finally{c=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Yw=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Mo.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Mo.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return Xw(this,void 0,void 0,function(){var t,s,c,h,p,m,v;return Kw(this,function(E){switch(E.label){case 0:return t=function(w){for(var O=w.getVideoTracks(),I=0,B=O;I<B.length;I++){var V=B[I];V.enabled=!1,V.stop(),w.removeTrack(V)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return s=E.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(c=E.sent(),h=[],p=0,m=c;p<m.length;p++)v=m[p],v.kind==="videoinput"&&h.push({id:v.deviceId,label:v.label});return t(s),[2,h]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,s){var c=function(p){for(var m=[],v=0,E=p;v<E.length;v++){var w=E[v];w.kind==="video"&&m.push({id:w.id,label:w.label})}t(m)},h=MediaStreamTrack;h.getSources(c)})},e}(),Vt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Vt||(Vt={}));var qw=function(){function e(){this.state=Vt.NOT_STARTED,this.onGoingTransactionNewState=Vt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Vt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Vt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Vt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Vt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Vt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Vt.UNKNOWN:throw"Transition from unknown is not allowed";case Vt.NOT_STARTED:this.failIfNewStateIs(t,[Vt.PAUSED]);break;case Vt.SCANNING:break;case Vt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,s){for(var c=0,h=s;c<h.length;c++){var p=h[c];if(t===p)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),Qw=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Vt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Vt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Vt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Vt.PAUSED},e}(),Zw=function(){function e(){}return e.create=function(){return new Qw(new qw)},e}(),Jw=function(){var e=function(t,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(c[p]=h[p])},e(t,s)};return function(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(t,s);function c(){this.constructor=t}t.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}}(),er=function(e){Jw(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Dw),$w=function(){function e(t,s){this.logger=s,this.fps=er.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=er.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?$g.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!pi(this.qrbox)},e.create=function(t,s){return new e(t,s)},e}(),ev=function(){function e(t,s){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var c;typeof s=="boolean"?this.verbose=s===!0:s&&(c=s,this.verbose=c.verbose===!0,c.experimentalFeatures),this.logger=new Pw(this.verbose),this.qrcode=new Fw(this.getSupportedFormats(s),this.getUseBarCodeDetectorIfSupported(c),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Zw.create()}return e.prototype.start=function(t,s,c,h){var p=this;if(!t)throw"cameraIdOrConfig is required";if(!c||typeof c!="function")throw"qrCodeSuccessCallback is required and should be a function.";var m;h?m=h:m=this.verbose?this.logger.log:function(){};var v=$w.create(s,this.logger);this.clearElement();var E=!1;v.videoConstraints&&(v.isMediaStreamConstraintsValid()?E=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var w=E,O=document.getElementById(this.elementId);O.clientWidth?O.clientWidth:er.DEFAULT_WIDTH,O.style.position="relative",this.shouldScan=!0,this.element=O;var I=this,B=this.stateManagerProxy.startTransition(Vt.SCANNING);return new Promise(function(V,K){var G=w?v.videoConstraints:I.createVideoConstraints(t);if(!G){B.cancel(),K("videoConstraints should be defined");return}var se={};(!w||v.aspectRatio)&&(se.aspectRatio=v.aspectRatio);var L={onRenderSurfaceReady:function(T,P){I.setupUi(T,P,v),I.isScanning=!0,I.foreverScan(v,c,m)}};Gw.failIfNotSupported().then(function(T){T.create(G).then(function(P){return P.render(p.element,se,L).then(function(z){I.renderedCamera=z,B.execute(),V(null)}).catch(function(z){B.cancel(),K(z)})}).catch(function(P){B.cancel(),K(Mo.errorGettingUserMedia(P))})}).catch(function(T){B.cancel(),K(Mo.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Vt.PAUSED),this.showPausedState(),(pi(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,s=function(){t.stateManagerProxy.directTransition(Vt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){s();return}this.renderedCamera.resume(function(){s()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var s=this.stateManagerProxy.startTransition(Vt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var c=function(){if(t.element){var p=document.getElementById(er.SHADED_REGION_ELEMENT_ID);p&&t.element.removeChild(p)}},h=this;return this.renderedCamera.close().then(function(){return h.renderedCamera=null,h.element&&(h.element.removeChild(h.canvasElement),h.canvasElement=null),c(),h.qrRegion&&(h.qrRegion=null),h.context&&(h.context=null),s.execute(),h.hidePausedState(),h.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,s){return this.scanFileV2(t,s).then(function(c){return c.decodedText})},e.prototype.scanFileV2=function(t,s){var c=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(pi(s)&&(s=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(h,p){c.possiblyCloseLastScanImageFile(),c.clearElement(),c.lastScanImageFile=URL.createObjectURL(t);var m=new Image;m.onload=function(){var v=m.width,E=m.height,w=document.getElementById(c.elementId),O=w.clientWidth?w.clientWidth:er.DEFAULT_WIDTH,I=Math.max(w.clientHeight?w.clientHeight:E,er.FILE_SCAN_MIN_HEIGHT),B=c.computeCanvasDrawConfig(v,E,O,I);if(s){var V=c.createCanvasElement(O,I,"qr-canvas-visible");V.style.display="inline-block",w.appendChild(V);var K=V.getContext("2d");if(!K)throw"Unable to get 2d context from canvas";K.canvas.width=O,K.canvas.height=I,K.drawImage(m,0,0,v,E,B.x,B.y,B.width,B.height)}var G=er.FILE_SCAN_HIDDEN_CANVAS_PADDING,se=Math.max(m.width,B.width),L=Math.max(m.height,B.height),T=se+2*G,P=L+2*G,z=c.createCanvasElement(T,P);w.appendChild(z);var oe=z.getContext("2d");if(!oe)throw"Unable to get 2d context from canvas";oe.canvas.width=T,oe.canvas.height=P,oe.drawImage(m,0,0,v,E,G,G,se,L);try{c.qrcode.decodeRobustlyAsync(z).then(function(ne){h(j0.createFromQrcodeResult(ne))}).catch(p)}catch(ne){p("QR code parse error, error = ".concat(ne))}},m.onerror=p,m.onabort=p,m.onstalled=p,m.onsuspend=p,m.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Yw.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!$g.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var s=[Ee.QR_CODE,Ee.AZTEC,Ee.CODABAR,Ee.CODE_39,Ee.CODE_93,Ee.CODE_128,Ee.DATA_MATRIX,Ee.MAXICODE,Ee.ITF,Ee.EAN_13,Ee.EAN_8,Ee.PDF_417,Ee.RSS_14,Ee.RSS_EXPANDED,Ee.UPC_A,Ee.UPC_E,Ee.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return s;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var c=[],h=0,p=t.formatsToSupport;h<p.length;h++){var m=p[h];Rw(m)?c.push(m):this.logger.warn("Invalid format: ".concat(m," passed in config, ignoring."))}if(c.length===0)throw"None of formatsToSupport match supported values.";return c},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(pi(t))return!0;if(!pi(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(pi(t.experimentalFeatures))return!0;var s=t.experimentalFeatures;return pi(s.useBarCodeDetectorIfSupported)?!0:s.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,s,c){var h=this,p=c.qrbox;this.validateQrboxConfig(p);var m=this.toQrdimensions(t,s,p),v=function(w){if(w<er.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(er.MIN_QR_BOX_SIZE,"px.")},E=function(w){return w>t&&(h.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),w=t),w};v(m.width),v(m.height),m.width=E(m.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,s,c){if(typeof c=="number")return{width:c,height:c};if(typeof c=="function")try{return c(t,s)}catch(h){throw new Error("qrbox config was passed as a function but it failed with unknown error"+h)}return c},e.prototype.setupUi=function(t,s,c){c.isShadedBoxEnabled()&&this.validateQrboxSize(t,s,c);var h=pi(c.qrbox)?{width:t,height:s}:c.qrbox;this.validateQrboxConfig(h);var p=this.toQrdimensions(t,s,h);p.height>s&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var m=c.isShadedBoxEnabled()&&p.height<=s,v={x:0,y:0,width:t,height:s},E=m?this.getShadedRegionBounds(t,s,p):v,w=this.createCanvasElement(E.width,E.height),O={willReadFrequently:!0},I=w.getContext("2d",O);I.canvas.width=E.width,I.canvas.height=E.height,this.element.append(w),m&&this.possiblyInsertShadingElement(this.element,t,s,p),this.createScannerPausedUiElement(this.element),this.qrRegion=E,this.context=I,this.canvasElement=w},e.prototype.createScannerPausedUiElement=function(t){var s=document.createElement("div");s.innerText=Mo.scannerPaused(),s.style.display="none",s.style.position="absolute",s.style.top="0px",s.style.zIndex="1",s.style.background="rgba(9, 9, 9, 0.46)",s.style.color="#FFECEC",s.style.textAlign="center",s.style.width="100%",t.appendChild(s),this.scannerPausedUiElement=s},e.prototype.scanContext=function(t,s){var c=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(h){return t(h.text,j0.createFromQrcodeResult(h)),c.possiblyUpdateShaders(!0),!0}).catch(function(h){c.possiblyUpdateShaders(!1);var p=Mo.codeParseError(h);return s(p,kw.createFrom(p)),!1})},e.prototype.foreverScan=function(t,s,c){var h=this;if(this.shouldScan&&this.renderedCamera){var p=this.renderedCamera.getSurface(),m=p.videoWidth/p.clientWidth,v=p.videoHeight/p.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var E=this.qrRegion.width*m,w=this.qrRegion.height*v,O=this.qrRegion.x*m,I=this.qrRegion.y*v;this.context.drawImage(p,O,I,E,w,0,0,this.qrRegion.width,this.qrRegion.height);var B=function(){h.foreverScanTimeout=setTimeout(function(){h.foreverScan(t,s,c)},h.getTimeoutFps(t.fps))};this.scanContext(s,c).then(function(V){!V&&t.disableFlip!==!0?(h.context.translate(h.context.canvas.width,0),h.context.scale(-1,1),h.scanContext(s,c).finally(function(){B()})):B()}).catch(function(V){h.logger.logError("Error happend while scanning context",V),B()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var s="facingMode",c="deviceId",h={user:!0,environment:!0},p="exact",m=function(K){if(K in h)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(K,"'")},v=Object.keys(t);if(v.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(v.length," keys");var E=Object.keys(t)[0];if(E!==s&&E!==c)throw"Only '".concat(s,"' and '").concat(c,"' ")+" are supported for 'cameraIdOrConfig'";if(E===s){var w=t.facingMode;if(typeof w=="string"){if(m(w))return{facingMode:w}}else if(typeof w=="object")if(p in w){if(m(w["".concat(p)]))return{facingMode:{exact:w["".concat(p)]}}}else throw"'facingMode' should be string or object with"+" ".concat(p," as key.");else{var O=typeof w;throw"Invalid type of 'facingMode' = ".concat(O)}}else{var I=t.deviceId;if(typeof I=="string")return{deviceId:I};if(typeof I=="object"){if(p in I)return{deviceId:{exact:I["".concat(p)]}};throw"'deviceId' should be string or object with"+" ".concat(p," as key.")}else{var B=typeof I;throw"Invalid type of 'deviceId' = ".concat(B)}}}var V=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(V)},e.prototype.computeCanvasDrawConfig=function(t,s,c,h){if(t<=c&&s<=h){var p=(c-t)/2,m=(h-s)/2;return{x:p,y:m,width:t,height:s}}else{var v=t,E=s;return t>c&&(s=c/t*s,t=c),s>h&&(t=h/s*t,s=h),this.logger.log("Image downsampled from "+"".concat(v,"X").concat(E)+" to ".concat(t,"X").concat(s,".")),this.computeCanvasDrawConfig(t,s,c,h)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(s){s.style.backgroundColor=t?er.BORDER_SHADER_MATCH_COLOR:er.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,s,c){var h=t,p=s,m=document.createElement("canvas");return m.style.width="".concat(h,"px"),m.style.height="".concat(p,"px"),m.style.display="none",m.id=pi(c)?"qr-canvas":c,m},e.prototype.getShadedRegionBounds=function(t,s,c){if(c.width>t||c.height>s)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-c.width)/2,y:(s-c.height)/2,width:c.width,height:c.height}},e.prototype.possiblyInsertShadingElement=function(t,s,c,h){if(!(s-h.width<1||c-h.height<1)){var p=document.createElement("div");p.style.position="absolute";var m=(s-h.width)/2,v=(c-h.height)/2;if(p.style.borderLeft="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderRight="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderTop="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderBottom="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),p.style.boxSizing="border-box",p.style.top="0px",p.style.bottom="0px",p.style.left="0px",p.style.right="0px",p.id="".concat(er.SHADED_REGION_ELEMENT_ID),s-h.width<11||c-h.height<11)this.hasBorderShaders=!1;else{var E=5,w=40;this.insertShaderBorders(p,w,E,-E,null,0,!0),this.insertShaderBorders(p,w,E,-E,null,0,!1),this.insertShaderBorders(p,w,E,null,-E,0,!0),this.insertShaderBorders(p,w,E,null,-E,0,!1),this.insertShaderBorders(p,E,w+E,-E,null,-E,!0),this.insertShaderBorders(p,E,w+E,null,-E,-E,!0),this.insertShaderBorders(p,E,w+E,-E,null,-E,!1),this.insertShaderBorders(p,E,w+E,null,-E,-E,!1),this.hasBorderShaders=!0}t.append(p)}},e.prototype.insertShaderBorders=function(t,s,c,h,p,m,v){var E=document.createElement("div");E.style.position="absolute",E.style.backgroundColor=er.BORDER_SHADER_DEFAULT_COLOR,E.style.width="".concat(s,"px"),E.style.height="".concat(c,"px"),h!==null&&(E.style.top="".concat(h,"px")),p!==null&&(E.style.bottom="".concat(p,"px")),v?E.style.left="".concat(m,"px"):E.style.right="".concat(m,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(E),t.appendChild(E)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),K0;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(K0||(K0={}));function tv({onScan:e}){const[t,s]=ie.useState(!1),[c,h]=ie.useState(null),p=ie.useRef(null),m=ie.useRef(`qr-region-${Math.random().toString(36).slice(2)}`);ie.useEffect(()=>(p.current=new ev(m.current),()=>{var w,O;(w=p.current)==null||w.stop().catch(()=>{}),(O=p.current)==null||O.clear()}),[]);const v=async()=>{if(p.current){h(null);try{await p.current.start({facingMode:"environment"},{fps:10,qrbox:{width:220,height:220}},w=>{e(w),E().catch(()=>{})},()=>{}),s(!0)}catch{h("Camera access failed. Please allow camera permissions.")}}},E=async()=>{p.current&&(await p.current.stop(),s(!1))};return Q.jsxs("div",{className:"qr-scanner",children:[Q.jsx("div",{id:m.current,className:"qr-region"}),Q.jsxs("div",{className:"qr-actions",children:[Q.jsx("button",{className:"ghost",type:"button",onClick:t?E:v,children:t?"Stop Camera":"Start Camera"}),c?Q.jsx("p",{className:"error-text",children:c}):null]})]})}function nv(){const[e,t]=ie.useState("in"),[s,c]=ie.useState(""),[h,p]=ie.useState(null),[m,v]=ie.useState(null),E=u1(),w=ah({mutationFn:async O=>{v(null);const I=(O??s).trim();if(!I)throw new Error("Enter an employee ID.");if(!E){const B=await Cw(I);if(!B)throw new Error("Employee not found in offline cache.");const V=new Date().toISOString();if(e==="in"){const G={id:crypto.randomUUID(),employee_id:B.employee_id,employee_name:B.name,date:V.split("T")[0],time_in:V,time_out:null,voucher_printed:!1,synced:!1};return await Aw(G),await uh(),G}const K=await _w(I);if(!K)throw new Error("No open voucher found offline.");return await bw(K.id,{time_out:V,synced:!1}),await uh(),{...K,time_out:V,synced:!1}}return e==="in"?gw(I):mw(I)},onSuccess:O=>{p(O),c("")},onError:O=>{v(O instanceof Error?O.message:"Something went wrong.")}});return Q.jsxs("section",{className:"page",children:[Q.jsxs("div",{className:"page-header",children:[Q.jsxs("div",{children:[Q.jsx("h2",{children:"Scan & Validate"}),Q.jsx("p",{children:"Use QR camera or type an employee ID to check in or out."})]}),Q.jsxs("div",{className:"toggle",children:[Q.jsx("button",{type:"button",className:e==="in"?"toggle-btn active":"toggle-btn",onClick:()=>t("in"),children:"Check In"}),Q.jsx("button",{type:"button",className:e==="out"?"toggle-btn active":"toggle-btn",onClick:()=>t("out"),children:"Check Out"})]})]}),Q.jsxs("div",{className:"scan-grid",children:[Q.jsxs("div",{className:"scan-card",children:[Q.jsx("div",{className:"scan-window",children:Q.jsx(tv,{onScan:O=>{c(O),w.mutate(O)}})}),Q.jsxs("div",{className:"scan-actions",children:[Q.jsxs("label",{className:"field",children:["Manual ID",Q.jsx("input",{value:s,onChange:O=>c(O.target.value),placeholder:"e.g. EMP-1024"})]}),Q.jsx("button",{className:"primary",type:"button",onClick:()=>w.mutate(void 0),disabled:w.isPending,children:w.isPending?"Processing...":e==="in"?"Record Check In":"Record Check Out"}),m?Q.jsx("p",{className:"error-text",children:m}):null]})]}),Q.jsxs("div",{className:"scan-summary",children:[Q.jsx("h3",{children:"Latest Activity"}),h?Q.jsx(Nw,{entry:h}):Q.jsx("p",{className:"muted",children:"No scans yet. Scan to generate a voucher preview."}),h&&h.time_out?Q.jsx(Ow,{entry:h}):null,Q.jsx("div",{className:"hint",children:Q.jsx("p",{children:"Tip: Keep the device steady and align the QR code within the frame."})})]})]})]})}function Y0(e){return e?new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--"}function rv(){const{data:e,isLoading:t,error:s}=Xu({queryKey:["vouchers"],queryFn:qg}),c=Array.from(new Set((e??[]).map(I=>I.date))).filter(Boolean).sort((I,B)=>B.localeCompare(I)),[h,p]=ie.useState(new Date().toISOString().split("T")[0]),[m,v]=ie.useState(""),[E,w]=ie.useState(null),O=async()=>{try{if(w(null),!m){w("Enter admin PIN to download the report.");return}const I=await Qg(h,m),B=URL.createObjectURL(I),V=document.createElement("a");V.href=B,V.download=`voucher_report_${h}.csv`,document.body.appendChild(V),V.click(),V.remove(),URL.revokeObjectURL(B),w("Report downloaded.")}catch(I){w(I instanceof Error?I.message:"Report download failed.")}};return Q.jsxs("section",{className:"page",children:[Q.jsx("div",{className:"page-header",children:Q.jsxs("div",{children:[Q.jsx("h2",{children:"Daily History"}),Q.jsx("p",{children:"Track check-ins and check-outs across the day."})]})}),Q.jsxs("div",{className:"panel",children:[t?Q.jsx("p",{children:"Loading vouchers..."}):null,s?Q.jsx("p",{className:"error-text",children:"Unable to load history."}):null,!t&&e&&e.length===0?Q.jsx("p",{className:"muted",children:"No voucher activity yet."}):null,e&&e.length>0?Q.jsxs("div",{className:"table",children:[Q.jsxs("div",{className:"table-head",children:[Q.jsx("span",{children:"Employee"}),Q.jsx("span",{children:"Time In"}),Q.jsx("span",{children:"Time Out"}),Q.jsx("span",{children:"Status"})]}),e.map(I=>Q.jsxs("div",{className:"table-row",children:[Q.jsxs("div",{children:[Q.jsx("p",{className:"value",children:I.employee_name}),Q.jsx("p",{className:"sub",children:I.employee_id})]}),Q.jsx("span",{children:Y0(I.time_in)}),Q.jsx("span",{children:Y0(I.time_out)}),Q.jsx("span",{className:`badge ${I.time_out?"complete":"open"}`,children:I.time_out?"Complete":"Open"})]},I.id))]}):null]}),Q.jsxs("div",{className:"panel report-panel",children:[Q.jsxs("div",{children:[Q.jsx("h3",{children:"Download Daily Report"}),Q.jsx("p",{className:"muted",children:"Requires admin PIN. Generates a CSV for the selected date."})]}),Q.jsxs("div",{children:[Q.jsx("h4",{children:"Available Dates"}),c.length?Q.jsx("div",{className:"report-date-list",children:c.map(I=>Q.jsx("button",{type:"button",className:I===h?"ghost active":"ghost",onClick:()=>p(I),children:I},I))}):Q.jsx("p",{className:"muted",children:"No voucher data yet, so no reports are available."})]}),Q.jsxs("div",{className:"report-actions",children:[Q.jsxs("label",{className:"field",children:["Report Date",Q.jsx("input",{type:"date",value:h,onChange:I=>p(I.target.value)})]}),Q.jsxs("label",{className:"field",children:["Admin PIN",Q.jsx("input",{type:"password",value:m,onChange:I=>v(I.target.value),placeholder:"Enter admin PIN"})]}),Q.jsx("button",{className:"primary",type:"button",onClick:O,children:"Download CSV"})]}),E?Q.jsx("p",{className:"status-message",children:E}):null]})]})}function iv(){const[e,t]=ie.useState(""),[s,c]=ie.useState(!1),[h,p]=ie.useState(null),[m,v]=ie.useState(null),[E,w]=ie.useState(new Date().toISOString().split("T")[0]),[O,I]=ie.useState(null),{data:B}=Xu({queryKey:["employees"],queryFn:Yg}),V=Xu({queryKey:["voucher-dates"],queryFn:qg}),K=Array.from(new Set((V.data??[]).map(T=>T.date))).filter(Boolean).sort((T,P)=>P.localeCompare(T)),G=ah({mutationFn:()=>xw(e),onSuccess:T=>{c(T.valid),v(T.valid?"PIN verified.":"Invalid PIN.")},onError:()=>v("PIN verification failed.")}),se=ah({mutationFn:()=>{if(!h)throw new Error("Select a CSV file to import.");if(!s)throw new Error("Verify admin PIN first.");return yw(h,e)},onSuccess:T=>{v(`Imported ${T.created} new, updated ${T.updated}.`),p(null)},onError:T=>{v(T instanceof Error?T.message:"Import failed.")}}),L=async()=>{try{if(I(null),!e){I("Enter admin PIN to download the report.");return}const T=await Qg(E,e),P=URL.createObjectURL(T),z=document.createElement("a");z.href=P,z.download=`voucher_report_${E}.csv`,document.body.appendChild(z),z.click(),z.remove(),URL.revokeObjectURL(P),I("Report downloaded.")}catch(T){I(T instanceof Error?T.message:"Report download failed.")}};return Q.jsxs("section",{className:"page",children:[Q.jsx("div",{className:"page-header",children:Q.jsxs("div",{children:[Q.jsx("h2",{children:"Admin Control"}),Q.jsx("p",{children:"Manage employee roster, imports, and data integrity."})]})}),Q.jsxs("div",{className:"admin-grid",children:[Q.jsxs("div",{className:"panel",children:[Q.jsx("h3",{children:"Verify Admin PIN"}),Q.jsxs("label",{className:"field",children:["PIN Code",Q.jsx("input",{type:"password",value:e,onChange:T=>t(T.target.value),placeholder:"Enter admin PIN"})]}),Q.jsx("button",{className:"primary",type:"button",onClick:()=>G.mutate(),children:"Verify PIN"}),s?Q.jsx("p",{className:"success-text",children:"Verified"}):null]}),Q.jsxs("div",{className:"panel",children:[Q.jsx("h3",{children:"CSV Import"}),Q.jsx("input",{type:"file",accept:".csv",onChange:T=>{var P;return p(((P=T.target.files)==null?void 0:P[0])||null)}}),Q.jsx("button",{className:"primary",type:"button",onClick:()=>se.mutate(),children:"Import Employees"}),Q.jsx("p",{className:"muted",children:"Required columns: employee_id, name. Optional: department, is_active."})]}),Q.jsxs("div",{className:"panel",children:[Q.jsx("h3",{children:"Employee Snapshot"}),Q.jsxs("div",{className:"employee-list",children:[B==null?void 0:B.slice(0,6).map(T=>Q.jsxs("div",{className:"employee-card",children:[Q.jsxs("div",{children:[Q.jsx("p",{className:"value",children:T.name}),Q.jsx("p",{className:"sub",children:T.employee_id})]}),Q.jsx("span",{className:`badge ${T.is_active?"active":"inactive"}`,children:T.is_active?"Active":"Inactive"})]},T.employee_id)),B!=null&&B.length?null:Q.jsx("p",{className:"muted",children:"No employees loaded yet."})]})]}),Q.jsxs("div",{className:"panel",children:[Q.jsx("h3",{children:"Daily Report"}),Q.jsx("p",{className:"muted",children:"Download CSV reports with the verified admin PIN."}),Q.jsxs("div",{children:[Q.jsx("h4",{children:"Available Dates"}),K.length?Q.jsx("div",{className:"report-date-list",children:K.map(T=>Q.jsx("button",{type:"button",className:T===E?"ghost active":"ghost",onClick:()=>w(T),children:T},T))}):Q.jsx("p",{className:"muted",children:"No voucher data yet, so no reports are available."})]}),Q.jsxs("label",{className:"field",children:["Report Date",Q.jsx("input",{type:"date",value:E,onChange:T=>w(T.target.value)})]}),Q.jsx("button",{className:"primary",type:"button",onClick:L,children:"Download Report"}),O?Q.jsx("p",{className:"status-message",children:O}):null]})]}),m?Q.jsx("p",{className:"status-message",children:m}):null]})}function sv(){const e=Xu({queryKey:["employees","cache"],queryFn:Yg,staleTime:6e5});return ie.useEffect(()=>{e.data&&Ew(e.data).catch(()=>{})},[e.data]),e}function ov(){const e=u1();ie.useEffect(()=>{e?Tw().catch(()=>{}):uh().catch(()=>{})},[e])}const av=[{to:"/",label:"Scan"},{to:"/history",label:"History"},{to:"/admin",label:"Admin"}];function lv(){const e=u1();return sv(),ov(),Q.jsxs("div",{className:"app-root",children:[Q.jsxs("header",{className:"app-header",children:[Q.jsxs("div",{children:[Q.jsx("p",{className:"eyebrow",children:"Meal Voucher Tracker"}),Q.jsx("h1",{children:"Voucher Flow"})]}),Q.jsxs("div",{className:`status-pill ${e?"online":"offline"}`,children:[Q.jsx("span",{className:"dot"}),e?"Online":"Offline"]})]}),Q.jsx("nav",{className:"app-nav",children:av.map(t=>Q.jsx(Ry,{to:t.to,className:({isActive:s})=>s?"nav-link active":"nav-link",end:t.to==="/",children:t.label},t.to))}),Q.jsx("main",{className:"app-main",children:Q.jsxs(wy,{children:[Q.jsx(mu,{path:"/",element:Q.jsx(nv,{})}),Q.jsx(mu,{path:"/history",element:Q.jsx(rv,{})}),Q.jsx(mu,{path:"/admin",element:Q.jsx(iv,{})})]})})]})}const uv="modulepreload",cv=function(e){return"/"+e},q0={},fv=function(t,s,c){let h=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),m=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));h=Promise.all(s.map(v=>{if(v=cv(v),v in q0)return;q0[v]=!0;const E=v.endsWith(".css"),w=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${w}`))return;const O=document.createElement("link");if(O.rel=E?"stylesheet":uv,E||(O.as="script",O.crossOrigin=""),O.href=v,m&&O.setAttribute("nonce",m),document.head.appendChild(O),E)return new Promise((I,B)=>{O.addEventListener("load",I),O.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${v}`)))})}))}return h.then(()=>t()).catch(p=>{const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=p,window.dispatchEvent(m),!m.defaultPrevented)throw p})};function hv(e={}){const{immediate:t=!1,onNeedRefresh:s,onOfflineReady:c,onRegistered:h,onRegisteredSW:p,onRegisterError:m}=e;let v,E;const w=async(I=!0)=>{await E};async function O(){if("serviceWorker"in navigator){if(v=await fv(async()=>{const{Workbox:I}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:I}},[]).then(({Workbox:I})=>new I("/sw.js",{scope:"/",type:"classic"})).catch(I=>{m==null||m(I)}),!v)return;v.addEventListener("activated",I=>{(I.isUpdate||I.isExternal)&&window.location.reload()}),v.addEventListener("installed",I=>{I.isUpdate||c==null||c()}),v.register({immediate:t}).then(I=>{p?p("/sw.js",I):h==null||h(I)}).catch(I=>{m==null||m(I)})}}return E=O(),w}const dv=new Qy;hv({immediate:!0});Zc.createRoot(document.getElementById("root")).render(Q.jsx(xd.StrictMode,{children:Q.jsx(tw,{client:dv,children:Q.jsx(by,{children:Q.jsx(lv,{})})})}));
